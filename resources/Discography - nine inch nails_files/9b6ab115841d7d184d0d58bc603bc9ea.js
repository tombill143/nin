!function(t,e){var n,r;"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("underscore",e):(t="undefined"!=typeof globalThis?globalThis:t||self,n=t._,(r=t._=e()).noConflict=function(){return t._=n,r})}(this,(function(){var t="1.13.2",e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},n=Array.prototype,r=Object.prototype,i="undefined"!=typeof Symbol?Symbol.prototype:null,o=n.push,a=n.slice,s=r.toString,l=r.hasOwnProperty,u="undefined"!=typeof ArrayBuffer,c="undefined"!=typeof DataView,f=Array.isArray,h=Object.keys,d=Object.create,p=u&&ArrayBuffer.isView,m=isNaN,g=isFinite,v=!{toString:null}.propertyIsEnumerable("toString"),y=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],b=Math.pow(2,53)-1;function x(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}function w(t){var e=typeof t;return"function"===e||"object"===e&&!!t}function _(t){return void 0===t}function S(t){return!0===t||!1===t||"[object Boolean]"===s.call(t)}function j(t){var e="[object "+t+"]";return function(t){return s.call(t)===e}}var C=j("String"),I=j("Number"),E=j("Date"),T=j("RegExp"),k=j("Error"),O=j("Symbol"),L=j("ArrayBuffer"),A=j("Function"),M=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof M&&(A=function(t){return"function"==typeof t||!1});var P=A,z=j("Object"),Q=c&&z(new DataView(new ArrayBuffer(8))),R="undefined"!=typeof Map&&z(new Map),B=j("DataView"),N=Q?function(t){return null!=t&&P(t.getInt8)&&L(t.buffer)}:B,D=f||j("Array");function H(t,e){return null!=t&&l.call(t,e)}var W=j("Arguments");!function(){W(arguments)||(W=function(t){return H(t,"callee")})}();var F=W;function Y(t){return I(t)&&m(t)}function q(t){return function(){return t}}function X(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=b}}function $(t){return function(e){return null==e?void 0:e[t]}}var U=$("byteLength"),V=X(U),G=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Z=u?function(t){return p?p(t)&&!N(t):V(t)&&G.test(s.call(t))}:q(!1),J=$("length");function K(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=y.length,i=t.constructor,o=P(i)&&i.prototype||r,a="constructor";for(H(t,a)&&!e.contains(a)&&e.push(a);n--;)(a=y[n])in t&&t[a]!==o[a]&&!e.contains(a)&&e.push(a)}function tt(t){if(!w(t))return[];if(h)return h(t);var e=[];for(var n in t)H(t,n)&&e.push(n);return v&&K(t,e),e}function et(t,e){var n=tt(e),r=n.length;if(null==t)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}function nt(t){return t instanceof nt?t:this instanceof nt?void(this._wrapped=t):new nt(t)}function rt(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,U(t))}nt.VERSION=t,nt.prototype.value=function(){return this._wrapped},nt.prototype.valueOf=nt.prototype.toJSON=nt.prototype.value,nt.prototype.toString=function(){return String(this._wrapped)};var it="[object DataView]";function ot(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var o=typeof t;return("function"===o||"object"===o||"object"==typeof e)&&function t(e,n,r,o){e instanceof nt&&(e=e._wrapped),n instanceof nt&&(n=n._wrapped);var a=s.call(e);if(a!==s.call(n))return!1;if(Q&&"[object Object]"==a&&N(e)){if(!N(n))return!1;a=it}switch(a){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return i.valueOf.call(e)===i.valueOf.call(n);case"[object ArrayBuffer]":case it:return t(rt(e),rt(n),r,o)}var l="[object Array]"===a;if(!l&&Z(e)){if(U(e)!==U(n))return!1;if(e.buffer===n.buffer&&e.byteOffset===n.byteOffset)return!0;l=!0}if(!l){if("object"!=typeof e||"object"!=typeof n)return!1;var u=e.constructor,c=n.constructor;if(u!==c&&!(P(u)&&u instanceof u&&P(c)&&c instanceof c)&&"constructor"in e&&"constructor"in n)return!1}o=o||[];for(var f=(r=r||[]).length;f--;)if(r[f]===e)return o[f]===n;if(r.push(e),o.push(n),l){if((f=e.length)!==n.length)return!1;for(;f--;)if(!ot(e[f],n[f],r,o))return!1}else{var h,d=tt(e);if(f=d.length,tt(n).length!==f)return!1;for(;f--;)if(!H(n,h=d[f])||!ot(e[h],n[h],r,o))return!1}return r.pop(),o.pop(),!0}(t,e,n,r)}function at(t){if(!w(t))return[];var e=[];for(var n in t)e.push(n);return v&&K(t,e),e}function st(t){var e=J(t);return function(n){if(null==n)return!1;var r=at(n);if(J(r))return!1;for(var i=0;i<e;i++)if(!P(n[t[i]]))return!1;return t!==ht||!P(n[lt])}}var lt="forEach",ut=["clear","delete"],ct=["get","has","set"],ft=ut.concat(lt,ct),ht=ut.concat(ct),dt=["add"].concat(ut,lt,"has"),pt=R?st(ft):j("Map"),mt=R?st(ht):j("WeakMap"),gt=R?st(dt):j("Set"),vt=j("WeakSet");function yt(t){for(var e=tt(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function bt(t){for(var e={},n=tt(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function xt(t){var e=[];for(var n in t)P(t[n])&&e.push(n);return e.sort()}function wt(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,l=0;l<s;l++){var u=a[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}}var _t=wt(at),St=wt(tt),jt=wt(at,!0);function Ct(t){if(!w(t))return{};if(d)return d(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function It(t){return D(t)?t:[t]}function Et(t){return nt.toPath(t)}function Tt(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}function kt(t,e,n){var r=Tt(t,Et(e));return _(r)?n:r}function Ot(t){return t}function Lt(t){return t=St({},t),function(e){return et(e,t)}}function At(t){return t=Et(t),function(e){return Tt(e,t)}}function Mt(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}function Pt(t,e,n){return null==t?Ot:P(t)?Mt(t,e,n):w(t)&&!D(t)?Lt(t):At(t)}function zt(t,e){return Pt(t,e,1/0)}function Qt(t,e,n){return nt.iteratee!==zt?nt.iteratee(t,e):Pt(t,e,n)}function Rt(){}function Bt(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}nt.toPath=It,nt.iteratee=zt;var Nt=Date.now||function(){return(new Date).getTime()};function Dt(t){var e=function(e){return t[e]},n="(?:"+tt(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}var Ht={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Wt=Dt(Ht),Ft=Dt(bt(Ht)),Yt=nt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},qt=/(.)^/,Xt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$t=/\\|'|\r|\n|\u2028|\u2029/g;function Ut(t){return"\\"+Xt[t]}var Vt=/^\s*(\w|\$)+\s*$/,Gt=0;function Zt(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=Ct(t.prototype),a=t.apply(o,i);return w(a)?a:o}var Jt=x((function(t,e){var n=Jt.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return Zt(t,r,this,this,a)};return r}));Jt.placeholder=nt;var Kt=x((function(t,e,n){if(!P(t))throw new TypeError("Bind must be called on a function");var r=x((function(i){return Zt(t,r,e,this,n.concat(i))}));return r})),te=X(J);function ee(t,e,n,r){if(r=r||[],e||0===e){if(e<=0)return r.concat(t)}else e=1/0;for(var i=r.length,o=0,a=J(t);o<a;o++){var s=t[o];if(te(s)&&(D(s)||F(s)))if(e>1)ee(s,e-1,n,r),i=r.length;else for(var l=0,u=s.length;l<u;)r[i++]=s[l++];else n||(r[i++]=s)}return r}var ne=x((function(t,e){var n=(e=ee(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=Kt(t[r],t)}return t})),re=x((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),ie=Jt(re,nt,1);function oe(t){return function(){return!t.apply(this,arguments)}}function ae(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}var se=Jt(ae,2);function le(t,e,n){e=Qt(e,n);for(var r,i=tt(t),o=0,a=i.length;o<a;o++)if(e(t[r=i[o]],r,t))return r}function ue(t){return function(e,n,r){n=Qt(n,r);for(var i=J(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}var ce=ue(1),fe=ue(-1);function he(t,e,n,r){for(var i=(n=Qt(n,r,1))(e),o=0,a=J(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o}function de(t,e,n){return function(r,i,o){var s=0,l=J(r);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+l,s):l=o>=0?Math.min(o+1,l):o+l+1;else if(n&&o&&l)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=e(a.call(r,s,l),Y))>=0?o+s:-1;for(o=t>0?s:l-1;o>=0&&o<l;o+=t)if(r[o]===i)return o;return-1}}var pe=de(1,ce,he),me=de(-1,fe);function ge(t,e,n){var r=(te(t)?ce:le)(t,e,n);if(void 0!==r&&-1!==r)return t[r]}function ve(t,e,n){var r,i;if(e=Mt(e,n),te(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=tt(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t}function ye(t,e,n){e=Qt(e,n);for(var r=!te(t)&&tt(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o}function be(t){var e=function(e,n,r,i){var o=!te(e)&&tt(e),a=(o||e).length,s=t>0?0:a-1;for(i||(r=e[o?o[s]:s],s+=t);s>=0&&s<a;s+=t){var l=o?o[s]:s;r=n(r,e[l],l,e)}return r};return function(t,n,r,i){var o=arguments.length>=3;return e(t,Mt(n,i,4),r,o)}}var xe=be(1),we=be(-1);function _e(t,e,n){var r=[];return e=Qt(e,n),ve(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function Se(t,e,n){e=Qt(e,n);for(var r=!te(t)&&tt(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0}function je(t,e,n){e=Qt(e,n);for(var r=!te(t)&&tt(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1}function Ce(t,e,n,r){return te(t)||(t=yt(t)),("number"!=typeof n||r)&&(n=0),pe(t,e,n)>=0}var Ie=x((function(t,e,n){var r,i;return P(e)?i=e:(e=Et(e),r=e.slice(0,-1),e=e[e.length-1]),ye(t,(function(t){var o=i;if(!o){if(r&&r.length&&(t=Tt(t,r)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))}));function Ee(t,e){return ye(t,At(e))}function Te(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=te(t)?t:yt(t)).length;s<l;s++)null!=(r=t[s])&&r>o&&(o=r);else e=Qt(e,n),ve(t,(function(t,n,r){((i=e(t,n,r))>a||i===-1/0&&o===-1/0)&&(o=t,a=i)}));return o}var ke=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Oe(t){return t?D(t)?a.call(t):C(t)?t.match(ke):te(t)?ye(t,Ot):yt(t):[]}function Le(t,e,n){if(null==e||n)return te(t)||(t=yt(t)),t[Bt(t.length-1)];var r=Oe(t),i=J(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=Bt(a,o),l=r[a];r[a]=r[s],r[s]=l}return r.slice(0,e)}function Ae(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=Qt(r,i),ve(n,(function(e,i){var a=r(e,i,n);t(o,e,a)})),o}}var Me=Ae((function(t,e,n){H(t,n)?t[n].push(e):t[n]=[e]})),Pe=Ae((function(t,e,n){t[n]=e})),ze=Ae((function(t,e,n){H(t,n)?t[n]++:t[n]=1})),Qe=Ae((function(t,e,n){t[n?0:1].push(e)}),!0);function Re(t,e,n){return e in n}var Be=x((function(t,e){var n={},r=e[0];if(null==t)return n;P(r)?(e.length>1&&(r=Mt(r,e[1])),e=at(t)):(r=Re,e=ee(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n})),Ne=x((function(t,e){var n,r=e[0];return P(r)?(r=oe(r),e.length>1&&(n=e[1])):(e=ye(ee(e,!1,!1),String),r=function(t,n){return!Ce(e,n)}),Be(t,r,n)}));function De(t,e,n){return a.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function He(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:De(t,t.length-e)}function We(t,e,n){return a.call(t,null==e||n?1:e)}var Fe=x((function(t,e){return e=ee(e,!0,!0),_e(t,(function(t){return!Ce(e,t)}))})),Ye=x((function(t,e){return Fe(t,e)}));function qe(t,e,n,r){S(e)||(r=n,n=e,e=!1),null!=n&&(n=Qt(n,r));for(var i=[],o=[],a=0,s=J(t);a<s;a++){var l=t[a],u=n?n(l,a,t):l;e&&!n?(a&&o===u||i.push(l),o=u):n?Ce(o,u)||(o.push(u),i.push(l)):Ce(i,l)||i.push(l)}return i}var Xe=x((function(t){return qe(ee(t,!0,!0))}));function $e(t){for(var e=t&&Te(t,J).length||0,n=Array(e),r=0;r<e;r++)n[r]=Ee(t,r);return n}var Ue=x($e);function Ve(t,e){return t._chain?nt(e).chain():e}function Ge(t){return ve(xt(t),(function(e){var n=nt[e]=t[e];nt.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),Ve(this,n.apply(nt,t))}})),nt}ve(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=n[t];nt.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0]),Ve(this,n)}})),ve(["concat","join","slice"],(function(t){var e=n[t];nt.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),Ve(this,t)}}));var Ze=Ge({__proto__:null,VERSION:t,restArguments:x,isObject:w,isNull:function(t){return null===t},isUndefined:_,isBoolean:S,isElement:function(t){return!(!t||1!==t.nodeType)},isString:C,isNumber:I,isDate:E,isRegExp:T,isError:k,isSymbol:O,isArrayBuffer:L,isDataView:N,isArray:D,isFunction:P,isArguments:F,isFinite:function(t){return!O(t)&&g(t)&&!isNaN(parseFloat(t))},isNaN:Y,isTypedArray:Z,isEmpty:function(t){if(null==t)return!0;var e=J(t);return"number"==typeof e&&(D(t)||C(t)||F(t))?0===e:0===J(tt(t))},isMatch:et,isEqual:function(t,e){return ot(t,e)},isMap:pt,isWeakMap:mt,isSet:gt,isWeakSet:vt,keys:tt,allKeys:at,values:yt,pairs:function(t){for(var e=tt(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r},invert:bt,functions:xt,methods:xt,extend:_t,extendOwn:St,assign:St,defaults:jt,create:function(t,e){var n=Ct(t);return e&&St(n,e),n},clone:function(t){return w(t)?D(t)?t.slice():_t({},t):t},tap:function(t,e){return e(t),t},get:kt,has:function(t,e){for(var n=(e=Et(e)).length,r=0;r<n;r++){var i=e[r];if(!H(t,i))return!1;t=t[i]}return!!n},mapObject:function(t,e,n){e=Qt(e,n);for(var r=tt(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o},identity:Ot,constant:q,noop:Rt,toPath:It,property:At,propertyOf:function(t){return null==t?Rt:function(e){return kt(t,e)}},matcher:Lt,matches:Lt,times:function(t,e,n){var r=Array(Math.max(0,t));e=Mt(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r},random:Bt,now:Nt,escape:Wt,unescape:Ft,templateSettings:Yt,template:function(t,e,n){!e&&n&&(e=n),e=jt({},e,nt.templateSettings);var r=RegExp([(e.escape||qt).source,(e.interpolate||qt).source,(e.evaluate||qt).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,(function(e,n,r,a,s){return o+=t.slice(i,s).replace($t,Ut),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e})),o+="';\n";var a,s=e.variable;if(s){if(!Vt.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{a=new Function(s,"_",o)}catch(t){throw t.source=o,t}var l=function(t){return a.call(this,t,nt)};return l.source="function("+s+"){\n"+o+"}",l},result:function(t,e,n){var r=(e=Et(e)).length;if(!r)return P(n)?n.call(t):n;for(var i=0;i<r;i++){var o=null==t?void 0:t[e[i]];void 0===o&&(o=n,i=r),t=P(o)?o.call(t):o}return t},uniqueId:function(t){var e=++Gt+"";return t?t+e:e},chain:function(t){var e=nt(t);return e._chain=!0,e},iteratee:zt,partial:Jt,bind:Kt,bindAll:ne,memoize:function(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return H(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},delay:re,defer:ie,throttle:function(t,e,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=!1===n.leading?0:Nt(),r=null,a=t.apply(i,o),r||(i=o=null)},u=function(){var u=Nt();s||!1!==n.leading||(s=u);var c=e-(u-s);return i=this,o=arguments,c<=0||c>e?(r&&(clearTimeout(r),r=null),s=u,a=t.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(l,c)),a};return u.cancel=function(){clearTimeout(r),s=0,r=i=o=null},u},debounce:function(t,e,n){var r,i,o,a,s,l=function(){var u=Nt()-i;e>u?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(s,o)),r||(o=s=null))},u=x((function(u){return s=this,o=u,i=Nt(),r||(r=setTimeout(l,e),n&&(a=t.apply(s,o))),a}));return u.cancel=function(){clearTimeout(r),r=o=s=null},u},wrap:function(t,e){return Jt(e,t)},negate:oe,compose:function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},after:function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},before:ae,once:se,findKey:le,findIndex:ce,findLastIndex:fe,sortedIndex:he,indexOf:pe,lastIndexOf:me,find:ge,detect:ge,findWhere:function(t,e){return ge(t,Lt(e))},each:ve,forEach:ve,map:ye,collect:ye,reduce:xe,foldl:xe,inject:xe,reduceRight:we,foldr:we,filter:_e,select:_e,reject:function(t,e,n){return _e(t,oe(Qt(e)),n)},every:Se,all:Se,some:je,any:je,contains:Ce,includes:Ce,include:Ce,invoke:Ie,pluck:Ee,where:function(t,e){return _e(t,Lt(e))},max:Te,min:function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=te(t)?t:yt(t)).length;s<l;s++)null!=(r=t[s])&&r<o&&(o=r);else e=Qt(e,n),ve(t,(function(t,n,r){((i=e(t,n,r))<a||i===1/0&&o===1/0)&&(o=t,a=i)}));return o},shuffle:function(t){return Le(t,1/0)},sample:Le,sortBy:function(t,e,n){var r=0;return e=Qt(e,n),Ee(ye(t,(function(t,n,i){return{value:t,index:r++,criteria:e(t,n,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index-e.index})),"value")},groupBy:Me,indexBy:Pe,countBy:ze,partition:Qe,toArray:Oe,size:function(t){return null==t?0:te(t)?t.length:tt(t).length},pick:Be,omit:Ne,first:He,head:He,take:He,initial:De,last:function(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:We(t,Math.max(0,t.length-e))},rest:We,tail:We,drop:We,compact:function(t){return _e(t,Boolean)},flatten:function(t,e){return ee(t,e,!1)},without:Ye,uniq:qe,unique:qe,union:Xe,intersection:function(t){for(var e=[],n=arguments.length,r=0,i=J(t);r<i;r++){var o=t[r];if(!Ce(e,o)){var a;for(a=1;a<n&&Ce(arguments[a],o);a++);a===n&&e.push(o)}}return e},difference:Fe,unzip:$e,transpose:$e,zip:Ue,object:function(t,e){for(var n={},r=0,i=J(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},range:function(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i},chunk:function(t,e){if(null==e||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(a.call(t,r,r+=e));return n},mixin:Ge,default:nt});return Ze._=Ze,Ze})),function(t){var e="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],(function(n,r,i){e.Backbone=t(e,i,n,r)}));else if("undefined"!=typeof exports){var n,r=require("underscore");try{n=require("jquery")}catch(t){}t(e,exports,r,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}((function(t,e,n,r){var i=t.Backbone,o=Array.prototype.slice;e.VERSION="1.2.3",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,r){n.each(e,(function(e,i){n[i]&&(t.prototype[i]=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],s(t,this),i)};case 4:return function(t,i,o){return n[e](this[r],s(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}}(e,i,r))}))},s=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?l(t):n.isString(t)?function(e){return e.get(t)}:t},l=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},u=e.Events={},c=/\s+/,f=function(t,e,r,i,o){var a,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(a=n.keys(r);s<a.length;s++)e=f(t,e,a[s],r[a[s]],o)}else if(r&&c.test(r))for(a=r.split(c);s<a.length;s++)e=t(e,a[s],i,o);else e=t(e,r,i,o);return e};u.on=function(t,e,n){return h(this,t,e,n)};var h=function(t,e,n,r,i){(t._events=f(d,t._events||{},e,n,{context:r,ctx:t,listening:i}),i)&&((t._listeners||(t._listeners={}))[i.id]=i);return t};u.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[i];if(!a){var s=this._listenId||(this._listenId=n.uniqueId("l"));a=o[i]={obj:t,objId:i,id:s,listeningTo:o,count:0}}return h(t,e,r,this,a),this};var d=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,a=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||a,listening:s})}return t};u.off=function(t,e,n){return this._events?(this._events=f(p,this._events,t,e,{context:n,listeners:this._listeners}),this):this},u.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),a=0;a<o.length;a++){var s=i[o[a]];if(!s)break;s.obj.off(e,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var p=function(t,e,r,i){if(t){var o,a=0,s=i.context,l=i.listeners;if(e||r||s){for(var u=e?[e]:n.keys(t);a<u.length;a++){var c=t[e=u[a]];if(!c)break;for(var f=[],h=0;h<c.length;h++){var d=c[h];r&&r!==d.callback&&r!==d.callback._callback||s&&s!==d.context?f.push(d):(o=d.listening)&&0==--o.count&&(delete l[o.id],delete o.listeningTo[o.objId])}f.length?t[e]=f:delete t[e]}return n.size(t)?t:void 0}for(var p=n.keys(l);a<p.length;a++)delete l[(o=l[p[a]]).id],delete o.listeningTo[o.objId]}};u.once=function(t,e,r){var i=f(m,{},t,e,n.bind(this.off,this));return this.on(i,void 0,r)},u.listenToOnce=function(t,e,r){var i=f(m,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var m=function(t,e,r,i){if(r){var o=t[e]=n.once((function(){i(e,o),r.apply(this,arguments)}));o._callback=r}return t};u.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return f(g,this._events,t,void 0,n),this};var g=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&v(i,r),o&&v(o,[e].concat(r))}return t},v=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};u.bind=u.on,u.unbind=u.off,n.extend(e,u);var y=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,a=r.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,f=this._previousAttributes;for(var h in i)e=i[h],n.isEqual(u[h],e)||s.push(h),n.isEqual(f[h],e)?delete c[h]:c[h]=e,o?delete u[h]:u[h]=e;if(this.id=this.get(this.idAttribute),!a){s.length&&(this._pending=r);for(var d=0;d<s.length;d++)this.trigger("change:"+s[d],this,u[s[d]],r)}if(l)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var o=t[i];n.isEqual(e[i],o)||(r[i]=o)}return!!n.size(r)&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;if(!e.set(i,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},R(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e;var o=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,s=r.success,l=this.attributes;r.success=function(t){a.attributes=l;var e=r.parse?a.parse(t,r):t;if(o&&(e=n.extend({},i,e)),e&&!a.set(e,r))return!1;s&&s.call(r.context,a,t,r),a.trigger("sync",a,t,r)},R(this,r),i&&o&&(this.attributes=n.extend({},l,i));var u=this.isNew()?"create":r.patch?"patch":"update";"patch"!==u||r.attrs||(r.attrs=i);var c=this.sync(u,this,r);return this.attributes=l,c},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(R(this,t),a=this.sync("delete",this,t)),i||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||Q();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});a(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},_=function(t,e,n){n=Math.min(Math.max(n,0),t.length);for(var r=Array(t.length-n),i=e.length,o=0;o<r.length;o++)r[o]=t[o+n];for(o=0;o<i;o++)t[o+n]=e[o];for(o=0;o<r.length;o++)t[o+i+n]=r[o]};n.extend(b.prototype,u,{model:y,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,w))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:n.clone(t);var i=this._removeModels(t,e);return!e.silent&&i&&this.trigger("update",this,e),r?i[0]:i},set:function(t,e){if(null!=t){(e=n.defaults({},e,x)).parse&&!this._isModel(t)&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i<0&&(i+=this.length+1);for(var o,a=[],s=[],l=[],u={},c=e.add,f=e.merge,h=e.remove,d=!1,p=this.comparator&&null==i&&!1!==e.sort,m=n.isString(this.comparator)?this.comparator:null,g=0;g<t.length;g++){o=t[g];var v=this.get(o);if(v){if(f&&o!==v){var y=this._isModel(o)?o.attributes:o;e.parse&&(y=v.parse(y,e)),v.set(y,e),p&&!d&&(d=v.hasChanged(m))}u[v.cid]||(u[v.cid]=!0,a.push(v)),t[g]=v}else c&&(o=t[g]=this._prepareModel(o,e))&&(s.push(o),this._addReference(o,e),u[o.cid]=!0,a.push(o))}if(h){for(g=0;g<this.length;g++)u[(o=this.models[g]).cid]||l.push(o);l.length&&this._removeModels(l,e)}var b=!1,w=!p&&c&&h;if(a.length&&w?(b=this.length!=a.length||n.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,_(this.models,a,0),this.length=this.models.length):s.length&&(p&&(d=!0),_(this.models,s,null==i?this.length:i),this.length=this.models.length),d&&this.sort({silent:!0}),!e.silent){for(g=0;g<s.length;g++)null!=i&&(e.index=i+g),(o=s[g]).trigger("add",o,this,e);(d||b)&&this.trigger("sort",this,e),(s.length||l.length)&&this.trigger("update",this,e)}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},R(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&i.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?n.clone(e):{}).collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,e.silent||(e.index=o,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return!!n.length&&n},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if("add"!==t&&"remove"!==t||n===this){if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}});a(b,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var S=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,C)),this._ensureElement(),this.initialize.apply(this,arguments)},j=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];n.extend(S.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(j);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var o=I[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||Q()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var l=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,l&&l.call(i.context,t,e,n)};var u=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,u,i),u};var I={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var E=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,O=/\*\w+/g,L=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(E.prototype,u,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,(function(n){var a=o._extractParameters(t,n);!1!==o.execute(i,a,r)&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),e.history.trigger("route",o,r,a))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(L,"\\$&").replace(T,"(?:$1)?").replace(k,(function(t,e){return e?t:"([^/?]+)"})).replace(O,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,(function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null}))}});var A=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,P=/^\/+|\/+$/g,z=/#.*$/;A.started=!1,n.extend(A.prototype,u,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(M,"")},start:function(t){if(A.started)throw new Error("Backbone.history has already been started");if(A.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(P,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!A.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(z,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new A;y.extend=b.extend=E.extend=S.extend=A.extend=function(t,e){var r,i=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,t&&n.extend(r.prototype,t),r.__super__=i.prototype,r};var Q=function(){throw new Error('A "url" property or function must be specified')},R=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e})),function(){var t,e=Object.prototype.toString;Array.isArray=Array.isArray||function(t){return"[object Array]"==e.call(t)};var n,r,i,o=String.prototype.trim;o?n=function(t){return null==t?"":o.call(t)}:(/\S/.test(" ")?(r=/^[\s\xA0]+/,i=/[\s\xA0]+$/):(r=/^\s+/,i=/\s+$/),n=function(t){return null==t?"":t.toString().replace(r,"").replace(i,"")});var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},s={},l=function(){};l.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(t,e,n,r){if(r||(this.context=e,this.buffer=[]),this.includes("",t)){t=this.render_pragmas(t);var i=this.render_section(t,e,n);if(!1===i&&(i=this.render_tags(t,e,n,r)),r)return i;this.sendLines(i)}else{if(r)return t;this.send(t)}},send:function(t){""!==t&&this.buffer.push(t)},sendLines:function(t){if(t){t=t.split("\n");for(var e=0;e<t.length;e++)this.send(t[e])}},render_pragmas:function(t){if(!this.includes("%",t))return t;var e=this,n=this.getCachedRegex("render_pragmas",(function(t,e){return RegExp(t+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+e,"g")}));return t.replace(n,(function(t,n,r){if(!e.pragmas_implemented[n])throw{message:"This implementation of mustache doesn't understand the '"+n+"' pragma"};return e.pragmas[n]={},r&&(t=r.split("="),e.pragmas[n][t[0]]=t[1]),""}))},render_partial:function(t,e,r){if(t=n(t),!r||void 0===r[t])throw{message:"unknown_partial '"+t+"'"};return e&&"object"==typeof e[t]?this.render(r[t],e[t],r,!0):this.render(r[t],e,r,!0)},render_section:function(t,e,n){if(!this.includes("#",t)&&!this.includes("^",t))return!1;var r=this,i=this.getCachedRegex("render_section",(function(t,e){return RegExp("^([\\s\\S]*?)"+t+"(\\^|\\#)\\s*(.+)\\s*"+e+"\n*([\\s\\S]*?)"+t+"\\/\\s*\\3\\s*"+e+"\\s*([\\s\\S]*)$","g")}));return t.replace(i,(function(t,i,o,a,s,l){var u;return t=i?r.render_tags(i,e,n,!0):"",l=l?r.render(l,e,n,!0):"",a=r.find(a,e),"^"===o?u=!a||Array.isArray(a)&&0===a.length?r.render(s,e,n,!0):"":"#"===o&&(u=Array.isArray(a)?r.map(a,(function(t){return r.render(s,r.create_context(t),n,!0)})).join(""):r.is_object(a)?r.render(s,r.create_context(a),n,!0):"function"==typeof a?a.call(e,s,(function(t){return r.render(t,e,n,!0)})):a?r.render(s,e,n,!0):""),t+u+l}))},render_tags:function(t,e,n,r){var i=this,o=function(){return i.getCachedRegex("render_tags",(function(t,e){return RegExp(t+"(=|!|>|&|\\{|%)?([^#\\^]+?)\\1?"+e+"+","g")}))},s=o(),l=function(t,r,l){switch(r){case"!":return"";case"=":return i.set_delimiters(l),s=o(),"";case">":return i.render_partial(l,e,n);case"{":case"&":return i.find(l,e);default:return t=i.find(l,e),String(t).replace(/&(?!\w+;)|[<>"']/g,(function(t){return a[t]||t}))}};t=t.split("\n");for(var u=0;u<t.length;u++)t[u]=t[u].replace(s,l,this),r||this.send(t[u]);if(r)return t.join("\n")},set_delimiters:function(t){t=t.split(" "),this.otag=this.escape_regex(t[0]),this.ctag=this.escape_regex(t[1])},escape_regex:function(t){return arguments.callee.sRE||(arguments.callee.sRE=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g")),t.replace(arguments.callee.sRE,"\\$1")},find:function(t,e){var r;if((t=n(t)).match(/([a-z_]+)\./gi)){var i=this.walk_context(t,e);(!1===i||0===i||i)&&(r=i)}else!1===e[t]||0===e[t]||e[t]?r=e[t]:(!1===this.context[t]||0===this.context[t]||this.context[t])&&(r=this.context[t]);return"function"==typeof r?r.apply(e):void 0!==r?r:""},walk_context:function(t,e){for(var n=t.split("."),r=null!=e[n[0]]?e:this.context,i=r[n.shift()];null!=i&&0<n.length;)r=i,i=i[n.shift()];return"function"==typeof i?i.apply(r):i},includes:function(t,e){return-1!=e.indexOf(this.otag+t)},create_context:function(t){if(this.is_object(t))return t;var e=".";this.pragmas["IMPLICIT-ITERATOR"]&&(e=this.pragmas["IMPLICIT-ITERATOR"].iterator);var n={};return n[e]=t,n},is_object:function(t){return t&&"object"==typeof t},map:function(t,e){if("function"==typeof t.map)return t.map(e);for(var n=[],r=t.length,i=0;i<r;i++)n.push(e(t[i]));return n},getCachedRegex:function(t,e){var n=s[this.otag];n||(n=s[this.otag]={});var r=n[this.ctag];return r||(r=n[this.ctag]={}),(n=r[t])||(n=r[t]=e(this.otag,this.ctag)),n}},t={name:"mustache.js",version:"0.4.0",to_html:function(t,e,n,r){var i=new l;if(r&&(i.send=r),i.render(t,e||{},n),!r)return i.buffer.join("\n")}},function(){function e(t){return"".trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}var n={VERSION:"0.10.2",templates:{},$:"undefined"!=typeof window&&(window.jQuery||window.Zepto)||null,addTemplate:function(r,i){if("object"==typeof r)for(var o in r)this.addTemplate(o,r[o]);else n[r]?console.error("Invalid name: "+r+"."):n.templates[r]?console.error('Template "'+r+'  " exists'):(n.templates[r]=i,n[r]=function(i,o){i=i||{};var a=t.to_html(n.templates[r],i,n.templates);return n.$&&!o?n.$(e(a)):a})},clearAll:function(){for(var t in n.templates)delete n[t];n.templates={}},refresh:function(){n.clearAll(),n.grabTemplates()},grabTemplates:function(){var t,r,i,o=document.getElementsByTagName("script"),a=[];for(t=0,r=o.length;t<r;t++)(i=o[t])&&i.innerHTML&&i.id&&("text/html"===i.type||"text/x-icanhaz"===i.type)&&(n.addTemplate(i.id,e(i.innerHTML)),a.unshift(i));for(t=0,r=a.length;t<r;t++)a[t].parentNode.removeChild(a[t])}};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.ich=n):this.ich=n,"undefined"!=typeof document&&(n.$?n.$((function(){n.grabTemplates()})):document.addEventListener("DOMContentLoaded",(function(){n.grabTemplates()}),!0))}()}(),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,r,i){return jQuery.easing[jQuery.easing.def](t,e,n,r,i)},easeInQuad:function(t,e,n,r,i){return r*(e/=i)*e+n},easeOutQuad:function(t,e,n,r,i){return-r*(e/=i)*(e-2)+n},easeInOutQuad:function(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e+n:-r/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,r,i){return r*(e/=i)*e*e+n},easeOutCubic:function(t,e,n,r,i){return r*((e=e/i-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e*e+n:r/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,r,i){return r*(e/=i)*e*e*e+n},easeOutQuart:function(t,e,n,r,i){return-r*((e=e/i-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e*e*e+n:-r/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,r,i){return r*(e/=i)*e*e*e*e+n},easeOutQuint:function(t,e,n,r,i){return r*((e=e/i-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,r,i){return(e/=i/2)<1?r/2*e*e*e*e*e+n:r/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,r,i){return-r*Math.cos(e/i*(Math.PI/2))+r+n},easeOutSine:function(t,e,n,r,i){return r*Math.sin(e/i*(Math.PI/2))+n},easeInOutSine:function(t,e,n,r,i){return-r/2*(Math.cos(Math.PI*e/i)-1)+n},easeInExpo:function(t,e,n,r,i){return 0==e?n:r*Math.pow(2,10*(e/i-1))+n},easeOutExpo:function(t,e,n,r,i){return e==i?n+r:r*(1-Math.pow(2,-10*e/i))+n},easeInOutExpo:function(t,e,n,r,i){return 0==e?n:e==i?n+r:(e/=i/2)<1?r/2*Math.pow(2,10*(e-1))+n:r/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,r,i){return-r*(Math.sqrt(1-(e/=i)*e)-1)+n},easeOutCirc:function(t,e,n,r,i){return r*Math.sqrt(1-(e=e/i-1)*e)+n},easeInOutCirc:function(t,e,n,r,i){return(e/=i/2)<1?-r/2*(Math.sqrt(1-e*e)-1)+n:r/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,r,i){var o=1.70158,a=0,s=r;if(0==e)return n;if(1==(e/=i))return n+r;if(a||(a=.3*i),s<Math.abs(r)){s=r;o=a/4}else o=a/(2*Math.PI)*Math.asin(r/s);return-s*Math.pow(2,10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/a)+n},easeOutElastic:function(t,e,n,r,i){var o=1.70158,a=0,s=r;if(0==e)return n;if(1==(e/=i))return n+r;if(a||(a=.3*i),s<Math.abs(r)){s=r;o=a/4}else o=a/(2*Math.PI)*Math.asin(r/s);return s*Math.pow(2,-10*e)*Math.sin((e*i-o)*(2*Math.PI)/a)+r+n},easeInOutElastic:function(t,e,n,r,i){var o=1.70158,a=0,s=r;if(0==e)return n;if(2==(e/=i/2))return n+r;if(a||(a=i*(.3*1.5)),s<Math.abs(r)){s=r;o=a/4}else o=a/(2*Math.PI)*Math.asin(r/s);return e<1?s*Math.pow(2,10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/a)*-.5+n:s*Math.pow(2,-10*(e-=1))*Math.sin((e*i-o)*(2*Math.PI)/a)*.5+r+n},easeInBack:function(t,e,n,r,i,o){return null==o&&(o=1.70158),r*(e/=i)*e*((o+1)*e-o)+n},easeOutBack:function(t,e,n,r,i,o){return null==o&&(o=1.70158),r*((e=e/i-1)*e*((o+1)*e+o)+1)+n},easeInOutBack:function(t,e,n,r,i,o){return null==o&&(o=1.70158),(e/=i/2)<1?r/2*(e*e*((1+(o*=1.525))*e-o))+n:r/2*((e-=2)*e*((1+(o*=1.525))*e+o)+2)+n},easeInBounce:function(t,e,n,r,i){return r-jQuery.easing.easeOutBounce(t,i-e,0,r,i)+n},easeOutBounce:function(t,e,n,r,i){return(e/=i)<1/2.75?r*(7.5625*e*e)+n:e<2/2.75?r*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?r*(7.5625*(e-=2.25/2.75)*e+.9375)+n:r*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,r,i){return e<i/2?.5*jQuery.easing.easeInBounce(t,2*e,0,r,i)+n:.5*jQuery.easing.easeOutBounce(t,2*e-i,0,r,i)+.5*r+n}}),jQuery.extend(jQuery.easing,{easeIn:function(t,e,n,r,i){return jQuery.easing.easeInQuad(t,e,n,r,i)},easeOut:function(t,e,n,r,i){return jQuery.easing.easeOutQuad(t,e,n,r,i)},easeInOut:function(t,e,n,r,i){return jQuery.easing.easeInOutQuad(t,e,n,r,i)},expoin:function(t,e,n,r,i){return jQuery.easing.easeInExpo(t,e,n,r,i)},expoout:function(t,e,n,r,i){return jQuery.easing.easeOutExpo(t,e,n,r,i)},expoinout:function(t,e,n,r,i){return jQuery.easing.easeInOutExpo(t,e,n,r,i)},bouncein:function(t,e,n,r,i){return jQuery.easing.easeInBounce(t,e,n,r,i)},bounceout:function(t,e,n,r,i){return jQuery.easing.easeOutBounce(t,e,n,r,i)},bounceinout:function(t,e,n,r,i){return jQuery.easing.easeInOutBounce(t,e,n,r,i)},elasin:function(t,e,n,r,i){return jQuery.easing.easeInElastic(t,e,n,r,i)},elasout:function(t,e,n,r,i){return jQuery.easing.easeOutElastic(t,e,n,r,i)},elasinout:function(t,e,n,r,i){return jQuery.easing.easeInOutElastic(t,e,n,r,i)},backin:function(t,e,n,r,i){return jQuery.easing.easeInBack(t,e,n,r,i)},backout:function(t,e,n,r,i){return jQuery.easing.easeOutBack(t,e,n,r,i)},backinout:function(t,e,n,r,i){return jQuery.easing.easeInOutBack(t,e,n,r,i)}}),function(t){var e=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var n=e.length;n;)t.event.fixHooks[e[--n]]=t.event.mouseHooks;function r(e){var n=e||window.event,r=[].slice.call(arguments,1),i=0,o=0,a=0;return(e=t.event.fix(n)).type="mousewheel",n.wheelDelta&&(i=n.wheelDelta/120),n.detail&&(i=-n.detail/3),a=i,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(a=0,o=-1*i),void 0!==n.wheelDeltaY&&(a=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(o=-1*n.wheelDeltaX/120),r.unshift(e,i,o,a),(t.event.dispatch||t.event.handle).apply(this,r)}t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=e.length;t;)this.addEventListener(e[--t],r,!1);else this.onmousewheel=r},teardown:function(){if(this.removeEventListener)for(var t=e.length;t;)this.removeEventListener(e[--t],r,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery),function(){function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var r=t.prototype,i=this,o=i.EventEmitter;r.getListeners=function(t){var e,n,r=this._getEvents();if("object"==typeof t)for(n in e={},r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n]);else e=r[t]||(r[t]=[]);return e},r.flattenListeners=function(t){var e,n=[];for(e=0;t.length>e;e+=1)n.push(t[e].listener);return n},r.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},r.addListener=function(t,n){var r,i=this.getListenersAsObject(t),o="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===e(i[r],n)&&i[r].push(o?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(t){return this.getListeners(t),this},r.defineEvents=function(t){for(var e=0;t.length>e;e+=1)this.defineEvent(t[e]);return this},r.removeListener=function(t,n){var r,i,o=this.getListenersAsObject(t);for(i in o)o.hasOwnProperty(i)&&(-1!==(r=e(o[i],n))&&o[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},r.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},r.manipulateListeners=function(t,e,n){var r,i,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=n.length;r--;)o.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},r.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"===n)delete r[t];else if("object"===n)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(t,e){var n,r,i,o=this.getListenersAsObject(t);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)!0===(n=o[i][r]).once&&this.removeListener(t,n.listener),n.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},r.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return i.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],(function(){return t})):"object"==typeof module&&module.exports?module.exports=t:this.EventEmitter=t}.call(this),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,r=function(){};n.addEventListener?r=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(r=function(t,n,r){t[n+r]=r.handleEvent?function(){var n=e(t);r.handleEvent.call(r,n)}:function(){var n=e(t);r.call(t,n)},t.attachEvent("on"+n,t[n+r])});var i=function(){};n.removeEventListener?i=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(i=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(r){t[e+n]=void 0}});var o={bind:r,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",o):t.eventie=o}(this),function(t,e){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],(function(n,r){return e(t,n,r)})):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,(function(t,e,n){function r(t,e){for(var n in e)t[n]=e[n];return t}function i(t){var e=[];if(function(t){return"[object Array]"===f.call(t)}(t))e=t;else if("number"==typeof t.length)for(var n=0,r=t.length;r>n;n++)e.push(t[n]);else e.push(t);return e}function o(t,e,n){if(!(this instanceof o))return new o(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=i(t),this.options=r({},this.options),"function"==typeof e?n=e:r(this.options,e),n&&this.on("always",n),this.getImages(),l&&(this.jqDeferred=new l.Deferred);var a=this;setTimeout((function(){a.check()}))}function a(t){this.img=t}function s(t){this.src=t,h[t]=this}var l=t.jQuery,u=t.console,c=void 0!==u,f=Object.prototype.toString;o.prototype=new e,o.prototype.options={},o.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var n=this.elements[t];"IMG"===n.nodeName&&this.addImage(n);var r=n.nodeType;if(r&&(1===r||9===r||11===r))for(var i=n.querySelectorAll("img"),o=0,a=i.length;a>o;o++){var s=i[o];this.addImage(s)}}},o.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},o.prototype.check=function(){function t(t,i){return e.options.debug&&c&&u.log("confirm",t,i),e.progress(t),++n===r&&e.complete(),!0}var e=this,n=0,r=this.images.length;if(this.hasAnyBroken=!1,r)for(var i=0;r>i;i++){var o=this.images[i];o.on("confirm",t),o.check()}else this.complete()},o.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout((function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)}))},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout((function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var n=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[n](e)}}))},l&&(l.fn.imagesLoaded=function(t,e){return new o(this,t,e).jqDeferred.promise(l(this))}),a.prototype=new e,a.prototype.check=function(){var t=h[this.img.src]||new s(this.img.src);if(t.isConfirmed)this.confirm(t.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var e=this;t.on("confirm",(function(t,n){return e.confirm(t.isLoaded,n),!0})),t.check()}},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var h={};return s.prototype=new e,s.prototype.check=function(){if(!this.isChecked){var t=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},s.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},s.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},s.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},s.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},s.prototype.unbindProxyEvents=function(t){n.unbind(t.target,"load",this),n.unbind(t.target,"error",this)},o})),function(t){function e(){}function n(t){function n(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function i(e,n){t.fn[e]=function(i){if("string"==typeof i){for(var a=r.call(arguments,1),s=0,l=this.length;l>s;s++){var u=this[s],c=t.data(u,e);if(c)if(t.isFunction(c[i])&&"_"!==i.charAt(0)){var f=c[i].apply(c,a);if(void 0!==f)return f}else o("no such method '"+i+"' for "+e+" instance");else o("cannot call methods on "+e+" prior to initialization; attempted to call '"+i+"'")}return this}return this.each((function(){var r=t.data(this,e);r?(r.option(i),r._init()):(r=new n(this,i),t.data(this,e,r))}))}}if(t){var o="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){n(e),i(t,e)},t.bridget}}var r=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],n):n("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(e){var n=t.event;return n.target=n.target||n.srcElement||e,n}var n=document.documentElement,r=function(){};n.addEventListener?r=function(t,e,n){t.addEventListener(e,n,!1)}:n.attachEvent&&(r=function(t,n,r){t[n+r]=r.handleEvent?function(){var n=e(t);r.handleEvent.call(r,n)}:function(){var n=e(t);r.call(t,n)},t.attachEvent("on"+n,t[n+r])});var i=function(){};n.removeEventListener?i=function(t,e,n){t.removeEventListener(e,n,!1)}:n.detachEvent&&(i=function(t,e,n){t.detachEvent("on"+e,t[e+n]);try{delete t[e+n]}catch(r){t[e+n]=void 0}});var o={bind:r,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",o):"object"==typeof exports?module.exports=o:t.eventie=o}(window),function(){"use strict";function t(){}function e(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}var r=t.prototype,i=this,o=i.EventEmitter;r.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp)for(n in e={},r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n]);else e=r[t]||(r[t]=[]);return e},r.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},r.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},r.addListener=function(t,n){var r,i=this.getListenersAsObject(t),o="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===e(i[r],n)&&i[r].push(o?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(t){return this.getListeners(t),this},r.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},r.removeListener=function(t,n){var r,i,o=this.getListenersAsObject(t);for(i in o)o.hasOwnProperty(i)&&(-1!==(r=e(o[i],n))&&o[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},r.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},r.manipulateListeners=function(t,e,n){var r,i,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=n.length;r--;)o.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},r.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"===n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(t,e){var n,r,i,o=this.getListenersAsObject(t);for(i in o)if(o.hasOwnProperty(i))for(r=o[i].length;r--;)!0===(n=o[i][r]).once&&this.removeListener(t,n.listener),n.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},r.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return i.EventEmitter=o,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],(function(){return t})):"object"==typeof module&&module.exports?module.exports=t:i.EventEmitter=t}.call(this),function(t){function e(t){if(t){if("string"==typeof r[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,i=0,o=n.length;o>i;i++)if(e=n[i]+t,"string"==typeof r[e])return e}}var n="Webkit Moz ms Ms O".split(" "),r=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],(function(){return e})):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t,e){function n(t){var e=parseFloat(t);return-1===t.indexOf("%")&&!isNaN(e)&&e}function r(e){function r(){if(!c){c=!0;var r=t.getComputedStyle;if(s=function(){var t=r?function(t){return r(t,null)}:function(t){return t.currentStyle};return function(e){var n=t(e);return n||i("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),n}}(),l=e("boxSizing")){var o=document.createElement("div");o.style.width="200px",o.style.padding="1px 2px 3px 4px",o.style.borderStyle="solid",o.style.borderWidth="1px 2px 3px 4px",o.style[l]="border-box";var a=document.body||document.documentElement;a.appendChild(o);var f=s(o);u=200===n(f.width),a.removeChild(o)}}}function a(e,n){if(t.getComputedStyle||-1===n.indexOf("%"))return n;var r=e.style,i=r.left,o=e.runtimeStyle,a=o&&o.left;return a&&(o.left=e.currentStyle.left),r.left=n,n=r.pixelLeft,r.left=i,a&&(o.left=a),n}var s,l,u,c=!1;return function(t){if(r(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var e=s(t);if("none"===e.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,n=o.length;n>e;e++)t[o[e]]=0;return t}();var i={};i.width=t.offsetWidth,i.height=t.offsetHeight;for(var c=i.isBorderBox=!(!l||!e[l]||"border-box"!==e[l]),f=0,h=o.length;h>f;f++){var d=o[f],p=e[d];p=a(t,p);var m=parseFloat(p);i[d]=isNaN(m)?0:m}var g=i.paddingLeft+i.paddingRight,v=i.paddingTop+i.paddingBottom,y=i.marginLeft+i.marginRight,b=i.marginTop+i.marginBottom,x=i.borderLeftWidth+i.borderRightWidth,w=i.borderTopWidth+i.borderBottomWidth,_=c&&u,S=n(e.width);!1!==S&&(i.width=S+(_?0:g+x));var j=n(e.height);return!1!==j&&(i.height=j+(_?0:v+w)),i.innerWidth=i.width-(g+x),i.innerHeight=i.height-(v+w),i.outerWidth=i.width+y,i.outerHeight=i.height+b,i}}}var i="undefined"==typeof console?function(){}:function(t){console.error(t)},o=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],r):"object"==typeof exports?module.exports=r(require("desandro-get-style-property")):t.getSize=r(t.getStyleProperty)}(window),function(t){function e(t){"function"==typeof t&&(e.isReady?t():a.push(t))}function n(t){var n="readystatechange"===t.type&&"complete"!==o.readyState;e.isReady||n||r()}function r(){e.isReady=!0;for(var t=0,n=a.length;n>t;t++){(0,a[t])()}}function i(i){return"complete"===o.readyState?r():(i.bind(o,"DOMContentLoaded",n),i.bind(o,"readystatechange",n),i.bind(t,"load",n)),e}var o=t.document,a=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],i):"object"==typeof exports?module.exports=i(require("eventie")):t.docReady=i(t.eventie)}(window),function(t){"use strict";function e(t,e){return t[i](e)}function n(t){t.parentNode||document.createDocumentFragment().appendChild(t)}var r,i=function(){if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],n=0,r=e.length;r>n;n++){var i=e[n]+"MatchesSelector";if(t[i])return i}}();if(i){var o=e(document.createElement("div"),"div");r=o?e:function(t,r){return n(t),e(t,r)}}else r=function(t,e){n(t);for(var r=t.parentNode.querySelectorAll(e),i=0,o=r.length;o>i;i++)if(r[i]===t)return!0;return!1};"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],(function(){return r})):"object"==typeof exports?module.exports=r:window.matchesSelector=r}(Element.prototype),function(t,e){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],(function(n,r){return e(t,n,r)})):"object"==typeof exports?module.exports=e(t,require("doc-ready"),require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.docReady,t.matchesSelector)}(window,(function(t,e,n){var r={extend:function(t,e){for(var n in e)t[n]=e[n];return t},modulo:function(t,e){return(t%e+e)%e}},i=Object.prototype.toString;r.isArray=function(t){return"[object Array]"==i.call(t)},r.makeArray=function(t){var e=[];if(r.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var n=0,i=t.length;i>n;n++)e.push(t[n]);else e.push(t);return e},r.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},r.removeFrom=function(t,e){var n=r.indexOf(t,e);-1!=n&&t.splice(n,1)},r.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1==t.nodeType&&"string"==typeof t.nodeName},r.setText=function(){var t;return function(e,n){e[t=t||(void 0!==document.documentElement.textContent?"textContent":"innerText")]=n}}(),r.getParent=function(t,e){for(;t!=document.body;)if(t=t.parentNode,n(t,e))return t},r.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},r.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.filterFindElements=function(t,e){for(var i=[],o=0,a=(t=r.makeArray(t)).length;a>o;o++){var s=t[o];if(r.isElement(s))if(e){n(s,e)&&i.push(s);for(var l=s.querySelectorAll(e),u=0,c=l.length;c>u;u++)i.push(l[u])}else i.push(s)}return i},r.debounceMethod=function(t,e,n){var r=t.prototype[e],i=e+"Timeout";t.prototype[e]=function(){var t=this[i];t&&clearTimeout(t);var e=arguments,o=this;this[i]=setTimeout((function(){r.apply(o,e),delete o[i]}),n||100)}},r.toDashed=function(t){return t.replace(/(.)([A-Z])/g,(function(t,e,n){return e+"-"+n})).toLowerCase()};var o=t.console;return r.htmlInit=function(n,i){e((function(){for(var e=r.toDashed(i),a=document.querySelectorAll(".js-"+e),s="data-"+e+"-options",l=0,u=a.length;u>l;l++){var c,f=a[l],h=f.getAttribute(s);try{c=h&&JSON.parse(h)}catch(t){o&&o.error("Error parsing "+s+" on "+f.nodeName.toLowerCase()+(f.id?"#"+f.id:"")+": "+t);continue}var d=new n(f,c),p=t.jQuery;p&&p.data(f,i,d)}}))},r})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],(function(n,r,i,o){return e(t,n,r,i,o)})):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(t.Outlayer={},t.Outlayer.Item=e(t,t.EventEmitter,t.getSize,t.getStyleProperty,t.fizzyUIUtils))}(window,(function(t,e,n,r,i){"use strict";function o(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var a=t.getComputedStyle,s=a?function(t){return a(t,null)}:function(t){return t.currentStyle},l=r("transition"),u=r("transform"),c=l&&u,f=!!r("perspective"),h={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[l],d=["transform","transition","transitionDuration","transitionProperty"],p=function(){for(var t={},e=0,n=d.length;n>e;e++){var i=d[e],o=r(i);o&&o!==i&&(t[i]=o)}return t}();i.extend(o.prototype,e.prototype),o.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.getSize=function(){this.size=n(this.element)},o.prototype.css=function(t){var e=this.element.style;for(var n in t){e[p[n]||n]=t[n]}},o.prototype.getPosition=function(){var t=s(this.element),e=this.layout.options,n=e.isOriginLeft,r=e.isOriginTop,i=t[n?"left":"right"],o=t[r?"top":"bottom"],a=this.layout.size,l=-1!=i.indexOf("%")?parseFloat(i)/100*a.width:parseInt(i,10),u=-1!=o.indexOf("%")?parseFloat(o)/100*a.height:parseInt(o,10);l=isNaN(l)?0:l,u=isNaN(u)?0:u,l-=n?a.paddingLeft:a.paddingRight,u-=r?a.paddingTop:a.paddingBottom,this.position.x=l,this.position.y=u},o.prototype.layoutPosition=function(){var t=this.layout.size,e=this.layout.options,n={},r=e.isOriginLeft?"paddingLeft":"paddingRight",i=e.isOriginLeft?"left":"right",o=e.isOriginLeft?"right":"left",a=this.position.x+t[r];n[i]=this.getXValue(a),n[o]="";var s=e.isOriginTop?"paddingTop":"paddingBottom",l=e.isOriginTop?"top":"bottom",u=e.isOriginTop?"bottom":"top",c=this.position.y+t[s];n[l]=this.getYValue(c),n[u]="",this.css(n),this.emitEvent("layout",[this])},o.prototype.getXValue=function(t){var e=this.layout.options;return e.percentPosition&&!e.isHorizontal?t/this.layout.size.width*100+"%":t+"px"},o.prototype.getYValue=function(t){var e=this.layout.options;return e.percentPosition&&e.isHorizontal?t/this.layout.size.height*100+"%":t+"px"},o.prototype._transitionTo=function(t,e){this.getPosition();var n=this.position.x,r=this.position.y,i=parseInt(t,10),o=parseInt(e,10),a=i===this.position.x&&o===this.position.y;if(this.setPosition(t,e),!a||this.isTransitioning){var s=t-n,l=e-r,u={};u.transform=this.getTranslate(s,l),this.transition({to:u,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},o.prototype.getTranslate=function(t,e){var n=this.layout.options;return t=n.isOriginLeft?t:-t,e=n.isOriginTop?e:-e,f?"translate3d("+t+"px, "+e+"px, 0)":"translate("+t+"px, "+e+"px)"},o.prototype.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},o.prototype.moveTo=c?o.prototype._transitionTo:o.prototype.goTo,o.prototype.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},o.prototype._nonTransition=function(t){for(var e in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[e].call(this)},o.prototype._transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var e=this._transn;for(var n in t.onTransitionEnd)e.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)e.ingProperties[n]=!0,t.isCleaning&&(e.clean[n]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var m="opacity,"+function(t){return t.replace(/([A-Z])/g,(function(t){return"-"+t.toLowerCase()}))}(p.transform||"transform");o.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(h,this,!1))},o.prototype.transition=o.prototype[l?"_transition":"_nonTransition"],o.prototype.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},o.prototype.onotransitionend=function(t){this.ontransitionend(t)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};o.prototype.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=g[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],function(t){for(var e in t)return!1;return!0}(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd)e.onEnd[n].call(this),delete e.onEnd[n];this.emitEvent("transitionEnd",[this])}},o.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(h,this,!1),this.isTransitioning=!1},o.prototype._removeStyles=function(t){var e={};for(var n in t)e[n]="";this.css(e)};var v={transitionProperty:"",transitionDuration:""};return o.prototype.removeTransitionStyles=function(){this.css(v)},o.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},o.prototype.remove=function(){if(l&&parseFloat(this.layout.options.transitionDuration)){var t=this;this.once("transitionEnd",(function(){t.removeElem()})),this.hide()}else this.removeElem()},o.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},o.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},o.prototype.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var n in e)return n},o.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},o.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},o.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},o})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],(function(n,r,i,o,a){return e(t,n,r,i,o,a)})):"object"==typeof exports?module.exports=e(t,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.eventie,t.EventEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,(function(t,e,n,r,i,o){"use strict";function a(t,e){var n=i.getQueryElement(t);if(n){this.element=n,l&&(this.$element=l(this.element)),this.options=i.extend({},this.constructor.defaults),this.option(e);var r=++c;this.element.outlayerGUID=r,f[r]=this,this._create(),this.options.isInitLayout&&this.layout()}else s&&s.error("Bad element for "+this.constructor.namespace+": "+(n||t))}var s=t.console,l=t.jQuery,u=function(){},c=0,f={};return a.namespace="outlayer",a.Item=o,a.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},i.extend(a.prototype,n.prototype),a.prototype.option=function(t){i.extend(this.options,t)},a.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),i.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},a.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},a.prototype._itemize=function(t){for(var e=this._filterFindItemElements(t),n=this.constructor.Item,r=[],i=0,o=e.length;o>i;i++){var a=new n(e[i],this);r.push(a)}return r},a.prototype._filterFindItemElements=function(t){return i.filterFindElements(t,this.options.itemSelector)},a.prototype.getItemElements=function(){for(var t=[],e=0,n=this.items.length;n>e;e++)t.push(this.items[e].element);return t},a.prototype.layout=function(){this._resetLayout(),this._manageStamps();var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},a.prototype._init=a.prototype.layout,a.prototype._resetLayout=function(){this.getSize()},a.prototype.getSize=function(){this.size=r(this.element)},a.prototype._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):i.isElement(o)&&(n=o),this[t]=n?r(n)[e]:o):this[t]=0},a.prototype.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},a.prototype._getItemsForLayout=function(t){for(var e=[],n=0,r=t.length;r>n;n++){var i=t[n];i.isIgnored||e.push(i)}return e},a.prototype._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){for(var n=[],r=0,i=t.length;i>r;r++){var o=t[r],a=this._getItemLayoutPosition(o);a.item=o,a.isInstant=e||o.isLayoutInstant,n.push(a)}this._processLayoutQueue(n)}},a.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},a.prototype._processLayoutQueue=function(t){for(var e=0,n=t.length;n>e;e++){var r=t[e];this._positionItem(r.item,r.x,r.y,r.isInstant)}},a.prototype._positionItem=function(t,e,n,r){r?t.goTo(e,n):t.moveTo(e,n)},a.prototype._postLayout=function(){this.resizeContainer()},a.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},a.prototype._getContainerSize=u,a.prototype._setContainerMeasure=function(t,e){if(void 0!==t){var n=this.size;n.isBorderBox&&(t+=e?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},a.prototype._emitCompleteOnItems=function(t,e){function n(){i.dispatchEvent(t+"Complete",null,[e])}function r(){++a===o&&n()}var i=this,o=e.length;if(e&&o)for(var a=0,s=0,l=e.length;l>s;s++){e[s].once(t,r)}else n()},a.prototype.dispatchEvent=function(t,e,n){var r=e?[e].concat(n):n;if(this.emitEvent(t,r),l)if(this.$element=this.$element||l(this.element),e){var i=l.Event(e);i.type=t,this.$element.trigger(i,n)}else this.$element.trigger(t,n)},a.prototype.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},a.prototype.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},a.prototype.stamp=function(t){if(t=this._find(t)){this.stamps=this.stamps.concat(t);for(var e=0,n=t.length;n>e;e++){var r=t[e];this.ignore(r)}}},a.prototype.unstamp=function(t){if(t=this._find(t))for(var e=0,n=t.length;n>e;e++){var r=t[e];i.removeFrom(this.stamps,r),this.unignore(r)}},a.prototype._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=i.makeArray(t)):void 0},a.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var t=0,e=this.stamps.length;e>t;t++){var n=this.stamps[t];this._manageStamp(n)}}},a.prototype._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},a.prototype._manageStamp=u,a.prototype._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,i=r(t);return{left:e.left-n.left-i.marginLeft,top:e.top-n.top-i.marginTop,right:n.right-e.right-i.marginRight,bottom:n.bottom-e.bottom-i.marginBottom}},a.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},a.prototype.bindResize=function(){this.isResizeBound||(e.bind(t,"resize",this),this.isResizeBound=!0)},a.prototype.unbindResize=function(){this.isResizeBound&&e.unbind(t,"resize",this),this.isResizeBound=!1},a.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout((function(){t.resize(),delete t.resizeTimeout}),100)},a.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},a.prototype.needsResizeLayout=function(){var t=r(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},a.prototype.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},a.prototype.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},a.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){var n=this.items.slice(0);this.items=e.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(n)}},a.prototype.reveal=function(t){this._emitCompleteOnItems("reveal",t);for(var e=t&&t.length,n=0;e&&e>n;n++){t[n].reveal()}},a.prototype.hide=function(t){this._emitCompleteOnItems("hide",t);for(var e=t&&t.length,n=0;e&&e>n;n++){t[n].hide()}},a.prototype.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},a.prototype.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},a.prototype.getItem=function(t){for(var e=0,n=this.items.length;n>e;e++){var r=this.items[e];if(r.element===t)return r}},a.prototype.getItems=function(t){for(var e=[],n=0,r=(t=i.makeArray(t)).length;r>n;n++){var o=t[n],a=this.getItem(o);a&&e.push(a)}return e},a.prototype.remove=function(t){var e=this.getItems(t);if(this._emitCompleteOnItems("remove",e),e&&e.length)for(var n=0,r=e.length;r>n;n++){var o=e[n];o.remove(),i.removeFrom(this.items,o)}},a.prototype.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="";for(var e=0,n=this.items.length;n>e;e++){this.items[e].destroy()}this.unbindResize();var r=this.element.outlayerGUID;delete f[r],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},a.data=function(t){var e=(t=i.getQueryElement(t))&&t.outlayerGUID;return e&&f[e]},a.create=function(t,e){function n(){a.apply(this,arguments)}return Object.create?n.prototype=Object.create(a.prototype):i.extend(n.prototype,a.prototype),n.prototype.constructor=n,n.defaults=i.extend({},a.defaults),i.extend(n.defaults,e),n.prototype.settings={},n.namespace=t,n.data=a.data,n.Item=function(){o.apply(this,arguments)},n.Item.prototype=new o,i.htmlInit(n,t),l&&l.bridget&&l.bridget(t,n),n},a.Item=o,a})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,(function(t){"use strict";function e(){t.Item.apply(this,arguments)}e.prototype=new t.Item,e.prototype._create=function(){this.id=this.layout.itemGUID++,t.Item.prototype._create.call(this),this.sortData={}},e.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var n in t){var r=e[n];this.sortData[n]=r(this.element,this)}}};var n=e.prototype.destroy;return e.prototype.destroy=function(){n.apply(this,arguments),this.css({display:""})},e})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,(function(t,e){"use strict";function n(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}return function(){function t(t){return function(){return e.prototype[t].apply(this.isotope,arguments)}}for(var r=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],i=0,o=r.length;o>i;i++){var a=r[i];n.prototype[a]=t(a)}}(),n.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element);return this.isotope.size&&e&&e.innerHeight!=this.isotope.size.innerHeight},n.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},n.prototype.getSegmentSize=function(t,e){var n=t+e,r="outer"+e;if(this._getMeasurement(n,r),!this[n]){var i=this.getFirstItemSize();this[n]=i&&i[r]||this.isotope.size["inner"+e]}},n.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},n.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(t,e){function r(){n.apply(this,arguments)}return r.prototype=new n,e&&(r.options=e),r.prototype.namespace=t,n.modes[t]=r,r},n})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],e):"object"==typeof exports?module.exports=e(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):t.Masonry=e(t.Outlayer,t.getSize,t.fizzyUIUtils)}(window,(function(t,e,n){var r=t.create("masonry");return r.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var t=this.cols;for(this.colYs=[];t--;)this.colYs.push(0);this.maxY=0},r.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],n=t&&t.element;this.columnWidth=n&&e(n).outerWidth||this.containerWidth}var r=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,o=i/r,a=r-i%r;o=Math[a&&1>a?"round":"floor"](o),this.cols=Math.max(o,1)},r.prototype.getContainerWidth=function(){var t=this.options.isFitWidth?this.element.parentNode:this.element,n=e(t);this.containerWidth=n&&n.innerWidth},r.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,r=Math[e&&1>e?"round":"ceil"](t.size.outerWidth/this.columnWidth);r=Math.min(r,this.cols);for(var i=this._getColGroup(r),o=Math.min.apply(Math,i),a=n.indexOf(i,o),s={x:this.columnWidth*a,y:o},l=o+t.size.outerHeight,u=this.cols+1-i.length,c=0;u>c;c++)this.colYs[a+c]=l;return s},r.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],n=this.cols+1-t,r=0;n>r;r++){var i=this.colYs.slice(r,r+t);e[r]=Math.max.apply(Math,i)}return e},r.prototype._manageStamp=function(t){var n=e(t),r=this._getElementOffset(t),i=this.options.isOriginLeft?r.left:r.right,o=i+n.outerWidth,a=Math.floor(i/this.columnWidth);a=Math.max(0,a);var s=Math.floor(o/this.columnWidth);s-=o%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var l=(this.options.isOriginTop?r.top:r.bottom)+n.outerHeight,u=a;s>=u;u++)this.colYs[u]=Math.max(l,this.colYs[u])},r.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this.options.isFitWidth&&(t.width=this._getContainerFitWidth()),t},r.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},r.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!==this.containerWidth},r})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,(function(t,e){"use strict";var n=t.create("masonry"),r=n.prototype._getElementOffset,i=n.prototype.layout,o=n.prototype._getMeasurement;(function(t,e){for(var n in e)t[n]=e[n]})(n.prototype,e.prototype),n.prototype._getElementOffset=r,n.prototype.layout=i,n.prototype._getMeasurement=o;var a=n.prototype.measureColumns;n.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var s=n.prototype._manageStamp;return n.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,s.apply(this,arguments)},n})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,(function(t){"use strict";var e=t.create("fitRows");return e.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,n=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>n&&(this.x=0,this.y=this.maxY);var r={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,r},e.prototype._getContainerSize=function(){return{height:this.maxY}},e})),function(t,e){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,(function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0});return e.prototype._resetLayout=function(){this.y=0},e.prototype._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,n=this.y;return this.y+=t.size.outerHeight,{x:e,y:n}},e.prototype._getContainerSize=function(){return{height:this.y}},e})),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],(function(n,r,i,o,a,s){return e(t,n,r,i,o,a,s)})):"object"==typeof exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,(function(t,e,n,r,i,o,a){var s=t.jQuery,l=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},u=document.documentElement.textContent?function(t){return t.textContent}:function(t){return t.innerText},c=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});c.Item=o,c.LayoutMode=a,c.prototype._create=function(){for(var t in this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],a.modes)this._initLayoutMode(t)},c.prototype.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},c.prototype._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),n=0,r=t.length;r>n;n++){var i=t[n];i.id=this.itemGUID++}return this._updateItemsSortData(t),t},c.prototype._initLayoutMode=function(t){var e=a.modes[t],n=this.options[t]||{};this.options[t]=e.options?i.extend(e.options,n):n,this.modes[t]=new e(this)},c.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},c.prototype._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},c.prototype.arrange=function(t){function e(){r.reveal(n.needReveal),r.hide(n.needHide)}this.option(t),this._getIsInstant();var n=this._filter(this.items);this.filteredItems=n.matches;var r=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(e):e(),this._sort(),this._layout()},c.prototype._init=c.prototype.arrange,c.prototype._getIsInstant=function(){var t=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=t,t},c.prototype._bindArrangeComplete=function(){function t(){e&&n&&r&&i.dispatchEvent("arrangeComplete",null,[i.filteredItems])}var e,n,r,i=this;this.once("layoutComplete",(function(){e=!0,t()})),this.once("hideComplete",(function(){n=!0,t()})),this.once("revealComplete",(function(){r=!0,t()}))},c.prototype._filter=function(t){var e=this.options.filter;e=e||"*";for(var n=[],r=[],i=[],o=this._getFilterTest(e),a=0,s=t.length;s>a;a++){var l=t[a];if(!l.isIgnored){var u=o(l);u&&n.push(l),u&&l.isHidden?r.push(l):u||l.isHidden||i.push(l)}}return{matches:n,needReveal:r,needHide:i}},c.prototype._getFilterTest=function(t){return s&&this.options.isJQueryFiltering?function(e){return s(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return r(e.element,t)}},c.prototype.updateSortData=function(t){var e;t?(t=i.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},c.prototype._getSorters=function(){var t=this.options.getSortData;for(var e in t){var n=t[e];this._sorters[e]=f(n)}},c.prototype._updateItemsSortData=function(t){for(var e=t&&t.length,n=0;e&&e>n;n++){t[n].updateSortData()}};var f=function(t){if("string"!=typeof t)return t;var e=l(t).split(" "),n=e[0],r=n.match(/^\[(.+)\]$/),i=function(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var n=t.querySelector(e);return n&&u(n)}}(r&&r[1],n),o=c.sortDataParsers[e[1]];return o?function(t){return t&&o(i(t))}:function(t){return t&&i(t)}};c.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},c.prototype._sort=function(){var t=this.options.sortBy;if(t){var e=function(t,e){return function(n,r){for(var i=0,o=t.length;o>i;i++){var a=t[i],s=n.sortData[a],l=r.sortData[a];if(s>l||l>s)return(s>l?1:-1)*((void 0!==e[a]?e[a]:e)?1:-1)}return 0}}([].concat.apply(t,this.sortHistory),this.options.sortAscending);this.filteredItems.sort(e),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},c.prototype._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},c.prototype._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},c.prototype._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},c.prototype._manageStamp=function(t){this._mode()._manageStamp(t)},c.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},c.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},c.prototype.appended=function(t){var e=this.addItems(t);if(e.length){var n=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(n)}},c.prototype.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var n=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=n.concat(this.filteredItems),this.items=e.concat(this.items)}},c.prototype._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},c.prototype.insert=function(t){var e=this.addItems(t);if(e.length){var n,r,i=e.length;for(n=0;i>n;n++)r=e[n],this.element.appendChild(r.element);var o=this._filter(e).matches;for(n=0;i>n;n++)e[n].isLayoutInstant=!0;for(this.arrange(),n=0;i>n;n++)delete e[n].isLayoutInstant;this.reveal(o)}};var h=c.prototype.remove;return c.prototype.remove=function(t){t=i.makeArray(t);var e=this.getItems(t);h.call(this,t);var n=e&&e.length;if(n)for(var r=0;n>r;r++){var o=e[r];i.removeFrom(this.filteredItems,o)}},c.prototype.shuffle=function(){for(var t=0,e=this.items.length;e>t;t++){this.items[t].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},c.prototype._noTransition=function(t){var e=this.options.transitionDuration;this.options.transitionDuration=0;var n=t.call(this);return this.options.transitionDuration=e,n},c.prototype.getFilteredItemElements=function(){for(var t=[],e=0,n=this.filteredItems.length;n>e;e++)t.push(this.filteredItems[e].element);return t},c})),function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){var n=e[a][1][t];return i(n||t)}),c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";function r(t){t.fn.perfectScrollbar=function(e){return this.each((function(){if("object"==typeof e||void 0===e){var n=e;o.get(this)||i.initialize(this,n)}else{var r=e;"update"===r?i.update(this):"destroy"===r&&i.destroy(this)}return t(this)}))}}var i=t("../main"),o=t("../plugin/instances");if("function"==typeof define&&define.amd)define(["jquery"],r);else{var a=window.jQuery?window.jQuery:window.$;void 0!==a&&r(a)}e.exports=r},{"../main":7,"../plugin/instances":18}],2:[function(t,e,n){"use strict";n.add=function(t,e){t.classList?t.classList.add(e):function(t,e){var n=t.className.split(" ");n.indexOf(e)<0&&n.push(e),t.className=n.join(" ")}(t,e)},n.remove=function(t,e){t.classList?t.classList.remove(e):function(t,e){var n=t.className.split(" "),r=n.indexOf(e);r>=0&&n.splice(r,1),t.className=n.join(" ")}(t,e)},n.list=function(t){return t.classList?Array.prototype.slice.apply(t.classList):t.className.split(" ")}},{}],3:[function(t,e,n){"use strict";var r={e:function(t,e){var n=document.createElement(t);return n.className=e,n},appendTo:function(t,e){return e.appendChild(t),t}};r.css=function(t,e,n){return"object"==typeof e?function(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r=r.toString()+"px"),t.style[n]=r}return t}(t,e):void 0===n?function(t,e){return window.getComputedStyle(t)[e]}(t,e):function(t,e,n){return"number"==typeof n&&(n=n.toString()+"px"),t.style[e]=n,t}(t,e,n)},r.matches=function(t,e){return void 0!==t.matches?t.matches(e):void 0!==t.matchesSelector?t.matchesSelector(e):void 0!==t.webkitMatchesSelector?t.webkitMatchesSelector(e):void 0!==t.mozMatchesSelector?t.mozMatchesSelector(e):void 0!==t.msMatchesSelector?t.msMatchesSelector(e):void 0},r.remove=function(t){void 0!==t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)},r.queryChildren=function(t,e){return Array.prototype.filter.call(t.childNodes,(function(t){return r.matches(t,e)}))},e.exports=r},{}],4:[function(t,e,n){"use strict";var r=function(t){this.element=t,this.events={}};r.prototype.bind=function(t,e){void 0===this.events[t]&&(this.events[t]=[]),this.events[t].push(e),this.element.addEventListener(t,e,!1)},r.prototype.unbind=function(t,e){var n=void 0!==e;this.events[t]=this.events[t].filter((function(r){return!(!n||r===e)||(this.element.removeEventListener(t,r,!1),!1)}),this)},r.prototype.unbindAll=function(){for(var t in this.events)this.unbind(t)};var i=function(){this.eventElements=[]};i.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return void 0===e&&(e=new r(t),this.eventElements.push(e)),e},i.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},i.prototype.unbind=function(t,e,n){this.eventElement(t).unbind(e,n)},i.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++)this.eventElements[t].unbindAll()},i.prototype.once=function(t,e,n){var r=this.eventElement(t),i=function(t){r.unbind(e,i),n(t)};r.bind(e,i)},e.exports=i},{}],5:[function(t,e,n){"use strict";e.exports=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}()},{}],6:[function(t,e,n){"use strict";var r=t("./class"),i=t("./dom");n.toInt=function(t){return parseInt(t,10)||0},n.clone=function(t){if(null===t)return null;if("object"==typeof t){var e={};for(var n in t)e[n]=this.clone(t[n]);return e}return t},n.extend=function(t,e){var n=this.clone(t);for(var r in e)n[r]=this.clone(e[r]);return n},n.isEditable=function(t){return i.matches(t,"input,[contenteditable]")||i.matches(t,"select,[contenteditable]")||i.matches(t,"textarea,[contenteditable]")||i.matches(t,"button,[contenteditable]")},n.removePsClasses=function(t){for(var e=r.list(t),n=0;n<e.length;n++){var i=e[n];0===i.indexOf("ps-")&&r.remove(t,i)}},n.outerWidth=function(t){return this.toInt(i.css(t,"width"))+this.toInt(i.css(t,"paddingLeft"))+this.toInt(i.css(t,"paddingRight"))+this.toInt(i.css(t,"borderLeftWidth"))+this.toInt(i.css(t,"borderRightWidth"))},n.startScrolling=function(t,e){r.add(t,"ps-in-scrolling"),void 0!==e?r.add(t,"ps-"+e):(r.add(t,"ps-x"),r.add(t,"ps-y"))},n.stopScrolling=function(t,e){r.remove(t,"ps-in-scrolling"),void 0!==e?r.remove(t,"ps-"+e):(r.remove(t,"ps-x"),r.remove(t,"ps-y"))},n.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{"./class":2,"./dom":3}],7:[function(t,e,n){"use strict";var r=t("./plugin/destroy"),i=t("./plugin/initialize"),o=t("./plugin/update");e.exports={initialize:i,update:o,destroy:r}},{"./plugin/destroy":9,"./plugin/initialize":17,"./plugin/update":21}],8:[function(t,e,n){"use strict";e.exports={maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,useKeyboard:!0,useSelectionScroll:!1,wheelPropagation:!1,wheelSpeed:1}},{}],9:[function(t,e,n){"use strict";var r=t("../lib/dom"),i=t("../lib/helper"),o=t("./instances");e.exports=function(t){var e=o.get(t);e&&(e.event.unbindAll(),r.remove(e.scrollbarX),r.remove(e.scrollbarY),r.remove(e.scrollbarXRail),r.remove(e.scrollbarYRail),i.removePsClasses(t),o.remove(t))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18}],10:[function(t,e,n){"use strict";var r=t("../../lib/helper"),i=t("../instances"),o=t("../update-geometry"),a=t("../update-scroll");e.exports=function(t){!function(t,e){function n(t){return t.getBoundingClientRect()}var i=window.Event.prototype.stopPropagation.bind;e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarY,"click",i),e.event.bind(e.scrollbarYRail,"click",(function(i){var s=r.toInt(e.scrollbarYHeight/2),l=e.railYRatio*(i.pageY-window.pageYOffset-n(e.scrollbarYRail).top-s)/(e.railYRatio*(e.railYHeight-e.scrollbarYHeight));0>l?l=0:l>1&&(l=1),a(t,"top",(e.contentHeight-e.containerHeight)*l),o(t),i.stopPropagation()})),e.settings.stopPropagationOnClick&&e.event.bind(e.scrollbarX,"click",i),e.event.bind(e.scrollbarXRail,"click",(function(i){var s=r.toInt(e.scrollbarXWidth/2),l=e.railXRatio*(i.pageX-window.pageXOffset-n(e.scrollbarXRail).left-s)/(e.railXRatio*(e.railXWidth-e.scrollbarXWidth));0>l?l=0:l>1&&(l=1),a(t,"left",(e.contentWidth-e.containerWidth)*l-e.negativeScrollAdjustment),o(t),i.stopPropagation()}))}(t,i.get(t))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],11:[function(t,e,n){"use strict";var r=t("../../lib/dom"),i=t("../../lib/helper"),o=t("../instances"),a=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){var e=o.get(t);(function(t,e){function n(n){var r=o+n*e.railXRatio,a=Math.max(0,e.scrollbarXRail.getBoundingClientRect().left)+e.railXRatio*(e.railXWidth-e.scrollbarXWidth);e.scrollbarXLeft=0>r?0:r>a?a:r;var l=i.toInt(e.scrollbarXLeft*(e.contentWidth-e.containerWidth)/(e.containerWidth-e.railXRatio*e.scrollbarXWidth))-e.negativeScrollAdjustment;s(t,"left",l)}var o=null,l=null,u=function(e){n(e.pageX-l),a(t),e.stopPropagation(),e.preventDefault()},c=function(){i.stopScrolling(t,"x"),e.event.unbind(e.ownerDocument,"mousemove",u)};e.event.bind(e.scrollbarX,"mousedown",(function(n){l=n.pageX,o=i.toInt(r.css(e.scrollbarX,"left"))*e.railXRatio,i.startScrolling(t,"x"),e.event.bind(e.ownerDocument,"mousemove",u),e.event.once(e.ownerDocument,"mouseup",c),n.stopPropagation(),n.preventDefault()}))})(t,e),function(t,e){function n(n){var r=o+n*e.railYRatio,a=Math.max(0,e.scrollbarYRail.getBoundingClientRect().top)+e.railYRatio*(e.railYHeight-e.scrollbarYHeight);e.scrollbarYTop=0>r?0:r>a?a:r;var l=i.toInt(e.scrollbarYTop*(e.contentHeight-e.containerHeight)/(e.containerHeight-e.railYRatio*e.scrollbarYHeight));s(t,"top",l)}var o=null,l=null,u=function(e){n(e.pageY-l),a(t),e.stopPropagation(),e.preventDefault()},c=function(){i.stopScrolling(t,"y"),e.event.unbind(e.ownerDocument,"mousemove",u)};e.event.bind(e.scrollbarY,"mousedown",(function(n){l=n.pageY,o=i.toInt(r.css(e.scrollbarY,"top"))*e.railYRatio,i.startScrolling(t,"y"),e.event.bind(e.ownerDocument,"mousemove",u),e.event.once(e.ownerDocument,"mouseup",c),n.stopPropagation(),n.preventDefault()}))}(t,e)}},{"../../lib/dom":3,"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],12:[function(t,e,n){"use strict";function r(t,e){var n=!1;e.event.bind(t,"mouseenter",(function(){n=!0})),e.event.bind(t,"mouseleave",(function(){n=!1}));e.event.bind(e.ownerDocument,"keydown",(function(r){if((!r.isDefaultPrevented||!r.isDefaultPrevented())&&n){var o=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(o){for(;o.shadowRoot;)o=o.shadowRoot.activeElement;if(i.isEditable(o))return}var l=0,u=0;switch(r.which){case 37:l=-30;break;case 38:u=30;break;case 39:l=30;break;case 40:u=-30;break;case 33:u=90;break;case 32:u=r.shiftKey?90:-90;break;case 34:u=-90;break;case 35:u=r.ctrlKey?-e.contentHeight:-e.containerHeight;break;case 36:u=r.ctrlKey?t.scrollTop:e.containerHeight;break;default:return}s(t,"top",t.scrollTop-u),s(t,"left",t.scrollLeft+l),a(t),function(n,r){var i=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===i&&r>0||i>=e.contentHeight-e.containerHeight&&0>r)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===o&&0>n||o>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(l,u)&&r.preventDefault()}}))}var i=t("../../lib/helper"),o=t("../instances"),a=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){r(t,o.get(t))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],13:[function(t,e,n){"use strict";function r(t,e){function n(n){var i=function(t){var e=t.deltaX,n=-1*t.deltaY;return(void 0===e||void 0===n)&&(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),[e,n]}(n),s=i[0],l=i[1];(function(e,n){var r=t.querySelector("textarea:hover");if(r){var i=r.scrollHeight-r.clientHeight;if(i>0&&!(0===r.scrollTop&&n>0||r.scrollTop===i&&0>n))return!0;var o=r.scrollLeft-r.clientWidth;if(o>0&&!(0===r.scrollLeft&&0>e||r.scrollLeft===o&&e>0))return!0}return!1})(s,l)||(r=!1,e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(a(t,"top",l?t.scrollTop-l*e.settings.wheelSpeed:t.scrollTop+s*e.settings.wheelSpeed),r=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(a(t,"left",s?t.scrollLeft+s*e.settings.wheelSpeed:t.scrollLeft-l*e.settings.wheelSpeed),r=!0):(a(t,"top",t.scrollTop-l*e.settings.wheelSpeed),a(t,"left",t.scrollLeft+s*e.settings.wheelSpeed)),o(t),(r=r||function(n,r){var i=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===i&&r>0||i>=e.contentHeight-e.containerHeight&&0>r)return!e.settings.wheelPropagation}var o=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===o&&0>n||o>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}(s,l))&&(n.stopPropagation(),n.preventDefault()))}var r=!1;void 0!==window.onwheel?e.event.bind(t,"wheel",n):void 0!==window.onmousewheel&&e.event.bind(t,"mousewheel",n)}var i=t("../instances"),o=t("../update-geometry"),a=t("../update-scroll");e.exports=function(t){r(t,i.get(t))}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],14:[function(t,e,n){"use strict";var r=t("../instances"),i=t("../update-geometry");e.exports=function(t){!function(t,e){e.event.bind(t,"scroll",(function(){i(t)}))}(t,r.get(t))}},{"../instances":18,"../update-geometry":19}],15:[function(t,e,n){"use strict";function r(t,e){function n(){l||(l=setInterval((function(){return o.get(t)?(s(t,"top",t.scrollTop+u.top),s(t,"left",t.scrollLeft+u.left),void a(t)):void clearInterval(l)}),50))}function r(){l&&(clearInterval(l),l=null),i.stopScrolling(t)}var l=null,u={top:0,left:0},c=!1;e.event.bind(e.ownerDocument,"selectionchange",(function(){t.contains(function(){var t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===t.toString().length?null:t.getRangeAt(0).commonAncestorContainer}())?c=!0:(c=!1,r())})),e.event.bind(window,"mouseup",(function(){c&&(c=!1,r())})),e.event.bind(window,"mousemove",(function(e){if(c){var o={x:e.pageX,y:e.pageY},a={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};o.x<a.left+3?(u.left=-5,i.startScrolling(t,"x")):o.x>a.right-3?(u.left=5,i.startScrolling(t,"x")):u.left=0,o.y<a.top+3?(u.top=a.top+3-o.y<5?-5:-20,i.startScrolling(t,"y")):o.y>a.bottom-3?(u.top=o.y-a.bottom+3<5?5:20,i.startScrolling(t,"y")):u.top=0,0===u.top&&0===u.left?r():n()}}))}var i=t("../../lib/helper"),o=t("../instances"),a=t("../update-geometry"),s=t("../update-scroll");e.exports=function(t){r(t,o.get(t))}},{"../../lib/helper":6,"../instances":18,"../update-geometry":19,"../update-scroll":20}],16:[function(t,e,n){"use strict";function r(t,e,n,r){function s(n,r){var i=t.scrollTop,o=t.scrollLeft,a=Math.abs(n),s=Math.abs(r);if(s>a){if(0>r&&i===e.contentHeight-e.containerHeight||r>0&&0===i)return!e.settings.swipePropagation}else if(a>s&&(0>n&&o===e.contentWidth-e.containerWidth||n>0&&0===o))return!e.settings.swipePropagation;return!0}function l(e,n){a(t,"top",t.scrollTop-n),a(t,"left",t.scrollLeft-e),o(t)}function u(){x=!0}function c(){x=!1}function f(t){return t.targetTouches?t.targetTouches[0]:t}function h(t){return!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)}function d(t){if(h(t)){w=!0;var e=f(t);g.pageX=e.pageX,g.pageY=e.pageY,v=(new Date).getTime(),null!==b&&clearInterval(b),t.stopPropagation()}}function p(t){if(!x&&w&&h(t)){var e=f(t),n={pageX:e.pageX,pageY:e.pageY},r=n.pageX-g.pageX,i=n.pageY-g.pageY;l(r,i),g=n;var o=(new Date).getTime(),a=o-v;a>0&&(y.x=r/a,y.y=i/a,v=o),s(r,i)&&(t.stopPropagation(),t.preventDefault())}}function m(){!x&&w&&(w=!1,clearInterval(b),b=setInterval((function(){return i.get(t)?Math.abs(y.x)<.01&&Math.abs(y.y)<.01?void clearInterval(b):(l(30*y.x,30*y.y),y.x*=.8,void(y.y*=.8)):void clearInterval(b)}),10))}var g={},v=0,y={},b=null,x=!1,w=!1;n&&(e.event.bind(window,"touchstart",u),e.event.bind(window,"touchend",c),e.event.bind(t,"touchstart",d),e.event.bind(t,"touchmove",p),e.event.bind(t,"touchend",m)),r&&(window.PointerEvent?(e.event.bind(window,"pointerdown",u),e.event.bind(window,"pointerup",c),e.event.bind(t,"pointerdown",d),e.event.bind(t,"pointermove",p),e.event.bind(t,"pointerup",m)):window.MSPointerEvent&&(e.event.bind(window,"MSPointerDown",u),e.event.bind(window,"MSPointerUp",c),e.event.bind(t,"MSPointerDown",d),e.event.bind(t,"MSPointerMove",p),e.event.bind(t,"MSPointerUp",m)))}var i=t("../instances"),o=t("../update-geometry"),a=t("../update-scroll");e.exports=function(t,e,n){r(t,i.get(t),e,n)}},{"../instances":18,"../update-geometry":19,"../update-scroll":20}],17:[function(t,e,n){"use strict";var r=t("../lib/class"),i=t("../lib/helper"),o=t("./instances"),a=t("./update-geometry"),s=t("./handler/click-rail"),l=t("./handler/drag-scrollbar"),u=t("./handler/keyboard"),c=t("./handler/mouse-wheel"),f=t("./handler/native-scroll"),h=t("./handler/selection"),d=t("./handler/touch");e.exports=function(t,e){e="object"==typeof e?e:{},r.add(t,"ps-container");var n=o.add(t);n.settings=i.extend(n.settings,e),s(t),l(t),c(t),f(t),n.settings.useSelectionScroll&&h(t),(i.env.supportsTouch||i.env.supportsIePointer)&&d(t,i.env.supportsTouch,i.env.supportsIePointer),n.settings.useKeyboard&&u(t),a(t)}},{"../lib/class":2,"../lib/helper":6,"./handler/click-rail":10,"./handler/drag-scrollbar":11,"./handler/keyboard":12,"./handler/mouse-wheel":13,"./handler/native-scroll":14,"./handler/selection":15,"./handler/touch":16,"./instances":18,"./update-geometry":19}],18:[function(t,e,n){"use strict";function r(t){var e=this;e.settings=u.clone(a),e.containerWidth=null,e.containerHeight=null,e.contentWidth=null,e.contentHeight=null,e.isRtl="rtl"===o.css(t,"direction"),e.isNegativeScroll=function(){var e,n=t.scrollLeft;return t.scrollLeft=-1,e=t.scrollLeft<0,t.scrollLeft=n,e}(),e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,e.event=new s,e.ownerDocument=t.ownerDocument||document,e.scrollbarXRail=o.appendTo(o.e("div","ps-scrollbar-x-rail"),t),e.scrollbarX=o.appendTo(o.e("div","ps-scrollbar-x"),e.scrollbarXRail),e.scrollbarX.setAttribute("tabindex",0),e.scrollbarXActive=null,e.scrollbarXWidth=null,e.scrollbarXLeft=null,e.scrollbarXBottom=u.toInt(o.css(e.scrollbarXRail,"bottom")),e.isScrollbarXUsingBottom=e.scrollbarXBottom==e.scrollbarXBottom,e.scrollbarXTop=e.isScrollbarXUsingBottom?null:u.toInt(o.css(e.scrollbarXRail,"top")),e.railBorderXWidth=u.toInt(o.css(e.scrollbarXRail,"borderLeftWidth"))+u.toInt(o.css(e.scrollbarXRail,"borderRightWidth")),o.css(e.scrollbarXRail,"display","block"),e.railXMarginWidth=u.toInt(o.css(e.scrollbarXRail,"marginLeft"))+u.toInt(o.css(e.scrollbarXRail,"marginRight")),o.css(e.scrollbarXRail,"display",""),e.railXWidth=null,e.railXRatio=null,e.scrollbarYRail=o.appendTo(o.e("div","ps-scrollbar-y-rail"),t),e.scrollbarY=o.appendTo(o.e("div","ps-scrollbar-y"),e.scrollbarYRail),e.scrollbarY.setAttribute("tabindex",0),e.scrollbarYActive=null,e.scrollbarYHeight=null,e.scrollbarYTop=null,e.scrollbarYRight=u.toInt(o.css(e.scrollbarYRail,"right")),e.isScrollbarYUsingRight=e.scrollbarYRight==e.scrollbarYRight,e.scrollbarYLeft=e.isScrollbarYUsingRight?null:u.toInt(o.css(e.scrollbarYRail,"left")),e.scrollbarYOuterWidth=e.isRtl?u.outerWidth(e.scrollbarY):null,e.railBorderYWidth=u.toInt(o.css(e.scrollbarYRail,"borderTopWidth"))+u.toInt(o.css(e.scrollbarYRail,"borderBottomWidth")),o.css(e.scrollbarYRail,"display","block"),e.railYMarginHeight=u.toInt(o.css(e.scrollbarYRail,"marginTop"))+u.toInt(o.css(e.scrollbarYRail,"marginBottom")),o.css(e.scrollbarYRail,"display",""),e.railYHeight=null,e.railYRatio=null}function i(t){return void 0===t.dataset?t.getAttribute("data-ps-id"):t.dataset.psId}var o=t("../lib/dom"),a=t("./default-setting"),s=t("../lib/event-manager"),l=t("../lib/guid"),u=t("../lib/helper"),c={};n.add=function(t){var e=l();return function(t,e){void 0===t.dataset?t.setAttribute("data-ps-id",e):t.dataset.psId=e}(t,e),c[e]=new r(t),c[e]},n.remove=function(t){delete c[i(t)],function(t){void 0===t.dataset?t.removeAttribute("data-ps-id"):delete t.dataset.psId}(t)},n.get=function(t){return c[i(t)]}},{"../lib/dom":3,"../lib/event-manager":4,"../lib/guid":5,"../lib/helper":6,"./default-setting":8}],19:[function(t,e,n){"use strict";function r(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}var i=t("../lib/class"),o=t("../lib/dom"),a=t("../lib/helper"),s=t("./instances"),l=t("./update-scroll");e.exports=function(t){var e,n=s.get(t);n.containerWidth=t.clientWidth,n.containerHeight=t.clientHeight,n.contentWidth=t.scrollWidth,n.contentHeight=t.scrollHeight,t.contains(n.scrollbarXRail)||((e=o.queryChildren(t,".ps-scrollbar-x-rail")).length>0&&e.forEach((function(t){o.remove(t)})),o.appendTo(n.scrollbarXRail,t)),t.contains(n.scrollbarYRail)||((e=o.queryChildren(t,".ps-scrollbar-y-rail")).length>0&&e.forEach((function(t){o.remove(t)})),o.appendTo(n.scrollbarYRail,t)),!n.settings.suppressScrollX&&n.containerWidth+n.settings.scrollXMarginOffset<n.contentWidth?(n.scrollbarXActive=!0,n.railXWidth=n.containerWidth-n.railXMarginWidth,n.railXRatio=n.containerWidth/n.railXWidth,n.scrollbarXWidth=r(n,a.toInt(n.railXWidth*n.containerWidth/n.contentWidth)),n.scrollbarXLeft=a.toInt((n.negativeScrollAdjustment+t.scrollLeft)*(n.railXWidth-n.scrollbarXWidth)/(n.contentWidth-n.containerWidth))):n.scrollbarXActive=!1,!n.settings.suppressScrollY&&n.containerHeight+n.settings.scrollYMarginOffset<n.contentHeight?(n.scrollbarYActive=!0,n.railYHeight=n.containerHeight-n.railYMarginHeight,n.railYRatio=n.containerHeight/n.railYHeight,n.scrollbarYHeight=r(n,a.toInt(n.railYHeight*n.containerHeight/n.contentHeight)),n.scrollbarYTop=a.toInt(t.scrollTop*(n.railYHeight-n.scrollbarYHeight)/(n.contentHeight-n.containerHeight))):n.scrollbarYActive=!1,n.scrollbarXLeft>=n.railXWidth-n.scrollbarXWidth&&(n.scrollbarXLeft=n.railXWidth-n.scrollbarXWidth),n.scrollbarYTop>=n.railYHeight-n.scrollbarYHeight&&(n.scrollbarYTop=n.railYHeight-n.scrollbarYHeight),function(t,e){var n={width:e.railXWidth};e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-t.scrollTop:n.top=e.scrollbarXTop+t.scrollTop,o.css(e.scrollbarXRail,n);var r={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?r.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:r.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?r.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:r.left=e.scrollbarYLeft+t.scrollLeft,o.css(e.scrollbarYRail,r),o.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),o.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(t,n),n.scrollbarXActive?i.add(t,"ps-active-x"):(i.remove(t,"ps-active-x"),n.scrollbarXWidth=0,n.scrollbarXLeft=0,l(t,"left",0)),n.scrollbarYActive?i.add(t,"ps-active-y"):(i.remove(t,"ps-active-y"),n.scrollbarYHeight=0,n.scrollbarYTop=0,l(t,"top",0))}},{"../lib/class":2,"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-scroll":20}],20:[function(t,e,n){"use strict";var r,i,o=t("./instances"),a=document.createEvent("Event"),s=document.createEvent("Event"),l=document.createEvent("Event"),u=document.createEvent("Event"),c=document.createEvent("Event"),f=document.createEvent("Event"),h=document.createEvent("Event"),d=document.createEvent("Event"),p=document.createEvent("Event"),m=document.createEvent("Event");a.initEvent("ps-scroll-up",!0,!0),s.initEvent("ps-scroll-down",!0,!0),l.initEvent("ps-scroll-left",!0,!0),u.initEvent("ps-scroll-right",!0,!0),c.initEvent("ps-scroll-y",!0,!0),f.initEvent("ps-scroll-x",!0,!0),h.initEvent("ps-x-reach-start",!0,!0),d.initEvent("ps-x-reach-end",!0,!0),p.initEvent("ps-y-reach-start",!0,!0),m.initEvent("ps-y-reach-end",!0,!0),e.exports=function(t,e,n){if(void 0===t)throw"You must provide an element to the update-scroll function";if(void 0===e)throw"You must provide an axis to the update-scroll function";if(void 0===n)throw"You must provide a value to the update-scroll function";if("top"===e&&0>=n)return t.scrollTop=0,void t.dispatchEvent(p);if("left"===e&&0>=n)return t.scrollLeft=0,void t.dispatchEvent(h);var g=o.get(t);return"top"===e&&n>=g.contentHeight-g.containerHeight?(t.scrollTop=g.contentHeight-g.containerHeight,void t.dispatchEvent(m)):"left"===e&&n>=g.contentWidth-g.containerWidth?(t.scrollLeft=g.contentWidth-g.containerWidth,void t.dispatchEvent(d)):(r||(r=t.scrollTop),i||(i=t.scrollLeft),"top"===e&&r>n&&t.dispatchEvent(a),"top"===e&&n>r&&t.dispatchEvent(s),"left"===e&&i>n&&t.dispatchEvent(l),"left"===e&&n>i&&t.dispatchEvent(u),"top"===e&&(t.scrollTop=r=n,t.dispatchEvent(c)),void("left"===e&&(t.scrollLeft=i=n,t.dispatchEvent(f))))}},{"./instances":18}],21:[function(t,e,n){"use strict";var r=t("../lib/dom"),i=t("../lib/helper"),o=t("./instances"),a=t("./update-geometry"),s=t("./update-scroll");e.exports=function(t){var e=o.get(t);e&&(e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,r.css(e.scrollbarXRail,"display","block"),r.css(e.scrollbarYRail,"display","block"),e.railXMarginWidth=i.toInt(r.css(e.scrollbarXRail,"marginLeft"))+i.toInt(r.css(e.scrollbarXRail,"marginRight")),e.railYMarginHeight=i.toInt(r.css(e.scrollbarYRail,"marginTop"))+i.toInt(r.css(e.scrollbarYRail,"marginBottom")),r.css(e.scrollbarXRail,"display","none"),r.css(e.scrollbarYRail,"display","none"),a(t),s(t,"top",t.scrollTop),s(t,"left",t.scrollLeft),r.css(e.scrollbarXRail,"display",""),r.css(e.scrollbarYRail,"display",""))}},{"../lib/dom":3,"../lib/helper":6,"./instances":18,"./update-geometry":19,"./update-scroll":20}]},{},[1]),function(t){t.fn.visible=function(e,n){var r=t(this).eq(0),i=r.get(0),o=t(window),a=o.scrollTop();o=a+o.height();var s=r.offset().top,l=s+r.height();return r=!0===e?l:s,s=!0===e?s:l,!!(!0!==n||i.offsetWidth*i.offsetHeight)&&s<=o&&r>=a}}(jQuery),window.Modernizr=function(t,e,n){function r(t){m.cssText=t}function i(t,e){return typeof t===e}function o(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var r in t){var i=t[r];if(!o(i,"-")&&m[i]!==n)return"pfx"!=e||i}return!1}function s(t,e,r){for(var o in t){var a=e[t[o]];if(a!==n)return!1===r?t[o]:i(a,"function")?a.bind(r||e):a}return!1}function l(t,e,n){var r=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+w.join(r+" ")+r).split(" ");return i(e,"string")||i(e,"undefined")?a(o,e):s(o=(t+" "+_.join(r+" ")+r).split(" "),e,n)}var u,c,f={},h=e.documentElement,d="modernizr",p=e.createElement(d),m=p.style,g=e.createElement("input"),v=":)",y={}.toString,b=" -webkit- -moz- -o- -ms- ".split(" "),x="Webkit Moz O ms",w=x.split(" "),_=x.toLowerCase().split(" "),S="http://www.w3.org/2000/svg",j={},C={},I={},E=[],T=E.slice,k=function(t,n,r,i){var o,a,s,l,u=e.createElement("div"),c=e.body,f=c||e.createElement("body");if(parseInt(r,10))for(;r--;)(s=e.createElement("div")).id=i?i[r]:d+(r+1),u.appendChild(s);return o=["&#173;",'<style id="s',d,'">',t,"</style>"].join(""),u.id=d,(c?u:f).innerHTML+=o,f.appendChild(u),c||(f.style.background="",f.style.overflow="hidden",l=h.style.overflow,h.style.overflow="hidden",h.appendChild(f)),a=n(u,t),c?u.parentNode.removeChild(u):(f.parentNode.removeChild(f),h.style.overflow=l),!!a},O=function(){var t={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(r,o){o=o||e.createElement(t[r]||"div");var a=(r="on"+r)in o;return a||(o.setAttribute||(o=e.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(r,""),a=i(o[r],"function"),i(o[r],"undefined")||(o[r]=n),o.removeAttribute(r))),o=null,a}}(),L={}.hasOwnProperty;for(var A in c=i(L,"undefined")||i(L.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return L.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=T.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=e.prototype;var o=new i,a=e.apply(o,n.concat(T.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(T.call(arguments)))};return r}),j.flexbox=function(){return l("flexWrap")},j.canvas=function(){var t=e.createElement("canvas");return!!t.getContext&&!!t.getContext("2d")},j.canvastext=function(){return!!f.canvas&&!!i(e.createElement("canvas").getContext("2d").fillText,"function")},j.webgl=function(){return!!t.WebGLRenderingContext},j.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:k(["@media (",b.join("touch-enabled),("),d,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(t){n=9===t.offsetTop})),n},j.geolocation=function(){return"geolocation"in navigator},j.postmessage=function(){return!!t.postMessage},j.websqldatabase=function(){return!!t.openDatabase},j.indexedDB=function(){return!!l("indexedDB",t)},j.hashchange=function(){return O("hashchange",t)&&(e.documentMode===n||e.documentMode>7)},j.history=function(){return!!t.history&&!!history.pushState},j.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},j.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},j.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),o(m.backgroundColor,"rgba")},j.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),o(m.backgroundColor,"rgba")||o(m.backgroundColor,"hsla")},j.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(m.background)},j.backgroundsize=function(){return l("backgroundSize")},j.borderimage=function(){return l("borderImage")},j.borderradius=function(){return l("borderRadius")},j.boxshadow=function(){return l("boxShadow")},j.textshadow=function(){return""===e.createElement("div").style.textShadow},j.opacity=function(){return function(t,e){r(b.join(t+";")+(e||""))}("opacity:.55"),/^0.55$/.test(m.opacity)},j.cssanimations=function(){return l("animationName")},j.csscolumns=function(){return l("columnCount")},j.cssgradients=function(){var t="background-image:";return r((t+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+t)+b.join("linear-gradient(left top,#9f9, white);"+t)).slice(0,-t.length)),o(m.backgroundImage,"gradient")},j.cssreflections=function(){return l("boxReflect")},j.csstransforms=function(){return!!l("transform")},j.csstransforms3d=function(){var t=!!l("perspective");return t&&"webkitPerspective"in h.style&&k("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",(function(e,n){t=9===e.offsetLeft&&3===e.offsetHeight})),t},j.csstransitions=function(){return l("transition")},j.fontface=function(){var t;return k('@font-face {font-family:"font";src:url("https://")}',(function(n,r){var i=e.getElementById("smodernizr"),o=i.sheet||i.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";t=/src/i.test(a)&&0===a.indexOf(r.split(" ")[0])})),t},j.generatedcontent=function(){var t;return k(["#",d,"{font:0/0 a}#",d,':after{content:"',v,'";visibility:hidden;font:3px/1 a}'].join(""),(function(e){t=e.offsetHeight>=3})),t},j.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&((n=new Boolean(n)).ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return n},j.audio=function(){var t=e.createElement("audio"),n=!1;try{(n=!!t.canPlayType)&&((n=new Boolean(n)).ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(t){}return n},j.localstorage=function(){try{return localStorage.setItem(d,d),localStorage.removeItem(d),!0}catch(t){return!1}},j.sessionstorage=function(){try{return sessionStorage.setItem(d,d),sessionStorage.removeItem(d),!0}catch(t){return!1}},j.webworkers=function(){return!!t.Worker},j.applicationcache=function(){return!!t.applicationCache},j.svg=function(){return!!e.createElementNS&&!!e.createElementNS(S,"svg").createSVGRect},j.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==S},j.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(y.call(e.createElementNS(S,"animate")))},j.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(y.call(e.createElementNS(S,"clipPath")))},j)c(j,A)&&(u=A.toLowerCase(),f[u]=j[A](),E.push((f[u]?"":"no-")+u));return f.input||(f.input=function(n){for(var r=0,i=n.length;r<i;r++)I[n[r]]=n[r]in g;return I.list&&(I.list=!!e.createElement("datalist")&&!!t.HTMLDataListElement),I}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(t){for(var r,i,o,a=0,s=t.length;a<s;a++)g.setAttribute("type",i=t[a]),(r="text"!==g.type)&&(g.value=v,g.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(i)&&g.style.WebkitAppearance!==n?(h.appendChild(g),r=(o=e.defaultView).getComputedStyle&&"textfield"!==o.getComputedStyle(g,null).WebkitAppearance&&0!==g.offsetHeight,h.removeChild(g)):/^(search|tel)$/.test(i)||(r=/^(url|email)$/.test(i)?g.checkValidity&&!1===g.checkValidity():g.value!=v)),C[t[a]]=!!r;return C}("search tel url email datetime date month week time datetime-local number range color".split(" "))),f.addTest=function(t,e){if("object"==typeof t)for(var r in t)c(t,r)&&f.addTest(r,t[r]);else{if(t=t.toLowerCase(),f[t]!==n)return f;e="function"==typeof e?e():e,h.className+=" "+(e?"":"no-")+t,f[t]=e}return f},r(""),p=g=null,function(t,e){function n(){var t=p.elements;return"string"==typeof t?t.split(" "):t}function r(t){var e=d[t[f]];return e||(e={},h++,t[f]=h,d[h]=e),e}function i(t,n,i){return n||(n=e),s?n.createElement(t):(i||(i=r(n)),(o=i.cache[t]?i.cache[t].cloneNode():c.test(t)?(i.cache[t]=i.createElem(t)).cloneNode():i.createElem(t)).canHaveChildren&&!u.test(t)?i.frag.appendChild(o):o);var o}function o(t){t||(t=e);var o=r(t);return p.shivCSS&&!a&&!o.hasCSS&&(o.hasCSS=!!function(t,e){var n=t.createElement("p"),r=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",r.insertBefore(n.lastChild,r.firstChild)}(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),s||function(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return p.shivMethods?i(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/\w+/g,(function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'}))+");return n}")(p,e.frag)}(t,o),t}var a,s,l=t.html5||{},u=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,c=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",h=0,d={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",a="hidden"in t,s=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){a=!0,s=!0}}();var p={elements:l.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==l.shivCSS,supportsUnknownElements:s,shivMethods:!1!==l.shivMethods,type:"default",shivDocument:o,createElement:i,createDocumentFragment:function(t,i){if(t||(t=e),s)return t.createDocumentFragment();for(var o=(i=i||r(t)).frag.cloneNode(),a=0,l=n(),u=l.length;a<u;a++)o.createElement(l[a]);return o}};t.html5=p,o(e)}(this,e),f._version="2.6.2",f._prefixes=b,f._domPrefixes=_,f._cssomPrefixes=w,f.mq=function(e){var n,r=t.matchMedia||t.msMatchMedia;return r?r(e).matches:(k("@media "+e+" { #"+d+" { position: absolute; } }",(function(e){n="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position})),n)},f.hasEvent=O,f.testProp=function(t){return a([t])},f.testAllProps=l,f.testStyles=k,f.prefixed=function(t,e,n){return e?l(t,e,n):l(t,"pfx")},h.className=h.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+E.join(" "),f}(this,this.document),function(t,e,n){function r(t){return"[object Function]"==g.call(t)}function i(t){return"string"==typeof t}function o(){}function a(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function s(){var t=v.shift();y=1,t?t.t?p((function(){("c"==t.t?h.injectCss:h.injectJs)(t.s,0,t.a,t.x,t.e,1)}),0):(t(),s()):y=0}function l(t,n,r,i,o,l,u){function c(e){if(!d&&a(f.readyState)&&(b.r=d=1,!y&&s(),f.onload=f.onreadystatechange=null,e))for(var r in"img"!=t&&p((function(){w.removeChild(f)}),50),I[n])I[n].hasOwnProperty(r)&&I[n][r].onload()}u=u||h.errorTimeout;var f=e.createElement(t),d=0,g=0,b={t:r,s:n,e:o,a:l,x:u};1===I[n]&&(g=1,I[n]=[]),"object"==t?f.data=n:(f.src=n,f.type=t),f.width=f.height="0",f.onerror=f.onload=f.onreadystatechange=function(){c.call(this,g)},v.splice(i,0,b),"img"!=t&&(g||2===I[n]?(w.insertBefore(f,x?null:m),p(c,u)):I[n].push(f))}function u(t,e,n,r,o){return y=0,e=e||"j",i(t)?l("c"==e?S:_,t,e,this.i++,n,r,o):(v.splice(this.i++,0,t),1==v.length&&s()),this}function c(){var t=h;return t.loader={load:u,i:0},t}var f,h,d=e.documentElement,p=t.setTimeout,m=e.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,b="MozAppearance"in d.style,x=b&&!!e.createRange().compareNode,w=x?d:m.parentNode,_=(d=t.opera&&"[object Opera]"==g.call(t.opera),d=!!e.attachEvent&&!d,b?"object":d?"script":"img"),S=d?"script":_,j=Array.isArray||function(t){return"[object Array]"==g.call(t)},C=[],I={},E={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};(h=function(t){function e(t,e,n,i,o){var a=function(t){t=t.split("!");var e,n,r,i=C.length,o=t.pop(),a=t.length;for(o={url:o,origUrl:o,prefixes:t},n=0;n<a;n++)r=t[n].split("="),(e=E[r.shift()])&&(o=e(o,r));for(n=0;n<i;n++)o=C[n](o);return o}(t),s=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(e&&(e=r(e)?e:e[t]||e[i]||e[t.split("/").pop().split("?")[0]]),a.instead?a.instead(t,e,n,i,o):(I[a.url]?a.noexec=!0:I[a.url]=1,n.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":undefined,a.noexec,a.attrs,a.timeout),(r(e)||r(s))&&n.load((function(){c(),e&&e(a.origUrl,o,i),s&&s(a.origUrl,o,i),I[a.url]=2}))))}function n(t,n){function a(t,o){if(t){if(i(t))o||(f=function(){var t=[].slice.call(arguments);h.apply(this,t),d()}),e(t,f,n,0,u);else if(Object(t)===t)for(l in s=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(l)&&(!o&&!--s&&(r(f)?f=function(){var t=[].slice.call(arguments);h.apply(this,t),d()}:f[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),d()}}(h[l])),e(t[l],f,n,l,u))}else!o&&d()}var s,l,u=!!t.test,c=t.load||t.both,f=t.callback||o,h=f,d=t.complete||o;a(u?t.yep:t.nope,!!c),c&&a(c)}var a,s,l=this.yepnope.loader;if(i(t))e(t,0,l,0);else if(j(t))for(a=0;a<t.length;a++)i(s=t[a])?e(s,0,l,0):j(s)?h(s):Object(s)===s&&n(s,l);else Object(t)===t&&n(t,l)}).addPrefix=function(t,e){E[t]=e},h.addFilter=function(t){C.push(t)},h.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",f=function(){e.removeEventListener("DOMContentLoaded",f,0),e.readyState="complete"},0)),t.yepnope=c(),t.yepnope.executeStack=s,t.yepnope.injectJs=function(t,n,r,i,l,u){var c,f,d=e.createElement("script");i=i||h.errorTimeout;for(f in d.src=t,r)d.setAttribute(f,r[f]);n=u?s:n||o,d.onreadystatechange=d.onload=function(){!c&&a(d.readyState)&&(c=1,n(),d.onload=d.onreadystatechange=null)},p((function(){c||(c=1,n(1))}),i),l?d.onload():m.parentNode.insertBefore(d,m)},t.yepnope.injectCss=function(t,n,r,i,a,l){var u;i=e.createElement("link"),n=l?s:n||o;for(u in i.href=t,i.rel="stylesheet",i.type="text/css",r)i.setAttribute(u,r[u]);a||(m.parentNode.insertBefore(i,m),p(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}((function(t){var e,n,r,i,o,a,s="Close",l="BeforeClose",u="MarkupParse",c="Open",f="Change",h="mfp",d="."+h,p="mfp-ready",m="mfp-removing",g="mfp-prevent-close",v=function(){},y=!!window.jQuery,b=t(window),x=function(t,n){e.ev.on(h+t+d,n)},w=function(e,n,r,i){var o=document.createElement("div");return o.className="mfp-"+e,r&&(o.innerHTML=r),i?n&&n.appendChild(o):(o=t(o),n&&o.appendTo(n)),o},_=function(n,r){e.ev.triggerHandler(h+n,r),e.st.callbacks&&(n=n.charAt(0).toLowerCase()+n.slice(1),e.st.callbacks[n]&&e.st.callbacks[n].apply(e,t.isArray(r)?r:[r]))},S=function(n){return n===a&&e.currTemplate.closeBtn||(e.currTemplate.closeBtn=t(e.st.closeMarkup.replace("%title%",e.st.tClose)),a=n),e.currTemplate.closeBtn},j=function(){t.magnificPopup.instance||((e=new v).init(),t.magnificPopup.instance=e)};v.prototype={constructor:v,init:function(){var n=navigator.appVersion;e.isIE7=-1!==n.indexOf("MSIE 7."),e.isIE8=-1!==n.indexOf("MSIE 8."),e.isLowIE=e.isIE7||e.isIE8,e.isAndroid=/android/gi.test(n),e.isIOS=/iphone|ipad|ipod/gi.test(n),e.supportsTransition=function(){var t=document.createElement("p").style,e=["ms","O","Moz","Webkit"];if(void 0!==t.transition)return!0;for(;e.length;)if(e.pop()+"Transition"in t)return!0;return!1}(),e.probablyMobile=e.isAndroid||e.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),r=t(document),e.popupsCache={}},open:function(n){var i;if(!1===n.isObj){e.items=n.items.toArray(),e.index=0;var a,s=n.items;for(i=0;i<s.length;i++)if((a=s[i]).parsed&&(a=a.el[0]),a===n.el[0]){e.index=i;break}}else e.items=t.isArray(n.items)?n.items:[n.items],e.index=n.index||0;if(!e.isOpen){e.types=[],o="",e.ev=n.mainEl&&n.mainEl.length?n.mainEl.eq(0):r,n.key?(e.popupsCache[n.key]||(e.popupsCache[n.key]={}),e.currTemplate=e.popupsCache[n.key]):e.currTemplate={},e.st=t.extend(!0,{},t.magnificPopup.defaults,n),e.fixedContentPos="auto"===e.st.fixedContentPos?!e.probablyMobile:e.st.fixedContentPos,e.st.modal&&(e.st.closeOnContentClick=!1,e.st.closeOnBgClick=!1,e.st.showCloseBtn=!1,e.st.enableEscapeKey=!1),e.bgOverlay||(e.bgOverlay=w("bg").on("click"+d,(function(){e.close()})),e.wrap=w("wrap").attr("tabindex",-1).on("click"+d,(function(t){e._checkIfClose(t.target)&&e.close()})),e.container=w("container",e.wrap)),e.contentContainer=w("content"),e.st.preloader&&(e.preloader=w("preloader",e.container,e.st.tLoading));var l=t.magnificPopup.modules;for(i=0;i<l.length;i++){var f=l[i];f=f.charAt(0).toUpperCase()+f.slice(1),e["init"+f].call(e)}_("BeforeOpen"),e.st.showCloseBtn&&(e.st.closeBtnInside?(x(u,(function(t,e,n,r){n.close_replaceWith=S(r.type)})),o+=" mfp-close-btn-in"):e.wrap.append(S())),e.st.alignTop&&(o+=" mfp-align-top"),e.wrap.css(e.fixedContentPos?{overflow:e.st.overflowY,overflowX:"hidden",overflowY:e.st.overflowY}:{top:b.scrollTop(),position:"absolute"}),(!1===e.st.fixedBgPos||"auto"===e.st.fixedBgPos&&!e.fixedContentPos)&&e.bgOverlay.css({height:r.height(),position:"absolute"}),e.st.enableEscapeKey&&r.on("keyup"+d,(function(t){27===t.keyCode&&e.close()})),b.on("resize"+d,(function(){e.updateSize()})),e.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&e.wrap.addClass(o);var h=e.wH=b.height(),m={};if(e.fixedContentPos&&e._hasScrollBar(h)){var g=e._getScrollbarSize();g&&(m.marginRight=g)}e.fixedContentPos&&(e.isIE7?t("body, html").css("overflow","hidden"):m.overflow="hidden");var v=e.st.mainClass;return e.isIE7&&(v+=" mfp-ie7"),v&&e._addClassToMFP(v),e.updateItemHTML(),_("BuildControls"),t("html").css(m),e.bgOverlay.add(e.wrap).prependTo(e.st.prependTo||t(document.body)),e._lastFocusedEl=document.activeElement,setTimeout((function(){e.content?(e._addClassToMFP(p),e._setFocus()):e.bgOverlay.addClass(p),r.on("focusin"+d,e._onFocusIn)}),16),e.isOpen=!0,e.updateSize(h),_(c),n}e.updateItemHTML()},close:function(){e.isOpen&&(_(l),e.isOpen=!1,e.st.removalDelay&&!e.isLowIE&&e.supportsTransition?(e._addClassToMFP(m),setTimeout((function(){e._close()}),e.st.removalDelay)):e._close())},_close:function(){_(s);var n=m+" "+p+" ";if(e.bgOverlay.detach(),e.wrap.detach(),e.container.empty(),e.st.mainClass&&(n+=e.st.mainClass+" "),e._removeClassFromMFP(n),e.fixedContentPos){var i={marginRight:""};e.isIE7?t("body, html").css("overflow",""):i.overflow="",t("html").css(i)}r.off("keyup.mfp focusin"+d),e.ev.off(d),e.wrap.attr("class","mfp-wrap").removeAttr("style"),e.bgOverlay.attr("class","mfp-bg"),e.container.attr("class","mfp-container"),!e.st.showCloseBtn||e.st.closeBtnInside&&!0!==e.currTemplate[e.currItem.type]||e.currTemplate.closeBtn&&e.currTemplate.closeBtn.detach(),e._lastFocusedEl&&t(e._lastFocusedEl).focus(),e.currItem=null,e.content=null,e.currTemplate=null,e.prevHeight=0,_("AfterClose")},updateSize:function(t){if(e.isIOS){var n=document.documentElement.clientWidth/window.innerWidth,r=window.innerHeight*n;e.wrap.css("height",r),e.wH=r}else e.wH=t||b.height();e.fixedContentPos||e.wrap.css("height",e.wH),_("Resize")},updateItemHTML:function(){var n=e.items[e.index];e.contentContainer.detach(),e.content&&e.content.detach(),n.parsed||(n=e.parseEl(e.index));var r=n.type;if(_("BeforeChange",[e.currItem?e.currItem.type:"",r]),e.currItem=n,!e.currTemplate[r]){var o=!!e.st[r]&&e.st[r].markup;_("FirstMarkupParse",o),e.currTemplate[r]=!o||t(o)}i&&i!==n.type&&e.container.removeClass("mfp-"+i+"-holder");var a=e["get"+r.charAt(0).toUpperCase()+r.slice(1)](n,e.currTemplate[r]);e.appendContent(a,r),n.preloaded=!0,_(f,n),i=n.type,e.container.prepend(e.contentContainer),_("AfterChange")},appendContent:function(t,n){e.content=t,t?e.st.showCloseBtn&&e.st.closeBtnInside&&!0===e.currTemplate[n]?e.content.find(".mfp-close").length||e.content.append(S()):e.content=t:e.content="",_("BeforeAppend"),e.container.addClass("mfp-"+n+"-holder"),e.contentContainer.append(e.content)},parseEl:function(n){var r,i=e.items[n];if(i.tagName?i={el:t(i)}:(r=i.type,i={data:i,src:i.src}),i.el){for(var o=e.types,a=0;a<o.length;a++)if(i.el.hasClass("mfp-"+o[a])){r=o[a];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=r||e.st.type||"inline",i.index=n,i.parsed=!0,e.items[n]=i,_("ElementParse",i),e.items[n]},addGroup:function(t,n){var r=function(r){r.mfpEl=this,e._openClick(r,t,n)};n||(n={});var i="click.magnificPopup";n.mainEl=t,n.items?(n.isObj=!0,t.off(i).on(i,r)):(n.isObj=!1,n.delegate?t.off(i).on(i,n.delegate,r):(n.items=t,t.off(i).on(i,r)))},_openClick:function(n,r,i){if((void 0!==i.midClick?i.midClick:t.magnificPopup.defaults.midClick)||2!==n.which&&!n.ctrlKey&&!n.metaKey){var o=void 0!==i.disableOn?i.disableOn:t.magnificPopup.defaults.disableOn;if(o)if(t.isFunction(o)){if(!o.call(e))return!0}else if(b.width()<o)return!0;n.type&&(n.preventDefault(),e.isOpen&&n.stopPropagation()),i.el=t(n.mfpEl),i.delegate&&(i.items=r.find(i.delegate)),e.open(i)}},updateStatus:function(t,r){if(e.preloader){n!==t&&e.container.removeClass("mfp-s-"+n),r||"loading"!==t||(r=e.st.tLoading);var i={status:t,text:r};_("UpdateStatus",i),t=i.status,r=i.text,e.preloader.html(r),e.preloader.find("a").on("click",(function(t){t.stopImmediatePropagation()})),e.container.addClass("mfp-s-"+t),n=t}},_checkIfClose:function(n){if(!t(n).hasClass(g)){var r=e.st.closeOnContentClick,i=e.st.closeOnBgClick;if(r&&i)return!0;if(!e.content||t(n).hasClass("mfp-close")||e.preloader&&n===e.preloader[0])return!0;if(n===e.content[0]||t.contains(e.content[0],n)){if(r)return!0}else if(i&&t.contains(document,n))return!0;return!1}},_addClassToMFP:function(t){e.bgOverlay.addClass(t),e.wrap.addClass(t)},_removeClassFromMFP:function(t){this.bgOverlay.removeClass(t),e.wrap.removeClass(t)},_hasScrollBar:function(t){return(e.isIE7?r.height():document.body.scrollHeight)>(t||b.height())},_setFocus:function(){(e.st.focus?e.content.find(e.st.focus).eq(0):e.wrap).focus()},_onFocusIn:function(n){return n.target===e.wrap[0]||t.contains(e.wrap[0],n.target)?void 0:(e._setFocus(),!1)},_parseMarkup:function(e,n,r){var i;r.data&&(n=t.extend(r.data,n)),_(u,[e,n,r]),t.each(n,(function(t,n){if(void 0===n||!1===n)return!0;if((i=t.split("_")).length>1){var r=e.find(d+"-"+i[0]);if(r.length>0){var o=i[1];"replaceWith"===o?r[0]!==n[0]&&r.replaceWith(n):"img"===o?r.is("img")?r.attr("src",n):r.replaceWith('<img src="'+n+'" class="'+r.attr("class")+'" />'):r.attr(i[1],n)}}else e.find(d+"-"+t).html(n)}))},_getScrollbarSize:function(){if(void 0===e.scrollbarSize){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t),e.scrollbarSize=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return e.scrollbarSize}},t.magnificPopup={instance:null,proto:v.prototype,modules:[],open:function(e,n){return j(),(e=e?t.extend(!0,{},e):{}).isObj=!0,e.index=n||0,this.instance.open(e)},close:function(){return t.magnificPopup.instance&&t.magnificPopup.instance.close()},registerModule:function(e,n){n.options&&(t.magnificPopup.defaults[e]=n.options),t.extend(this.proto,n.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},t.fn.magnificPopup=function(n){j();var r=t(this);if("string"==typeof n)if("open"===n){var i,o=y?r.data("magnificPopup"):r[0].magnificPopup,a=parseInt(arguments[1],10)||0;o.items?i=o.items[a]:(i=r,o.delegate&&(i=i.find(o.delegate)),i=i.eq(a)),e._openClick({mfpEl:i},r,o)}else e.isOpen&&e[n].apply(e,Array.prototype.slice.call(arguments,1));else n=t.extend(!0,{},n),y?r.data("magnificPopup",n):r[0].magnificPopup=n,e.addGroup(r,n);return r};var C,I,E,T="inline",k=function(){E&&(I.after(E.addClass(C)).detach(),E=null)};t.magnificPopup.registerModule(T,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){e.types.push(T),x(s+"."+T,(function(){k()}))},getInline:function(n,r){if(k(),n.src){var i=e.st.inline,o=t(n.src);if(o.length){var a=o[0].parentNode;a&&a.tagName&&(I||(C=i.hiddenClass,I=w(C),C="mfp-"+C),E=o.after(I).detach().removeClass(C)),e.updateStatus("ready")}else e.updateStatus("error",i.tNotFound),o=t("<div>");return n.inlineElement=o,o}return e.updateStatus("ready"),e._parseMarkup(r,{},n),r}}});var O,L="ajax",A=function(){O&&t(document.body).removeClass(O)},M=function(){A(),e.req&&e.req.abort()};t.magnificPopup.registerModule(L,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){e.types.push(L),O=e.st.ajax.cursor,x(s+"."+L,M),x("BeforeChange."+L,M)},getAjax:function(n){O&&t(document.body).addClass(O),e.updateStatus("loading");var r=t.extend({url:n.src,success:function(r,i,o){var a={data:r,xhr:o};_("ParseAjax",a),e.appendContent(t(a.data),L),n.finished=!0,A(),e._setFocus(),setTimeout((function(){e.wrap.addClass(p)}),16),e.updateStatus("ready"),_("AjaxContentAdded")},error:function(){A(),n.finished=n.loadError=!0,e.updateStatus("error",e.st.ajax.tError.replace("%url%",n.src))}},e.st.ajax.settings);return e.req=t.ajax(r),""}}});var P,z=function(n){if(n.data&&void 0!==n.data.title)return n.data.title;var r=e.st.image.titleSrc;if(r){if(t.isFunction(r))return r.call(e,n);if(n.el)return n.el.attr(r)||""}return""};t.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var n=e.st.image,r=".image";e.types.push("image"),x(c+r,(function(){"image"===e.currItem.type&&n.cursor&&t(document.body).addClass(n.cursor)})),x(s+r,(function(){n.cursor&&t(document.body).removeClass(n.cursor),b.off("resize"+d)})),x("Resize"+r,e.resizeImage),e.isLowIE&&x("AfterChange",e.resizeImage)},resizeImage:function(){var t=e.currItem;if(t&&t.img&&e.st.image.verticalFit){var n=0;e.isLowIE&&(n=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",e.wH-n)}},_onImageHasSize:function(t){t.img&&(t.hasSize=!0,P&&clearInterval(P),t.isCheckingImgSize=!1,_("ImageHasSize",t),t.imgHidden&&(e.content&&e.content.removeClass("mfp-loading"),t.imgHidden=!1))},findImageSize:function(t){var n=0,r=t.img[0],i=function(o){P&&clearInterval(P),P=setInterval((function(){return r.naturalWidth>0?void e._onImageHasSize(t):(n>200&&clearInterval(P),void(3===++n?i(10):40===n?i(50):100===n&&i(500)))}),o)};i(1)},getImage:function(n,r){var i=0,o=function(){n&&(n.img[0].complete?(n.img.off(".mfploader"),n===e.currItem&&(e._onImageHasSize(n),e.updateStatus("ready")),n.hasSize=!0,n.loaded=!0,_("ImageLoadComplete")):200>++i?setTimeout(o,100):a())},a=function(){n&&(n.img.off(".mfploader"),n===e.currItem&&(e._onImageHasSize(n),e.updateStatus("error",s.tError.replace("%url%",n.src))),n.hasSize=!0,n.loaded=!0,n.loadError=!0)},s=e.st.image,l=r.find(".mfp-img");if(l.length){var u=document.createElement("img");u.className="mfp-img",n.el&&n.el.find("img").length&&(u.alt=n.el.find("img").attr("alt")),n.img=t(u).on("load.mfploader",o).on("error.mfploader",a),u.src=n.src,l.is("img")&&(n.img=n.img.clone()),(u=n.img[0]).naturalWidth>0?n.hasSize=!0:u.width||(n.hasSize=!1)}return e._parseMarkup(r,{title:z(n),img_replaceWith:n.img},n),e.resizeImage(),n.hasSize?(P&&clearInterval(P),n.loadError?(r.addClass("mfp-loading"),e.updateStatus("error",s.tError.replace("%url%",n.src))):(r.removeClass("mfp-loading"),e.updateStatus("ready")),r):(e.updateStatus("loading"),n.loading=!0,n.hasSize||(n.imgHidden=!0,r.addClass("mfp-loading"),e.findImageSize(n)),r)}}});var Q;t.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(t){return t.is("img")?t:t.find("img")}},proto:{initZoom:function(){var t,n=e.st.zoom,r=".zoom";if(n.enabled&&e.supportsTransition){var i,o,a=n.duration,u=function(t){var e=t.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),r="all "+n.duration/1e3+"s "+n.easing,i={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return i["-webkit-"+o]=i["-moz-"+o]=i["-o-"+o]=i[o]=r,e.css(i),e},c=function(){e.content.css("visibility","visible")};x("BuildControls"+r,(function(){if(e._allowZoom()){if(clearTimeout(i),e.content.css("visibility","hidden"),!(t=e._getItemToZoom()))return void c();(o=u(t)).css(e._getOffset()),e.wrap.append(o),i=setTimeout((function(){o.css(e._getOffset(!0)),i=setTimeout((function(){c(),setTimeout((function(){o.remove(),t=o=null,_("ZoomAnimationEnded")}),16)}),a)}),16)}})),x(l+r,(function(){if(e._allowZoom()){if(clearTimeout(i),e.st.removalDelay=a,!t){if(!(t=e._getItemToZoom()))return;o=u(t)}o.css(e._getOffset(!0)),e.wrap.append(o),e.content.css("visibility","hidden"),setTimeout((function(){o.css(e._getOffset())}),16)}})),x(s+r,(function(){e._allowZoom()&&(c(),o&&o.remove(),t=null)}))}},_allowZoom:function(){return"image"===e.currItem.type},_getItemToZoom:function(){return!!e.currItem.hasSize&&e.currItem.img},_getOffset:function(n){var r,i=(r=n?e.currItem.img:e.st.zoom.opener(e.currItem.el||e.currItem)).offset(),o=parseInt(r.css("padding-top"),10),a=parseInt(r.css("padding-bottom"),10);i.top-=t(window).scrollTop()-o;var s={width:r.width(),height:(y?r.innerHeight():r[0].offsetHeight)-a-o};return void 0===Q&&(Q=void 0!==document.createElement("p").style.MozTransform),Q?s["-moz-transform"]=s.transform="translate("+i.left+"px,"+i.top+"px)":(s.left=i.left,s.top=i.top),s}}});var R="iframe",B=function(t){if(e.currTemplate[R]){var n=e.currTemplate[R].find("iframe");n.length&&(t||(n[0].src="//about:blank"),e.isIE8&&n.css("display",t?"block":"none"))}};t.magnificPopup.registerModule(R,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){e.types.push(R),x("BeforeChange",(function(t,e,n){e!==n&&(e===R?B():n===R&&B(!0))})),x(s+"."+R,(function(){B()}))},getIframe:function(n,r){var i=n.src,o=e.st.iframe;t.each(o.patterns,(function(){return i.indexOf(this.index)>-1?(this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1):void 0}));var a={};return o.srcAction&&(a[o.srcAction]=i),e._parseMarkup(r,a,n),e.updateStatus("ready"),r}}});var N=function(t){var n=e.items.length;return t>n-1?t-n:0>t?n+t:t},D=function(t,e,n){return t.replace(/%curr%/gi,e+1).replace(/%total%/gi,n)};t.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var n=e.st.gallery,i=".mfp-gallery",a=Boolean(t.fn.mfpFastClick);return e.direction=!0,!(!n||!n.enabled)&&(o+=" mfp-gallery",x(c+i,(function(){n.navigateByImgClick&&e.wrap.on("click"+i,".mfp-img",(function(){return e.items.length>1?(e.next(),!1):void 0})),r.on("keydown"+i,(function(t){37===t.keyCode?e.prev():39===t.keyCode&&e.next()}))})),x("UpdateStatus"+i,(function(t,n){n.text&&(n.text=D(n.text,e.currItem.index,e.items.length))})),x(u+i,(function(t,r,i,o){var a=e.items.length;i.counter=a>1?D(n.tCounter,o.index,a):""})),x("BuildControls"+i,(function(){if(e.items.length>1&&n.arrows&&!e.arrowLeft){var r=n.arrowMarkup,i=e.arrowLeft=t(r.replace(/%title%/gi,n.tPrev).replace(/%dir%/gi,"left")).addClass(g),o=e.arrowRight=t(r.replace(/%title%/gi,n.tNext).replace(/%dir%/gi,"right")).addClass(g),s=a?"mfpFastClick":"click";i[s]((function(){e.prev()})),o[s]((function(){e.next()})),e.isIE7&&(w("b",i[0],!1,!0),w("a",i[0],!1,!0),w("b",o[0],!1,!0),w("a",o[0],!1,!0)),e.container.append(i.add(o))}})),x(f+i,(function(){e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout((function(){e.preloadNearbyImages(),e._preloadTimeout=null}),16)})),void x(s+i,(function(){r.off(i),e.wrap.off("click"+i),e.arrowLeft&&a&&e.arrowLeft.add(e.arrowRight).destroyMfpFastClick(),e.arrowRight=e.arrowLeft=null})))},next:function(){e.direction=!0,e.index=N(e.index+1),e.updateItemHTML()},prev:function(){e.direction=!1,e.index=N(e.index-1),e.updateItemHTML()},goTo:function(t){e.direction=t>=e.index,e.index=t,e.updateItemHTML()},preloadNearbyImages:function(){var t,n=e.st.gallery.preload,r=Math.min(n[0],e.items.length),i=Math.min(n[1],e.items.length);for(t=1;t<=(e.direction?i:r);t++)e._preloadItem(e.index+t);for(t=1;t<=(e.direction?r:i);t++)e._preloadItem(e.index-t)},_preloadItem:function(n){if(n=N(n),!e.items[n].preloaded){var r=e.items[n];r.parsed||(r=e.parseEl(n)),_("LazyLoad",r),"image"===r.type&&(r.img=t('<img class="mfp-img" />').on("load.mfploader",(function(){r.hasSize=!0})).on("error.mfploader",(function(){r.hasSize=!0,r.loadError=!0,_("LazyLoadError",r)})).attr("src",r.src)),r.preloaded=!0}}}});var H="retina";t.magnificPopup.registerModule(H,{options:{replaceSrc:function(t){return t.src.replace(/\.\w+$/,(function(t){return"@2x"+t}))},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var t=e.st.retina,n=t.ratio;(n=isNaN(n)?n():n)>1&&(x("ImageHasSize."+H,(function(t,e){e.img.css({"max-width":e.img[0].naturalWidth/n,width:"100%"})})),x("ElementParse."+H,(function(e,r){r.src=t.replaceSrc(r,n)})))}}}}),function(){var e="ontouchstart"in window,n=function(){b.off("touchmove"+r+" touchend"+r)},r=".mfpFastClick";t.fn.mfpFastClick=function(i){return t(this).each((function(){var o,a,s,l,u,c,f,h=t(this);e&&h.on("touchstart"+r,(function(t){u=!1,f=1,c=t.originalEvent?t.originalEvent.touches[0]:t.touches[0],s=c.clientX,l=c.clientY,b.on("touchmove"+r,(function(t){c=t.originalEvent?t.originalEvent.touches:t.touches,f=c.length,c=c[0],(Math.abs(c.clientX-s)>10||Math.abs(c.clientY-l)>10)&&(u=!0,n())})).on("touchend"+r,(function(t){n(),u||f>1||(o=!0,t.preventDefault(),clearTimeout(a),a=setTimeout((function(){o=!1}),1e3),i())}))}));h.on("click"+r,(function(){o||i()}))}))},t.fn.destroyMfpFastClick=function(){t(this).off("touchstart"+r+" click"+r),e&&b.off("touchmove"+r+" touchend"+r)}}(),j()})),function(t){var e,n,r="0.4.2",i="hasOwnProperty",o=/[\.\/]/,a=/\s*,\s*/,s=function(t,e){return t-e},l={n:{}},u=function(){for(var t=0,e=this.length;e>t;t++)if(void 0!==this[t])return this[t]},c=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},f=function(t,r){t=String(t);var i,o=n,a=Array.prototype.slice.call(arguments,2),l=f.listeners(t),h=0,d=[],p={},m=[],g=e;m.firstDefined=u,m.lastDefined=c,e=t,n=0;for(var v=0,y=l.length;y>v;v++)"zIndex"in l[v]&&(d.push(l[v].zIndex),l[v].zIndex<0&&(p[l[v].zIndex]=l[v]));for(d.sort(s);d[h]<0;)if(i=p[d[h++]],m.push(i.apply(r,a)),n)return n=o,m;for(v=0;y>v;v++)if("zIndex"in(i=l[v]))if(i.zIndex==d[h]){if(m.push(i.apply(r,a)),n)break;do{if((i=p[d[++h]])&&m.push(i.apply(r,a)),n)break}while(i)}else p[i.zIndex]=i;else if(m.push(i.apply(r,a)),n)break;return n=o,e=g,m};f._events=l,f.listeners=function(t){var e,n,r,i,a,s,u,c,f=t.split(o),h=l,d=[h],p=[];for(i=0,a=f.length;a>i;i++){for(c=[],s=0,u=d.length;u>s;s++)for(n=[(h=d[s].n)[f[i]],h["*"]],r=2;r--;)(e=n[r])&&(c.push(e),p=p.concat(e.f||[]));d=c}return p},f.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var n=t.split(a),r=0,i=n.length;i>r;r++)!function(t){for(var n,r=t.split(o),i=l,a=0,s=r.length;s>a;a++)i=(i=i.n).hasOwnProperty(r[a])&&i[r[a]]||(i[r[a]]={n:{}});for(i.f=i.f||[],a=0,s=i.f.length;s>a;a++)if(i.f[a]==e){n=!0;break}!n&&i.f.push(e)}(n[r]);return function(t){+t==+t&&(e.zIndex=+t)}},f.f=function(t){var e=[].slice.call(arguments,1);return function(){f.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},f.stop=function(){n=1},f.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},f.nts=function(){return e.split(o)},f.off=f.unbind=function(t,e){if(t){var n=t.split(a);if(n.length>1)for(var r=0,s=n.length;s>r;r++)f.off(n[r],e);else{n=t.split(o);var u,c,h,d,p,m=[l];for(r=0,s=n.length;s>r;r++)for(d=0;d<m.length;d+=h.length-2){if(h=[d,1],u=m[d].n,"*"!=n[r])u[n[r]]&&h.push(u[n[r]]);else for(c in u)u[i](c)&&h.push(u[c]);m.splice.apply(m,h)}for(r=0,s=m.length;s>r;r++)for(u=m[r];u.n;){if(e){if(u.f){for(d=0,p=u.f.length;p>d;d++)if(u.f[d]==e){u.f.splice(d,1);break}!u.f.length&&delete u.f}for(c in u.n)if(u.n[i](c)&&u.n[c].f){var g=u.n[c].f;for(d=0,p=g.length;p>d;d++)if(g[d]==e){g.splice(d,1);break}!g.length&&delete u.n[c].f}}else for(c in delete u.f,u.n)u.n[i](c)&&u.n[c].f&&delete u.n[c].f;u=u.n}}}else f._events=l={n:{}}},f.once=function(t,e){var n=function(){return f.unbind(t,n),e.apply(this,arguments)};return f.on(t,n)},f.version=r,f.toString=function(){return"You are running Eve "+r},"undefined"!=typeof module&&module.exports?module.exports=f:"function"==typeof define&&define.amd?define("eve",[],(function(){return f})):t.eve=f}(this),function(t,e){if("function"==typeof define&&define.amd)define(["eve"],(function(n){return e(t,n)}));else if("undefined"!=typeof exports){var n=require("eve");module.exports=e(t,n)}else e(t,t.eve)}(window||this,(function(t,e){var n=function(e){var n={},r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},i=Array.isArray||function(t){return t instanceof Array||"[object Array]"==Object.prototype.toString.call(t)},o=0,a="M"+(+new Date).toString(36),s=function(){return a+(o++).toString(36)},l=Date.now||function(){return+new Date},u=function(t){var e=this;if(null==t)return e.s;var n=e.s-t;e.b+=e.dur*n,e.B+=e.dur*n,e.s=t},c=function(t){return null==t?this.spd:void(this.spd=t)},f=function(t){var e=this;return null==t?e.dur:(e.s=e.s*t/e.dur,void(e.dur=t))},h=function(){var t=this;delete n[t.id],t.update(),e("mina.stop."+t.id,t)},d=function(){var t=this;t.pdif||(delete n[t.id],t.update(),t.pdif=t.get()-t.b)},p=function(){var t=this;t.pdif&&(t.b=t.get()-t.pdif,delete t.pdif,n[t.id]=t)},m=function(){var t,e=this;if(i(e.start)){t=[];for(var n=0,r=e.start.length;r>n;n++)t[n]=+e.start[n]+(e.end[n]-e.start[n])*e.easing(e.s)}else t=+e.start+(e.end-e.start)*e.easing(e.s);e.set(t)},g=function(){var t=0;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i],a=o.get();t++,o.s=(a-o.b)/(o.dur/o.spd),o.s>=1&&(delete n[i],o.s=1,t--,function(t){setTimeout((function(){e("mina.finish."+t.id,t)}))}(o)),o.update()}t&&r(g)},v=function(t,e,i,o,a,l,y){var b={id:s(),start:t,end:e,b:i,s:0,dur:o-i,spd:1,get:a,set:l,easing:y||v.linear,status:u,speed:c,duration:f,stop:h,pause:d,resume:p,update:m};n[b.id]=b;var x,w=0;for(x in n)if(n.hasOwnProperty(x)&&2==++w)break;return 1==w&&r(g),b};return v.time=l,v.getById=function(t){return n[t]||null},v.linear=function(t){return t},v.easeout=function(t){return Math.pow(t,1.7)},v.easein=function(t){return Math.pow(t,.48)},v.easeinout=function(t){if(1==t)return 1;if(0==t)return 0;var e=.48-t/1.04,n=Math.sqrt(.1734+e*e),r=n-e,i=-n-e,o=Math.pow(Math.abs(r),1/3)*(0>r?-1:1)+Math.pow(Math.abs(i),1/3)*(0>i?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},v.backin=function(t){if(1==t)return 1;var e=1.70158;return t*t*((e+1)*t-e)},v.backout=function(t){if(0==t)return 0;var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},v.elastic=function(t){return t==!!t?t:Math.pow(2,-10*t)*Math.sin(2*(t-.075)*Math.PI/.3)+1},v.bounce=function(t){var e,n=7.5625,r=2.75;return 1/r>t?e=n*t*t:2/r>t?e=n*(t-=1.5/r)*t+.75:2.5/r>t?e=n*(t-=2.25/r)*t+.9375:e=n*(t-=2.625/r)*t+.984375,e},t.mina=v,v}(void 0===e?function(){}:e),r=function(t){function n(t,e){if(t){if(t.nodeType)return p(t);if(i(t,"array")&&n.set)return n.set.apply(n,t);if(t instanceof c)return t;if(null==e)return p(t=v.doc.querySelector(String(t)))}return new d(t=null==t?"100%":t,e=null==e?"100%":e)}function r(t,e){if(e){if("#text"==t&&(t=v.doc.createTextNode(e.text||e["#text"]||"")),"#comment"==t&&(t=v.doc.createComment(e.text||e["#text"]||"")),"string"==typeof t&&(t=r(t)),"string"==typeof e)return 1==t.nodeType?"xlink:"==e.substring(0,6)?t.getAttributeNS(B,e.substring(6)):"xml:"==e.substring(0,4)?t.getAttributeNS(N,e.substring(4)):t.getAttribute(e):"text"==e?t.nodeValue:null;if(1==t.nodeType){for(var n in e)if(e[y](n)){var i=b(e[n]);i?"xlink:"==n.substring(0,6)?t.setAttributeNS(B,n.substring(6),i):"xml:"==n.substring(0,4)?t.setAttributeNS(N,n.substring(4),i):t.setAttribute(n,i):t.removeAttribute(n)}}else"text"in e&&(t.nodeValue=e.text)}else t=v.doc.createElementNS(N,t);return t}function i(t,e){return"finite"==(e=b.prototype.toLowerCase.call(e))?isFinite(t):!("array"!=e||!(t instanceof Array||Array.isArray&&Array.isArray(t)))||("null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||T.call(t).slice(8,-1).toLowerCase()==e)}function o(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function a(t,e,n){return function r(){var i=Array.prototype.slice.call(arguments,0),a=i.join("␀"),s=r.cache=r.cache||{},l=r.count=r.count||[];return s[y](a)?(o(l,a),n?n(s[a]):s[a]):(l.length>=1e3&&delete s[l.shift()],l.push(a),s[a]=t.apply(e,i),n?n(s[a]):s[a])}}function s(t){return t%360*I/180}function l(t){return t.node.ownerSVGElement&&p(t.node.ownerSVGElement)||n.select("svg")}function u(t){i(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var e=0,n=0,r=this.node;this[e];)delete this[e++];for(e=0;e<t.length;e++)"set"==t[e].type?t[e].forEach((function(t){r.appendChild(t.node)})):r.appendChild(t[e].node);var o=r.childNodes;for(e=0;e<o.length;e++)this[n++]=p(o[e]);return this}function c(t){if(t.snap in D)return D[t.snap];var e;try{e=t.ownerSVGElement}catch(t){}this.node=t,e&&(this.paper=new d(e)),this.type=t.tagName||t.nodeName;var n=this.id=R(this);if(this.anims={},this._={transform:[]},t.snap=n,D[n]=this,"g"==this.type&&(this.add=u),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var r in d.prototype)d.prototype[y](r)&&(this[r]=d.prototype[r])}function f(t){this.node=t}function h(t,e){var n=r(t);return e.appendChild(n),p(n)}function d(t,e){var n,i,o,a=d.prototype;if(t&&"svg"==t.tagName){if(t.snap in D)return D[t.snap];var s=t.ownerDocument;for(var l in n=new c(t),i=t.getElementsByTagName("desc")[0],o=t.getElementsByTagName("defs")[0],i||((i=r("desc")).appendChild(s.createTextNode("Created with Snap")),n.node.appendChild(i)),o||(o=r("defs"),n.node.appendChild(o)),n.defs=o,a)a[y](l)&&(n[l]=a[l]);n.paper=n.root=n}else r((n=h("svg",v.doc.body)).node,{height:e,version:1.1,width:t,xmlns:N});return n}function p(t){return t?t instanceof c||t instanceof f?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new d(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new d(t.contentDocument.getElementsByTagName("svg")[0]):new c(t):t}function m(t,e){for(var n=0,r=t.length;r>n;n++){var i={type:t[n].type,attr:t[n].attr()},o=t[n].children();e.push(i),o.length&&m(o,i.childNodes=[])}}n.version="0.4.0",n.toString=function(){return"Snap v"+this.version},n._={};var v={win:t.window,doc:t.window.document};n._.glob=v;var y="hasOwnProperty",b=String,x=parseFloat,w=parseInt,_=Math,S=_.max,j=_.min,C=_.abs,I=(_.pow,_.PI),E=(_.round,""),T=Object.prototype.toString,k=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,O=(n._.separator=/[,\s]+/,/[\s]*,[\s]*/),L={hs:1,rg:1},A=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,M=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,P=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,z=0,Q="S"+(+new Date).toString(36),R=function(t){return(t&&t.type?t.type:E)+Q+(z++).toString(36)},B="http://www.w3.org/1999/xlink",N="http://www.w3.org/2000/svg",D={};n.url=function(t){return"url('#"+t+"')"},n._.$=r,n._.id=R,n.format=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,r){var i=r;return n.replace(e,(function(t,e,n,r,o){e=e||r,i&&(e in i&&(i=i[e]),"function"==typeof i&&o&&(i=i()))})),i=(null==i||i==r?t:i)+""};return function(e,r){return b(e).replace(t,(function(t,e){return n(t,e,r)}))}}(),n._.clone=function t(e){if("function"==typeof e||Object(e)!==e)return e;var n=new e.constructor;for(var r in e)e[y](r)&&(n[r]=t(e[r]));return n},n._.cacher=a,n.rad=s,n.deg=function(t){return 180*t/I%360},n.sin=function(t){return _.sin(n.rad(t))},n.tan=function(t){return _.tan(n.rad(t))},n.cos=function(t){return _.cos(n.rad(t))},n.asin=function(t){return n.deg(_.asin(t))},n.acos=function(t){return n.deg(_.acos(t))},n.atan=function(t){return n.deg(_.atan(t))},n.atan2=function(t){return n.deg(_.atan2(t))},n.angle=function t(e,n,r,i,o,a){if(null==o){var s=e-r,l=n-i;return s||l?(180+180*_.atan2(-l,-s)/I+360)%360:0}return t(e,n,o,a)-t(r,i,o,a)},n.len=function(t,e,r,i){return Math.sqrt(n.len2(t,e,r,i))},n.len2=function(t,e,n,r){return(t-n)*(t-n)+(e-r)*(e-r)},n.closestPoint=function(t,e,n){function r(t){var r=t.x-e,i=t.y-n;return r*r+i*i}for(var i,o,a,s,l=t.node,u=l.getTotalLength(),c=u/l.pathSegList.numberOfItems*.125,f=1/0,h=0;u>=h;h+=c)(s=r(a=l.getPointAtLength(h)))<f&&(i=a,o=h,f=s);for(c*=.5;c>.5;){var d,p,m,g,v,y;(m=o-c)>=0&&(v=r(d=l.getPointAtLength(m)))<f?(i=d,o=m,f=v):(g=o+c)<=u&&(y=r(p=l.getPointAtLength(g)))<f?(i=p,o=g,f=y):c*=.5}return{x:i.x,y:i.y,length:o,distance:Math.sqrt(f)}},n.is=i,n.snapTo=function(t,e,n){if(n=i(n,"finite")?n:10,i(t,"array")){for(var r=t.length;r--;)if(C(t[r]-e)<=n)return t[r]}else{var o=e%(t=+t);if(n>o)return e-o;if(o>t-n)return e-o+t}return e},n.getRGB=a((function(t){if(!t||(t=b(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Y};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:Y};if(!(L[y](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=H(t)),!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Y};var e,r,o,a,s,l,u=t.match(k);return u?(u[2]&&(o=w(u[2].substring(5),16),r=w(u[2].substring(3,5),16),e=w(u[2].substring(1,3),16)),u[3]&&(o=w((s=u[3].charAt(3))+s,16),r=w((s=u[3].charAt(2))+s,16),e=w((s=u[3].charAt(1))+s,16)),u[4]&&(l=u[4].split(O),e=x(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),r=x(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),o=x(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(a=x(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100)),u[5]?(l=u[5].split(O),e=x(l[0]),"%"==l[0].slice(-1)&&(e/=100),r=x(l[1]),"%"==l[1].slice(-1)&&(r/=100),o=x(l[2]),"%"==l[2].slice(-1)&&(o/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(e/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(a=x(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),n.hsb2rgb(e,r,o,a)):u[6]?(l=u[6].split(O),e=x(l[0]),"%"==l[0].slice(-1)&&(e/=100),r=x(l[1]),"%"==l[1].slice(-1)&&(r/=100),o=x(l[2]),"%"==l[2].slice(-1)&&(o/=100),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(e/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(a=x(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),n.hsl2rgb(e,r,o,a)):(e=j(_.round(e),255),r=j(_.round(r),255),o=j(_.round(o),255),a=j(S(a,0),1),(u={r:e,g:r,b:o,toString:Y}).hex="#"+(16777216|o|r<<8|e<<16).toString(16).slice(1),u.opacity=i(a,"finite")?a:1,u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Y}}),n),n.hsb=a((function(t,e,r){return n.hsb2rgb(t,e,r).hex})),n.hsl=a((function(t,e,r){return n.hsl2rgb(t,e,r).hex})),n.rgb=a((function(t,e,n,r){if(i(r,"finite")){var o=_.round;return"rgba("+[o(t),o(e),o(n),+r.toFixed(2)]+")"}return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)}));var H=function(t){var e=v.doc.getElementsByTagName("head")[0]||v.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return(H=a((function(t){if("red"==t.toLowerCase())return n;e.style.color=n,e.style.color=t;var r=v.doc.defaultView.getComputedStyle(e,E).getPropertyValue("color");return r==n?null:r})))(t)},W=function(){return"hsb("+[this.h,this.s,this.b]+")"},F=function(){return"hsl("+[this.h,this.s,this.l]+")"},Y=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},q=function(t,e,r){if(null==e&&i(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,e=t.g,t=t.r),null==e&&i(t,string)){var o=n.getRGB(t);t=o.r,e=o.g,r=o.b}return(t>1||e>1||r>1)&&(t/=255,e/=255,r/=255),[t,e,r]},X=function(t,e,r,o){var a={r:t=_.round(255*t),g:e=_.round(255*e),b:r=_.round(255*r),opacity:i(o,"finite")?o:1,hex:n.rgb(t,e,r),toString:Y};return i(o,"finite")&&(a.opacity=o),a};n.color=function(t){var e;return i(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=n.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):i(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=n.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.opacity=1,t.hex=e.hex):(i(t,"string")&&(t=n.getRGB(t)),i(t,"object")&&"r"in t&&"g"in t&&"b"in t&&!("error"in t)?(e=n.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=n.rgb2hsb(t),t.v=e.b):((t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1,t.error=1)),t.toString=Y,t},n.hsb2rgb=function(t,e,n,r){var o,a,s,l,u;return i(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,r=t.o,t=t.h),l=(u=n*e)*(1-C((t=(t*=360)%360/60)%2-1)),o=a=s=n-u,X(o+=[u,l,0,0,l,u][t=~~t],a+=[l,u,u,l,0,0][t],s+=[0,0,l,u,u,l][t],r)},n.hsl2rgb=function(t,e,n,r){var o,a,s,l,u;return i(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),l=(u=2*e*(.5>n?n:1-n))*(1-C((t=(t*=360)%360/60)%2-1)),o=a=s=n-u/2,X(o+=[u,l,0,0,l,u][t=~~t],a+=[l,u,u,l,0,0][t],s+=[0,0,l,u,u,l][t],r)},n.rgb2hsb=function(t,e,n){var r,i;return t=(n=q(t,e,n))[0],e=n[1],n=n[2],{h:((0==(i=(r=S(t,e,n))-j(t,e,n))?null:r==t?(e-n)/i:r==e?(n-t)/i+2:(t-e)/i+4)+360)%6*60/360,s:0==i?0:i/r,b:r,toString:W}},n.rgb2hsl=function(t,e,n){var r,i,o,a;return t=(n=q(t,e,n))[0],e=n[1],n=n[2],r=((i=S(t,e,n))+(o=j(t,e,n)))/2,{h:((0==(a=i-o)?null:i==t?(e-n)/a:i==e?(n-t)/a+2:(t-e)/a+4)+360)%6*60/360,s:0==a?0:.5>r?a/(2*r):a/(2-2*r),l:r,toString:F}},n.parsePathString=function(t){if(!t)return null;var e=n.path(t);if(e.arr)return n.path.clone(e.arr);var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},o=[];return i(t,"array")&&i(t[0],"array")&&(o=n.path.clone(t)),o.length||b(t).replace(A,(function(t,e,n){var i=[],a=e.toLowerCase();if(n.replace(P,(function(t,e){e&&i.push(+e)})),"m"==a&&i.length>2&&(o.push([e].concat(i.splice(0,2))),a="l",e="m"==e?"l":"L"),"o"==a&&1==i.length&&o.push([e,i[0]]),"r"==a)o.push([e].concat(i));else for(;i.length>=r[a]&&(o.push([e].concat(i.splice(0,r[a]))),r[a]););})),o.toString=n.path.toString,e.arr=n.path.clone(o),o};var $=n.parseTransformString=function(t){if(!t)return null;var e=[];return i(t,"array")&&i(t[0],"array")&&(e=n.path.clone(t)),e.length||b(t).replace(M,(function(t,n,r){var i=[];n.toLowerCase(),r.replace(P,(function(t,e){e&&i.push(+e)})),e.push([n].concat(i))})),e.toString=n.path.toString,e};n._.svgTransform2string=function(t){var e=[];return t=t.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,(function(t,n,r){return r=r.split(/\s*,\s*|\s+/),"rotate"==n&&1==r.length&&r.push(0,0),"scale"==n&&(r.length>2?r=r.slice(0,2):2==r.length&&r.push(0,0),1==r.length&&r.push(r[0],0,0)),e.push("skewX"==n?["m",1,0,_.tan(s(r[0])),1,0,0]:"skewY"==n?["m",1,_.tan(s(r[0])),0,1,0,0]:[n.charAt(0)].concat(r)),t})),e},n._.rgTransform=/^[a-z][\s]*-?\.?\d/i,n._.transform2matrix=function(t,e){var r=$(t),i=new n.Matrix;if(r)for(var o=0,a=r.length;a>o;o++){var s,l,u,c,f,h=r[o],d=h.length,p=b(h[0]).toLowerCase(),m=h[0]!=p,g=m?i.invert():0;"t"==p&&2==d?i.translate(h[1],0):"t"==p&&3==d?m?(s=g.x(0,0),l=g.y(0,0),u=g.x(h[1],h[2]),c=g.y(h[1],h[2]),i.translate(u-s,c-l)):i.translate(h[1],h[2]):"r"==p?2==d?(f=f||e,i.rotate(h[1],f.x+f.width/2,f.y+f.height/2)):4==d&&(m?(u=g.x(h[2],h[3]),c=g.y(h[2],h[3]),i.rotate(h[1],u,c)):i.rotate(h[1],h[2],h[3])):"s"==p?2==d||3==d?(f=f||e,i.scale(h[1],h[d-1],f.x+f.width/2,f.y+f.height/2)):4==d?m?(u=g.x(h[2],h[3]),c=g.y(h[2],h[3]),i.scale(h[1],h[1],u,c)):i.scale(h[1],h[1],h[2],h[3]):5==d&&(m?(u=g.x(h[3],h[4]),c=g.y(h[3],h[4]),i.scale(h[1],h[2],u,c)):i.scale(h[1],h[2],h[3],h[4])):"m"==p&&7==d&&i.add(h[1],h[2],h[3],h[4],h[5],h[6])}return i},n._unit2px=function(t,e,n){function i(t){if(null==t)return E;if(t==+t)return t;r(c,{width:t});try{return c.getBBox().width}catch(t){return 0}}function o(t){if(null==t)return E;if(t==+t)return t;r(c,{height:t});try{return c.getBBox().height}catch(t){return 0}}function a(r,i){null==e?u[r]=i(t.attr(r)||0):r==e&&(u=i(null==n?t.attr(r)||0:n))}var s=l(t).node,u={},c=s.querySelector(".svg---mgr");switch(c||(c=r("rect"),r(c,{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),s.appendChild(c)),t.type){case"rect":a("rx",i),a("ry",o);case"image":a("width",i),a("height",o);case"text":a("x",i),a("y",o);break;case"circle":a("cx",i),a("cy",o),a("r",i);break;case"ellipse":a("cx",i),a("cy",o),a("rx",i),a("ry",o);break;case"line":a("x1",i),a("x2",i),a("y1",o),a("y2",o);break;case"marker":a("refX",i),a("markerWidth",i),a("refY",o),a("markerHeight",o);break;case"radialGradient":a("fx",i),a("fy",o);break;case"tspan":a("dx",i),a("dy",o);break;default:a(e,i)}return s.removeChild(c),u},v.doc.contains||v.doc.compareDocumentPosition,n._.getSomeDefs=function(t){var e=t.node.ownerSVGElement&&p(t.node.ownerSVGElement)||t.node.parentNode&&p(t.node.parentNode)||n.select("svg")||n(0,0),r=e.select("defs"),i=null!=r&&r.node;return i||(i=h("defs",e.node).node),i},n._.getSomeSVG=l,n.select=function(t){return t=b(t).replace(/([^\\]):/g,"$1\\:"),p(v.doc.querySelector(t))},n.selectAll=function(t){for(var e=v.doc.querySelectorAll(t),r=(n.set||Array)(),i=0;i<e.length;i++)r.push(p(e[i]));return r},setInterval((function(){for(var t in D)if(D[y](t)){var e=D[t],n=e.node;("svg"!=e.type&&!n.ownerSVGElement||"svg"==e.type&&(!n.parentNode||"ownerSVGElement"in n.parentNode&&!n.ownerSVGElement))&&delete D[t]}}),1e4),c.prototype.attr=function(t,n){var r=this,o=r.node;if(!t){if(1!=o.nodeType)return{text:o.nodeValue};for(var a=o.attributes,s={},l=0,u=a.length;u>l;l++)s[a[l].nodeName]=a[l].nodeValue;return s}if(i(t,"string")){if(!(arguments.length>1))return e("snap.util.getattr."+t,r).firstDefined();var c={};c[t]=n,t=c}for(var f in t)t[y](f)&&e("snap.util.attr."+f,r,t[f]);return r},n.parse=function(t){var e=v.doc.createDocumentFragment(),n=!0,r=v.doc.createElement("div");if((t=b(t)).match(/^\s*<\s*svg(?:\s|>)/)||(t="<svg>"+t+"</svg>",n=!1),r.innerHTML=t,t=r.getElementsByTagName("svg")[0])if(n)e=t;else for(;t.firstChild;)e.appendChild(t.firstChild);return new f(e)},n.fragment=function(){for(var t=Array.prototype.slice.call(arguments,0),e=v.doc.createDocumentFragment(),r=0,i=t.length;i>r;r++){var o=t[r];o.node&&o.node.nodeType&&e.appendChild(o.node),o.nodeType&&e.appendChild(o),"string"==typeof o&&e.appendChild(n.parse(o).node)}return new f(e)},n._.make=h,n._.wrap=p,d.prototype.el=function(t,e){var n=h(t,this.node);return e&&n.attr(e),n},c.prototype.children=function(){for(var t=[],e=this.node.childNodes,r=0,i=e.length;i>r;r++)t[r]=n(e[r]);return t},c.prototype.toJSON=function(){var t=[];return m([this],t),t[0]},e.on("snap.util.getattr",(function(){var t=e.nt(),n=(t=t.substring(t.lastIndexOf(".")+1)).replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));return U[y](n)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(n):r(this.node,t)}));var U={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};e.on("snap.util.attr",(function(t){var n=e.nt(),i={};i[n=n.substring(n.lastIndexOf(".")+1)]=t;var o=n.replace(/-(\w)/gi,(function(t,e){return e.toUpperCase()})),a=n.replace(/[A-Z]/g,(function(t){return"-"+t.toLowerCase()}));U[y](a)?this.node.style[o]=null==t?E:t:r(this.node,i)})),d.prototype,n.ajax=function(t,n,r,o){var a=new XMLHttpRequest,s=R();if(a){if(i(n,"function"))o=r,r=n,n=null;else if(i(n,"object")){var l=[];for(var u in n)n.hasOwnProperty(u)&&l.push(encodeURIComponent(u)+"="+encodeURIComponent(n[u]));n=l.join("&")}return a.open(n?"POST":"GET",t,!0),n&&(a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("Content-type","application/x-www-form-urlencoded")),r&&(e.once("snap.ajax."+s+".0",r),e.once("snap.ajax."+s+".200",r),e.once("snap.ajax."+s+".304",r)),a.onreadystatechange=function(){4==a.readyState&&e("snap.ajax."+s+"."+a.status,o,a)},4==a.readyState||a.send(n),a}},n.load=function(t,e,r){n.ajax(t,(function(t){var i=n.parse(t.responseText);r?e.call(r,i):e(i)}))};var V=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.body,i=n.documentElement,o=i.clientTop||r.clientTop||0,a=i.clientLeft||r.clientLeft||0;return{y:e.top+(g.win.pageYOffset||i.scrollTop||r.scrollTop)-o,x:e.left+(g.win.pageXOffset||i.scrollLeft||r.scrollLeft)-a}};return n.getElementByPoint=function(t,e){var n=(this.canvas,v.doc.elementFromPoint(t,e));if(v.win.opera&&"svg"==n.tagName){var r=V(n),i=n.createSVGRect();i.x=t-r.x,i.y=e-r.y,i.width=i.height=1;var o=n.getIntersectionList(i,null);o.length&&(n=o[o.length-1])}return n?p(n):null},n.plugin=function(t){t(n,c,d,v,f)},v.win.Snap=n,n}(t||this);return r.plugin((function(r,i,o,a,s){function l(t,e){if(null==e){var n=!0;if(!(e=t.node.getAttribute("linearGradient"==t.type||"radialGradient"==t.type?"gradientTransform":"pattern"==t.type?"patternTransform":"transform")))return new r.Matrix;e=r._.svgTransform2string(e)}else e=r._.rgTransform.test(e)?d(e).replace(/\.{3}|\u2026/g,t._.transform||""):r._.svgTransform2string(e),h(e,"array")&&(e=r.path?r.path.toString.call(e):d(e)),t._.transform=e;var i=r._.transform2matrix(e,t.getBBox(1));return n?i:void(t.matrix=i)}function u(t,e,n){return function(r){var i=r.slice(t,e);return 1==i.length&&(i=i[0]),n?n(i):i}}function c(t){return function(){var e=t?"<"+this.type:"",n=this.node.attributes,r=this.node.childNodes;if(t)for(var i=0,o=n.length;o>i;i++)e+=" "+n[i].name+'="'+n[i].value.replace(/"/g,'\\"')+'"';if(r.length){for(t&&(e+=">"),i=0,o=r.length;o>i;i++)3==r[i].nodeType?e+=r[i].nodeValue:1==r[i].nodeType&&(e+=b(r[i]).toString());t&&(e+="</"+this.type+">")}else t&&(e+="/>");return e}}var f=i.prototype,h=r.is,d=String,p=r._unit2px,m=r._.$,g=r._.make,v=r._.getSomeDefs,y="hasOwnProperty",b=r._.wrap;f.getBBox=function(t){if(!r.Matrix||!r.path)return this.node.getBBox();var e=this,n=new r.Matrix;if(e.removed)return r._.box();for(;"use"==e.type;)if(t||(n=n.add(e.transform().localMatrix.translate(e.attr("x")||0,e.attr("y")||0))),e.original)e=e.original;else{var i=e.attr("xlink:href");e=e.original=e.node.ownerDocument.getElementById(i.substring(i.indexOf("#")+1))}var o=e._,a=r.path.get[e.type]||r.path.get.deflt;try{return t?(o.bboxwt=a?r.path.getBBox(e.realPath=a(e)):r._.box(e.node.getBBox()),r._.box(o.bboxwt)):(e.realPath=a(e),e.matrix=e.transform().localMatrix,o.bbox=r.path.getBBox(r.path.map(e.realPath,n.add(e.matrix))),r._.box(o.bbox))}catch(t){return r._.box()}};var x=function(){return this.string};f.transform=function(t){var e=this._;if(null==t){for(var n,i=this,o=new r.Matrix(this.node.getCTM()),a=l(this),s=[a],u=new r.Matrix,c=a.toTransformString(),f=d(a)==d(this.matrix)?d(e.transform):c;"svg"!=i.type&&(i=i.parent());)s.push(l(i));for(n=s.length;n--;)u.add(s[n]);return{string:f,globalMatrix:o,totalMatrix:u,localMatrix:a,diffMatrix:o.clone().add(a.invert()),global:o.toTransformString(),total:u.toTransformString(),local:c,toString:x}}return t instanceof r.Matrix?(this.matrix=t,this._.transform=t.toTransformString()):l(this,t),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?m(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?m(this.node,{patternTransform:this.matrix}):m(this.node,{transform:this.matrix})),this},f.parent=function(){return b(this.node.parentNode)},f.append=f.add=function(t){if(t){if("set"==t.type){var e=this;return t.forEach((function(t){e.add(t)})),this}t=b(t),this.node.appendChild(t.node),t.paper=this.paper}return this},f.appendTo=function(t){return t&&(t=b(t)).append(this),this},f.prepend=function(t){if(t){if("set"==t.type){var e,n=this;return t.forEach((function(t){e?e.after(t):n.prepend(t),e=t})),this}var r=(t=b(t)).parent();this.node.insertBefore(t.node,this.node.firstChild),this.add&&this.add(),t.paper=this.paper,this.parent()&&this.parent().add(),r&&r.add()}return this},f.prependTo=function(t){return(t=b(t)).prepend(this),this},f.before=function(t){if("set"==t.type){var e=this;return t.forEach((function(t){var n=t.parent();e.node.parentNode.insertBefore(t.node,e.node),n&&n.add()})),this.parent().add(),this}var n=(t=b(t)).parent();return this.node.parentNode.insertBefore(t.node,this.node),this.parent()&&this.parent().add(),n&&n.add(),t.paper=this.paper,this},f.after=function(t){var e=(t=b(t)).parent();return this.node.nextSibling?this.node.parentNode.insertBefore(t.node,this.node.nextSibling):this.node.parentNode.appendChild(t.node),this.parent()&&this.parent().add(),e&&e.add(),t.paper=this.paper,this},f.insertBefore=function(t){t=b(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},f.insertAfter=function(t){t=b(t);var e=this.parent();return t.node.parentNode.insertBefore(this.node,t.node.nextSibling),this.paper=t.paper,e&&e.add(),t.parent()&&t.parent().add(),this},f.remove=function(){var t=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,t&&t.add(),this},f.select=function(t){return b(this.node.querySelector(t))},f.selectAll=function(t){for(var e=this.node.querySelectorAll(t),n=(r.set||Array)(),i=0;i<e.length;i++)n.push(b(e[i]));return n},f.asPX=function(t,e){return null==e&&(e=this.attr(t)),+p(this,t,e)},f.use=function(){var t,e=this.node.id;return e||(e=this.id,m(this.node,{id:e})),t="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?g(this.type,this.node.parentNode):g("use",this.node.parentNode),m(t.node,{"xlink:href":"#"+e}),t.original=this,t},f.clone=function(){var t=b(this.node.cloneNode(!0));return m(t.node,"id")&&m(t.node,{id:t.id}),function(t){function e(t,e){var n=m(t.node,e);(n=(n=n&&n.match(o))&&n[2])&&"#"==n.charAt()&&(n=n.substring(1))&&(s[n]=(s[n]||[]).concat((function(n){var r={};r[e]=URL(n),m(t.node,r)})))}function n(t){var e=m(t.node,"xlink:href");e&&"#"==e.charAt()&&(e=e.substring(1))&&(s[e]=(s[e]||[]).concat((function(e){t.attr("xlink:href","#"+e)})))}for(var r,i=t.selectAll("*"),o=/^\s*url\(("|'|)(.*)\1\)\s*$/,a=[],s={},l=0,u=i.length;u>l;l++){e(r=i[l],"fill"),e(r,"stroke"),e(r,"filter"),e(r,"mask"),e(r,"clip-path"),n(r);var c=m(r.node,"id");c&&(m(r.node,{id:r.id}),a.push({old:c,id:r.id}))}for(l=0,u=a.length;u>l;l++){var f=s[a[l].old];if(f)for(var h=0,d=f.length;d>h;h++)f[h](a[l].id)}}(t),t.insertAfter(this),t},f.toDefs=function(){return v(this).appendChild(this.node),this},f.pattern=f.toPattern=function(t,e,n,r){var i=g("pattern",v(this));return null==t&&(t=this.getBBox()),h(t,"object")&&"x"in t&&(e=t.y,n=t.width,r=t.height,t=t.x),m(i.node,{x:t,y:e,width:n,height:r,patternUnits:"userSpaceOnUse",id:i.id,viewBox:[t,e,n,r].join(" ")}),i.node.appendChild(this.node),i},f.marker=function(t,e,n,r,i,o){var a=g("marker",v(this));return null==t&&(t=this.getBBox()),h(t,"object")&&"x"in t&&(e=t.y,n=t.width,r=t.height,i=t.refX||t.cx,o=t.refY||t.cy,t=t.x),m(a.node,{viewBox:[t,e,n,r].join(" "),markerWidth:n,markerHeight:r,orient:"auto",refX:i||0,refY:o||0,id:a.id}),a.node.appendChild(this.node),a};var w=function(t,e,r,i){"function"!=typeof r||r.length||(i=r,r=n.linear),this.attr=t,this.dur=e,r&&(this.easing=r),i&&(this.callback=i)};r._.Animation=w,r.animation=function(t,e,n,r){return new w(t,e,n,r)},f.inAnim=function(){var t=this,e=[];for(var n in t.anims)t.anims[y](n)&&function(t){e.push({anim:new w(t._attrs,t.dur,t.easing,t._callback),mina:t,curStatus:t.status(),status:function(e){return t.status(e)},stop:function(){t.stop()}})}(t.anims[n]);return e},r.animate=function(t,r,i,o,a,s){"function"!=typeof a||a.length||(s=a,a=n.linear);var l=n.time(),u=n(t,r,l,l+o,n.time,i,a);return s&&e.once("mina.finish."+u.id,s),u},f.stop=function(){for(var t=this.inAnim(),e=0,n=t.length;n>e;e++)t[e].stop();return this},f.animate=function(t,r,i,o){"function"!=typeof i||i.length||(o=i,i=n.linear),t instanceof w&&(o=t.callback,i=t.easing,r=t.dur,t=t.attr);var a,s,l,c,f=[],p=[],m={},g=this;for(var v in t)if(t[y](v)){g.equal?(a=(c=g.equal(v,d(t[v]))).from,s=c.to,l=c.f):(a=+g.attr(v),s=+t[v]);var b=h(a,"array")?a.length:1;m[v]=u(f.length,f.length+b,l),f=f.concat(a),p=p.concat(s)}var x=n.time(),_=n(f,p,x,x+r,n.time,(function(t){var e={};for(var n in m)m[y](n)&&(e[n]=m[n](t));g.attr(e)}),i);return g.anims[_.id]=_,_._attrs=t,_._callback=o,e("snap.animcreated."+g.id,_),e.once("mina.finish."+_.id,(function(){delete g.anims[_.id],o&&o.call(g)})),e.once("mina.stop."+_.id,(function(){delete g.anims[_.id]})),g};var _={};f.data=function(t,n){var i=_[this.id]=_[this.id]||{};if(0==arguments.length)return e("snap.data.get."+this.id,this,i,null),i;if(1==arguments.length){if(r.is(t,"object")){for(var o in t)t[y](o)&&this.data(o,t[o]);return this}return e("snap.data.get."+this.id,this,i[t],t),i[t]}return i[t]=n,e("snap.data.set."+this.id,this,n,t),this},f.removeData=function(t){return null==t?_[this.id]={}:_[this.id]&&delete _[this.id][t],this},f.outerSVG=f.toString=c(1),f.innerSVG=c(),f.toDataURL=function(){if(t&&t.btoa){var e=this.getBBox(),n=r.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+e.x.toFixed(3),y:+e.y.toFixed(3),width:+e.width.toFixed(3),height:+e.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n)))}},s.prototype.select=f.select,s.prototype.selectAll=f.selectAll})),r.plugin((function(t){function e(t,e,r,i,o,a){return null==e&&"[object SVGMatrix]"==n.call(t)?(this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.e=t.e,void(this.f=t.f)):void(null!=t?(this.a=+t,this.b=+e,this.c=+r,this.d=+i,this.e=+o,this.f=+a):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var n=Object.prototype.toString,r=String,i=Math;!function(n){function o(t){return t[0]*t[0]+t[1]*t[1]}function a(t){var e=i.sqrt(o(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}n.add=function(t,n,r,i,o,a){var s,l,u,c,f=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,r,o],[n,i,a],[0,0,1]];for(t&&t instanceof e&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;3>s;s++)for(l=0;3>l;l++){for(c=0,u=0;3>u;u++)c+=h[s][u]*d[u][l];f[s][l]=c}return this.a=f[0][0],this.b=f[1][0],this.c=f[0][1],this.d=f[1][1],this.e=f[0][2],this.f=f[1][2],this},n.invert=function(){var t=this,n=t.a*t.d-t.b*t.c;return new e(t.d/n,-t.b/n,-t.c/n,t.a/n,(t.c*t.f-t.d*t.e)/n,(t.b*t.e-t.a*t.f)/n)},n.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},n.translate=function(t,e){return this.add(1,0,0,1,t,e)},n.scale=function(t,e,n,r){return null==e&&(e=t),(n||r)&&this.add(1,0,0,1,n,r),this.add(t,0,0,e,0,0),(n||r)&&this.add(1,0,0,1,-n,-r),this},n.rotate=function(e,n,r){e=t.rad(e),n=n||0,r=r||0;var o=+i.cos(e).toFixed(9),a=+i.sin(e).toFixed(9);return this.add(o,a,-a,o,n,r),this.add(1,0,0,1,-n,-r)},n.x=function(t,e){return t*this.a+e*this.c+this.e},n.y=function(t,e){return t*this.b+e*this.d+this.f},n.get=function(t){return+this[r.fromCharCode(97+t)].toFixed(4)},n.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},n.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},n.determinant=function(){return this.a*this.d-this.b*this.c},n.split=function(){var e={};e.dx=this.e,e.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];e.scalex=i.sqrt(o(n[0])),a(n[0]),e.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*e.shear,n[1][1]-n[0][1]*e.shear],e.scaley=i.sqrt(o(n[1])),a(n[1]),e.shear/=e.scaley,this.determinant()<0&&(e.scalex=-e.scalex);var r=-n[0][1],s=n[1][1];return 0>s?(e.rotate=t.deg(i.acos(s)),0>r&&(e.rotate=360-e.rotate)):e.rotate=t.deg(i.asin(r)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},n.toTransformString=function(t){var e=t||this.split();return+e.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[+e.dx.toFixed(4),+e.dy.toFixed(4)]:"")+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:"")+(e.rotate?"r"+[+e.rotate.toFixed(4),0,0]:""))}}(e.prototype),t.Matrix=e,t.matrix=function(t,n,r,i,o,a){return new e(t,n,r,i,o,a)}})),r.plugin((function(t,n,r,i,o){function a(r){return function(i){if(e.stop(),i instanceof o&&1==i.node.childNodes.length&&("radialGradient"==i.node.firstChild.tagName||"linearGradient"==i.node.firstChild.tagName||"pattern"==i.node.firstChild.tagName)&&(i=i.node.firstChild,d(this).appendChild(i),i=f(i)),i instanceof n)if("radialGradient"==i.type||"linearGradient"==i.type||"pattern"==i.type){i.node.id||m(i.node,{id:i.id});var a=g(i.node.id)}else a=i.attr(r);else if((a=t.color(i)).error){var s=t(d(this).ownerSVGElement).gradient(i);s?(s.node.id||m(s.node,{id:s.id}),a=g(s.node.id)):a=i}else a=v(a);var l={};l[r]=a,m(this.node,l),this.node.style[r]=b}}function s(t){e.stop(),t==+t&&(t+="px"),this.node.style.fontSize=t}function l(t){for(var e=[],n=t.childNodes,r=0,i=n.length;i>r;r++){var o=n[r];3==o.nodeType&&e.push(o.nodeValue),"tspan"==o.tagName&&e.push(1==o.childNodes.length&&3==o.firstChild.nodeType?o.firstChild.nodeValue:l(o))}return e}function u(){return e.stop(),this.node.style.fontSize}var c=t._.make,f=t._.wrap,h=t.is,d=t._.getSomeDefs,p=/^url\(#?([^)]+)\)$/,m=t._.$,g=t.url,v=String,y=t._.separator,b="";e.on("snap.util.attr.mask",(function(t){if(t instanceof n||t instanceof o){if(e.stop(),t instanceof o&&1==t.node.childNodes.length&&(t=t.node.firstChild,d(this).appendChild(t),t=f(t)),"mask"==t.type)var r=t;else(r=c("mask",d(this))).node.appendChild(t.node);!r.node.id&&m(r.node,{id:r.id}),m(this.node,{mask:g(r.id)})}})),function(t){e.on("snap.util.attr.clip",t),e.on("snap.util.attr.clip-path",t),e.on("snap.util.attr.clipPath",t)}((function(t){if(t instanceof n||t instanceof o){if(e.stop(),"clipPath"==t.type)var r=t;else(r=c("clipPath",d(this))).node.appendChild(t.node),!r.node.id&&m(r.node,{id:r.id});m(this.node,{"clip-path":g(r.node.id||r.id)})}})),e.on("snap.util.attr.fill",a("fill")),e.on("snap.util.attr.stroke",a("stroke"));var x=/^([lr])(?:\(([^)]*)\))?(.*)$/i;e.on("snap.util.grad.parse",(function(t){var e=(t=v(t)).match(x);if(!e)return null;var n=e[1],r=e[2],i=e[3];return 1==(r=r.split(/\s*,\s*/).map((function(t){return+t==t?+t:t}))).length&&0==r[0]&&(r=[]),{type:n,params:r,stops:i=(i=i.split("-")).map((function(t){var e={color:(t=t.split(":"))[0]};return t[1]&&(e.offset=parseFloat(t[1])),e}))}})),e.on("snap.util.attr.d",(function(n){e.stop(),h(n,"array")&&h(n[0],"array")&&(n=t.path.toString.call(n)),(n=v(n)).match(/[ruo]/i)&&(n=t.path.toAbsolute(n)),m(this.node,{d:n})}))(-1),e.on("snap.util.attr.#text",(function(t){e.stop(),t=v(t);for(var n=i.doc.createTextNode(t);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(n)}))(-1),e.on("snap.util.attr.path",(function(t){e.stop(),this.attr({d:t})}))(-1),e.on("snap.util.attr.class",(function(t){e.stop(),this.node.className.baseVal=t}))(-1),e.on("snap.util.attr.viewBox",(function(t){var n;n=h(t,"object")&&"x"in t?[t.x,t.y,t.width,t.height].join(" "):h(t,"array")?t.join(" "):t,m(this.node,{viewBox:n}),e.stop()}))(-1),e.on("snap.util.attr.transform",(function(t){this.transform(t),e.stop()}))(-1),e.on("snap.util.attr.r",(function(t){"rect"==this.type&&(e.stop(),m(this.node,{rx:t,ry:t}))}))(-1),e.on("snap.util.attr.textpath",(function(t){if(e.stop(),"text"==this.type){var r,i,o;if(!t&&this.textPath){for(i=this.textPath;i.node.firstChild;)this.node.appendChild(i.node.firstChild);return i.remove(),void delete this.textPath}if(h(t,"string")){var a=d(this),s=f(a.parentNode).path(t);a.appendChild(s.node),r=s.id,s.attr({id:r})}else(t=f(t))instanceof n&&((r=t.attr("id"))||(r=t.id,t.attr({id:r})));if(r)if(i=this.textPath,o=this.node,i)i.attr({"xlink:href":"#"+r});else{for(i=m("textPath",{"xlink:href":"#"+r});o.firstChild;)i.appendChild(o.firstChild);o.appendChild(i),this.textPath=f(i)}}}))(-1),e.on("snap.util.attr.text",(function(t){if("text"==this.type){for(var n=this.node,r=function(t){var e=m("tspan");if(h(t,"array"))for(var n=0;n<t.length;n++)e.appendChild(r(t[n]));else e.appendChild(i.doc.createTextNode(t));return e.normalize&&e.normalize(),e};n.firstChild;)n.removeChild(n.firstChild);for(var o=r(t);o.firstChild;)n.appendChild(o.firstChild)}e.stop()}))(-1),e.on("snap.util.attr.fontSize",s)(-1),e.on("snap.util.attr.font-size",s)(-1),e.on("snap.util.getattr.transform",(function(){return e.stop(),this.transform()}))(-1),e.on("snap.util.getattr.textpath",(function(){return e.stop(),this.textPath}))(-1),function(){function n(n){return function(){e.stop();var r=i.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+n);return"none"==r?r:t(i.doc.getElementById(r.match(p)[1]))}}function r(t){return function(n){e.stop();var r="marker"+t.charAt(0).toUpperCase()+t.substring(1);if(""!=n&&n){if("marker"==n.type){var i=n.node.id;return i||m(n.node,{id:n.id}),void(this.node.style[r]=g(i))}}else this.node.style[r]="none"}}e.on("snap.util.getattr.marker-end",n("end"))(-1),e.on("snap.util.getattr.markerEnd",n("end"))(-1),e.on("snap.util.getattr.marker-start",n("start"))(-1),e.on("snap.util.getattr.markerStart",n("start"))(-1),e.on("snap.util.getattr.marker-mid",n("mid"))(-1),e.on("snap.util.getattr.markerMid",n("mid"))(-1),e.on("snap.util.attr.marker-end",r("end"))(-1),e.on("snap.util.attr.markerEnd",r("end"))(-1),e.on("snap.util.attr.marker-start",r("start"))(-1),e.on("snap.util.attr.markerStart",r("start"))(-1),e.on("snap.util.attr.marker-mid",r("mid"))(-1),e.on("snap.util.attr.markerMid",r("mid"))(-1)}(),e.on("snap.util.getattr.r",(function(){return"rect"==this.type&&m(this.node,"rx")==m(this.node,"ry")?(e.stop(),m(this.node,"rx")):void 0}))(-1),e.on("snap.util.getattr.text",(function(){if("text"==this.type||"tspan"==this.type){e.stop();var t=l(this.node);return 1==t.length?t[0]:t}}))(-1),e.on("snap.util.getattr.#text",(function(){return this.node.textContent}))(-1),e.on("snap.util.getattr.viewBox",(function(){e.stop();var n=m(this.node,"viewBox");return n?(n=n.split(y),t._.box(+n[0],+n[1],+n[2],+n[3])):void 0}))(-1),e.on("snap.util.getattr.points",(function(){var t=m(this.node,"points");return e.stop(),t?t.split(y):void 0}))(-1),e.on("snap.util.getattr.path",(function(){var t=m(this.node,"d");return e.stop(),t}))(-1),e.on("snap.util.getattr.class",(function(){return this.node.className.baseVal}))(-1),e.on("snap.util.getattr.fontSize",u)(-1),e.on("snap.util.getattr.font-size",u)(-1)})),r.plugin((function(t,e){var n=/\S+/g,r=String,i=e.prototype;i.addClass=function(t){var e,i,o,a=r(t||"").match(n)||[],s=this.node,l=s.className.baseVal,u=l.match(n)||[];if(a.length){for(e=0;i=a[e++];)~u.indexOf(i)||u.push(i);l!=(o=u.join(" "))&&(s.className.baseVal=o)}return this},i.removeClass=function(t){var e,i,o,a,s=r(t||"").match(n)||[],l=this.node,u=l.className.baseVal,c=u.match(n)||[];if(c.length){for(e=0;o=s[e++];)~(i=c.indexOf(o))&&c.splice(i,1);u!=(a=c.join(" "))&&(l.className.baseVal=a)}return this},i.hasClass=function(t){return!!~(this.node.className.baseVal.match(n)||[]).indexOf(t)},i.toggleClass=function(t,e){if(null!=e)return e?this.addClass(t):this.removeClass(t);var r,i,o,a,s=(t||"").match(n)||[],l=this.node,u=l.className.baseVal,c=u.match(n)||[];for(r=0;o=s[r++];)~(i=c.indexOf(o))?c.splice(i,1):c.push(o);return u!=(a=c.join(" "))&&(l.className.baseVal=a),this}})),r.plugin((function(){function t(t){return t}function n(t){return function(e){return+e.toFixed(3)+t}}var r={"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){return t/e},"*":function(t,e){return t*e}},i=String,o=/[a-z]+$/i,a=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;e.on("snap.util.attr",(function(t){var n=i(t).match(a);if(n){var s=e.nt(),l=s.substring(s.lastIndexOf(".")+1),u=this.attr(l),c={};e.stop();var f=n[3]||"",h=u.match(o),d=r[n[1]];if(h&&h==f?t=d(parseFloat(u),+n[2]):(u=this.asPX(l),t=d(this.asPX(l),this.asPX(l,n[2]+f))),isNaN(u)||isNaN(t))return;c[l]=t,this.attr(c)}}))(-10),e.on("snap.util.equal",(function(s,l){var u=i(this.attr(s)||""),c=i(l).match(a);if(c){e.stop();var f=c[3]||"",h=u.match(o),d=r[c[1]];return h&&h==f?{from:parseFloat(u),to:d(parseFloat(u),+c[2]),f:n(h)}:{from:u=this.asPX(s),to:d(u,this.asPX(s,c[2]+f)),f:t}}}))(-10)})),r.plugin((function(n,r,i,o){var a=i.prototype,s=n.is;a.rect=function(t,e,n,r,i,o){var a;return null==o&&(o=i),s(t,"object")&&"[object Object]"==t?a=t:null!=t&&(a={x:t,y:e,width:n,height:r},null!=i&&(a.rx=i,a.ry=o)),this.el("rect",a)},a.circle=function(t,e,n){var r;return s(t,"object")&&"[object Object]"==t?r=t:null!=t&&(r={cx:t,cy:e,r:n}),this.el("circle",r)};var l=function(){function t(){this.parentNode.removeChild(this)}return function(e,n){var r=o.doc.createElement("img"),i=o.doc.body;r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){n.call(r),r.onload=r.onerror=null,i.removeChild(r)},r.onerror=t,i.appendChild(r),r.src=e}}();a.image=function(t,e,r,i,o){var a=this.el("image");if(s(t,"object")&&"src"in t)a.attr(t);else if(null!=t){var u={"xlink:href":t,preserveAspectRatio:"none"};null!=e&&null!=r&&(u.x=e,u.y=r),null!=i&&null!=o?(u.width=i,u.height=o):l(t,(function(){n._.$(a.node,{width:this.offsetWidth,height:this.offsetHeight})})),n._.$(a.node,u)}return a},a.ellipse=function(t,e,n,r){var i;return s(t,"object")&&"[object Object]"==t?i=t:null!=t&&(i={cx:t,cy:e,rx:n,ry:r}),this.el("ellipse",i)},a.path=function(t){var e;return s(t,"object")&&!s(t,"array")?e=t:t&&(e={d:t}),this.el("path",e)},a.group=a.g=function(t){var e=this.el("g");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},a.svg=function(t,e,n,r,i,o,a,l){var u={};return s(t,"object")&&null==e?u=t:(null!=t&&(u.x=t),null!=e&&(u.y=e),null!=n&&(u.width=n),null!=r&&(u.height=r),null!=i&&null!=o&&null!=a&&null!=l&&(u.viewBox=[i,o,a,l])),this.el("svg",u)},a.mask=function(t){var e=this.el("mask");return 1==arguments.length&&t&&!t.type?e.attr(t):arguments.length&&e.add(Array.prototype.slice.call(arguments,0)),e},a.ptrn=function(t,e,n,r,i,o,a,l){if(s(t,"object"))var u=t;else u={patternUnits:"userSpaceOnUse"},t&&(u.x=t),e&&(u.y=e),null!=n&&(u.width=n),null!=r&&(u.height=r),u.viewBox=null!=i&&null!=o&&null!=a&&null!=l?[i,o,a,l]:[t||0,e||0,n||0,r||0];return this.el("pattern",u)},a.use=function(t){return null!=t?(t instanceof r&&(t.attr("id")||t.attr({id:n._.id(t)}),t=t.attr("id")),"#"==String(t).charAt()&&(t=t.substring(1)),this.el("use",{"xlink:href":"#"+t})):r.prototype.use.call(this)},a.symbol=function(t,e,n,r){var i={};return null!=t&&null!=e&&null!=n&&null!=r&&(i.viewBox=[t,e,n,r]),this.el("symbol",i)},a.text=function(t,e,n){var r={};return s(t,"object")?r=t:null!=t&&(r={x:t,y:e,text:n||""}),this.el("text",r)},a.line=function(t,e,n,r){var i={};return s(t,"object")?i=t:null!=t&&(i={x1:t,x2:n,y1:e,y2:r}),this.el("line",i)},a.polyline=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return s(t,"object")&&!s(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polyline",e)},a.polygon=function(t){arguments.length>1&&(t=Array.prototype.slice.call(arguments,0));var e={};return s(t,"object")&&!s(t,"array")?e=t:null!=t&&(e={points:t}),this.el("polygon",e)},function(){function r(){return this.selectAll("stop")}function i(t,e){var r=u("stop"),i={offset:+e+"%"};return t=n.color(t),i["stop-color"]=t.hex,t.opacity<1&&(i["stop-opacity"]=t.opacity),u(r,i),this.node.appendChild(r),this}function o(){if("linearGradient"==this.type){var t=u(this.node,"x1")||0,e=u(this.node,"x2")||1,r=u(this.node,"y1")||0,i=u(this.node,"y2")||0;return n._.box(t,r,math.abs(e-t),math.abs(i-r))}var o=this.node.cx||.5,a=this.node.cy||.5,s=this.node.r||0;return n._.box(o-s,a-s,2*s,2*s)}function s(t,e,a,s,l){var c=n._.make("linearGradient",t);return c.stops=r,c.addStop=i,c.getBBox=o,null!=e&&u(c.node,{x1:e,y1:a,x2:s,y2:l}),c}function l(t,e,a,s,l,c){var f=n._.make("radialGradient",t);return f.stops=r,f.addStop=i,f.getBBox=o,null!=e&&u(f.node,{cx:e,cy:a,r:s}),null!=l&&null!=c&&u(f.node,{fx:l,fy:c}),f}var u=n._.$;a.gradient=function(t){return function(t,n){function r(t,e){for(var n=(e-f)/(t-h),r=h;t>r;r++)a[r].offset=+(+f+n*(r-h)).toFixed(2);h=t,f=e}var i,o=e("snap.util.grad.parse",null,n).firstDefined();if(!o)return null;o.params.unshift(t),i="l"==o.type.toLowerCase()?s.apply(0,o.params):l.apply(0,o.params),o.type!=o.type.toLowerCase()&&u(i.node,{gradientUnits:"userSpaceOnUse"});var a=o.stops,c=a.length,f=0,h=0;c--;for(var d=0;c>d;d++)"offset"in a[d]&&r(d,a[d].offset);for(a[c].offset=a[c].offset||100,r(c,a[c].offset),d=0;c>=d;d++){var p=a[d];i.addStop(p.color,p.offset)}return i}(this.defs,t)},a.gradientLinear=function(t,e,n,r){return s(this.defs,t,e,n,r)},a.gradientRadial=function(t,e,n,r,i){return l(this.defs,t,e,n,r,i)},a.toString=function(){var t,e=this.node.ownerDocument,r=e.createDocumentFragment(),i=e.createElement("div"),o=this.node.cloneNode(!0);return r.appendChild(i),i.appendChild(o),n._.$(o,{xmlns:"http://www.w3.org/2000/svg"}),t=i.innerHTML,r.removeChild(r.firstChild),t},a.toDataURL=function(){return t&&t.btoa?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this))):void 0},a.clear=function(){for(var t,e=this.node.firstChild;e;)t=e.nextSibling,"defs"!=e.tagName?e.parentNode.removeChild(e):a.clear.call({node:e}),e=t}}()})),r.plugin((function(t,e){function n(t){var e=n.ps=n.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout((function(){for(var n in e)e[O](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])})),e[t]}function r(t,e,n,r){return null==t&&(t=e=n=r=0),null==e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:M.min(n,r)/2,r2:M.max(n,r)/2,r0:M.sqrt(n*n+r*r)/2,path:y(t,e,n,r),vb:[t,e,n,r].join(" ")}}function i(){return this.join(",").replace(L,"$1")}function o(t){var e=k(t);return e.toString=i,e}function a(t,e,n,r,i,o,a,s,u){return null==u?d(t,e,n,r,i,o,a,s):l(t,e,n,r,i,o,a,s,function(t,e,n,r,i,o,a,s,l){if(!(0>l||d(t,e,n,r,i,o,a,s)<l)){var u,c=1,f=c/2,h=c-f,p=.01;for(u=d(t,e,n,r,i,o,a,s,h);B(u-l)>p;)u=d(t,e,n,r,i,o,a,s,h+=(l>u?1:-1)*(f/=2));return h}}(t,e,n,r,i,o,a,s,u))}function s(n,r){function i(t){return+(+t).toFixed(3)}return t._.cacher((function(t,o,s){t instanceof e&&(t=t.attr("d"));for(var u,c,f,h,d,p="",m={},g=0,v=0,y=(t=C(t)).length;y>v;v++){if("M"==(f=t[v])[0])u=+f[1],c=+f[2];else{if(g+(h=a(u,c,f[1],f[2],f[3],f[4],f[5],f[6]))>o){if(r&&!m.start){if(p+=["C"+i((d=a(u,c,f[1],f[2],f[3],f[4],f[5],f[6],o-g)).start.x),i(d.start.y),i(d.m.x),i(d.m.y),i(d.x),i(d.y)],s)return p;m.start=p,p=["M"+i(d.x),i(d.y)+"C"+i(d.n.x),i(d.n.y),i(d.end.x),i(d.end.y),i(f[5]),i(f[6])].join(),g+=h,u=+f[5],c=+f[6];continue}if(!n&&!r)return a(u,c,f[1],f[2],f[3],f[4],f[5],f[6],o-g)}g+=h,u=+f[5],c=+f[6]}p+=f.shift()+f}return m.end=p,n?g:r?m:l(u,c,f[0],f[1],f[2],f[3],f[4],f[5],1)}),null,t._.clone)}function l(t,e,n,r,i,o,a,s,l){var u=1-l,c=R(u,3),f=R(u,2),h=l*l,d=h*l,p=t+2*l*(n-t)+h*(i-2*n+t),m=e+2*l*(r-e)+h*(o-2*r+e),g=n+2*l*(i-n)+h*(a-2*i+n),v=r+2*l*(o-r)+h*(s-2*o+r);return{x:c*t+3*f*l*n+3*u*l*l*i+d*a,y:c*e+3*f*l*r+3*u*l*l*o+d*s,m:{x:p,y:m},n:{x:g,y:v},start:{x:u*t+l*n,y:u*e+l*r},end:{x:u*i+l*a,y:u*o+l*s},alpha:90-180*M.atan2(p-g,m-v)/P}}function u(e,n,i,o,a,s,l,u){t.is(e,"array")||(e=[e,n,i,o,a,s,l,u]);var c=j.apply(null,e);return r(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)}function c(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function f(t,e){return t=r(t),c(e=r(e),t.x,t.y)||c(e,t.x2,t.y)||c(e,t.x,t.y2)||c(e,t.x2,t.y2)||c(t,e.x,e.y)||c(t,e.x2,e.y)||c(t,e.x,e.y2)||c(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)}function h(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}function d(t,e,n,r,i,o,a,s,l){null==l&&(l=1);for(var u=(l=l>1?1:0>l?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,p=0;12>p;p++){var m=u*c[p]+u,g=h(m,t,n,i,a),v=h(m,e,r,o,s),y=g*g+v*v;d+=f[p]*M.sqrt(y)}return u*d}function p(t,e,n,r,i,o,a,s){if(!(Q(t,n)<z(i,a)||z(t,n)>Q(i,a)||Q(e,r)<z(o,s)||z(e,r)>Q(o,s))){var l=(t-n)*(o-s)-(e-r)*(i-a);if(l){var u=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/l,c=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/l,f=+u.toFixed(2),h=+c.toFixed(2);if(!(f<+z(t,n).toFixed(2)||f>+Q(t,n).toFixed(2)||f<+z(i,a).toFixed(2)||f>+Q(i,a).toFixed(2)||h<+z(e,r).toFixed(2)||h>+Q(e,r).toFixed(2)||h<+z(o,s).toFixed(2)||h>+Q(o,s).toFixed(2)))return{x:u,y:c}}}}function m(t,e,n){if(!f(u(t),u(e)))return n?0:[];for(var r=~~(d.apply(0,t)/8),i=~~(d.apply(0,e)/8),o=[],a=[],s={},c=n?0:[],h=0;r+1>h;h++){var m=l.apply(0,t.concat(h/r));o.push({x:m.x,y:m.y,t:h/r})}for(h=0;i+1>h;h++)m=l.apply(0,e.concat(h/i)),a.push({x:m.x,y:m.y,t:h/i});for(h=0;r>h;h++)for(var g=0;i>g;g++){var v=o[h],y=o[h+1],b=a[g],x=a[g+1],w=B(y.x-v.x)<.001?"y":"x",_=B(x.x-b.x)<.001?"y":"x",S=p(v.x,v.y,y.x,y.y,b.x,b.y,x.x,x.y);if(S){if(s[S.x.toFixed(4)]==S.y.toFixed(4))continue;s[S.x.toFixed(4)]=S.y.toFixed(4);var j=v.t+B((S[w]-v[w])/(y[w]-v[w]))*(y.t-v.t),C=b.t+B((S[_]-b[_])/(x[_]-b[_]))*(x.t-b.t);j>=0&&1>=j&&C>=0&&1>=C&&(n?c++:c.push({x:S.x,y:S.y,t1:j,t2:C}))}}return c}function g(t,e,n){t=C(t),e=C(e);for(var r,i,o,a,s,l,u,c,f,h,d=n?0:[],p=0,g=t.length;g>p;p++){var v=t[p];if("M"==v[0])r=s=v[1],i=l=v[2];else{"C"==v[0]?(f=[r,i].concat(v.slice(1)),r=f[6],i=f[7]):(f=[r,i,r,i,s,l,s,l],r=s,i=l);for(var y=0,b=e.length;b>y;y++){var x=e[y];if("M"==x[0])o=u=x[1],a=c=x[2];else{"C"==x[0]?(h=[o,a].concat(x.slice(1)),o=h[6],a=h[7]):(h=[o,a,o,a,u,c,u,c],o=u,a=c);var w=m(f,h,n);if(n)d+=w;else{for(var _=0,S=w.length;S>_;_++)w[_].segment1=p,w[_].segment2=y,w[_].bez1=f,w[_].bez2=h;d=d.concat(w)}}}}}return d}function v(t){var e=n(t);if(e.bbox)return k(e.bbox);if(!t)return r();for(var i,o=0,a=0,s=[],l=[],u=0,c=(t=C(t)).length;c>u;u++)if("M"==(i=t[u])[0])o=i[1],a=i[2],s.push(o),l.push(a);else{var f=j(o,a,i[1],i[2],i[3],i[4],i[5],i[6]);s=s.concat(f.min.x,f.max.x),l=l.concat(f.min.y,f.max.y),o=i[5],a=i[6]}var h=z.apply(0,s),d=z.apply(0,l),p=r(h,d,Q.apply(0,s)-h,Q.apply(0,l)-d);return e.bbox=k(p),p}function y(t,e,n,r,o){if(o)return[["M",+t+ +o,e],["l",n-2*o,0],["a",o,o,0,0,1,o,o],["l",0,r-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-n,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-r],["a",o,o,0,0,1,o,-o],["z"]];var a=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return a.toString=i,a}function b(t,e,n,r,o){if(null==o&&null==r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!=o)var a=Math.PI/180,s=t+n*Math.cos(-r*a),l=t+n*Math.cos(-o*a),u=[["M",s,e+n*Math.sin(-r*a)],["A",n,n,0,+(o-r>180),0,l,e+n*Math.sin(-o*a)]];else u=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return u.toString=i,u}function x(e){var r=n(e);if(r.abs)return o(r.abs);if(T(e,"array")&&T(e&&e[0],"array")||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var a,s=[],l=0,u=0,c=0,f=0,h=0;"M"==e[0][0]&&(c=l=+e[0][1],f=u=+e[0][2],h++,s[0]=["M",l,u]);for(var d,p,m=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),g=h,v=e.length;v>g;g++){if(s.push(d=[]),(a=(p=e[g])[0])!=a.toUpperCase())switch(d[0]=a.toUpperCase(),d[0]){case"A":d[1]=p[1],d[2]=p[2],d[3]=p[3],d[4]=p[4],d[5]=p[5],d[6]=+p[6]+l,d[7]=+p[7]+u;break;case"V":d[1]=+p[1]+u;break;case"H":d[1]=+p[1]+l;break;case"R":for(var y=[l,u].concat(p.slice(1)),x=2,w=y.length;w>x;x++)y[x]=+y[x]+l,y[++x]=+y[x]+u;s.pop(),s=s.concat(I(y,m));break;case"O":s.pop(),(y=b(l,u,p[1],p[2])).push(y[0]),s=s.concat(y);break;case"U":s.pop(),s=s.concat(b(l,u,p[1],p[2],p[3])),d=["U"].concat(s[s.length-1].slice(-2));break;case"M":c=+p[1]+l,f=+p[2]+u;default:for(x=1,w=p.length;w>x;x++)d[x]=+p[x]+(x%2?l:u)}else if("R"==a)y=[l,u].concat(p.slice(1)),s.pop(),s=s.concat(I(y,m)),d=["R"].concat(p.slice(-2));else if("O"==a)s.pop(),(y=b(l,u,p[1],p[2])).push(y[0]),s=s.concat(y);else if("U"==a)s.pop(),s=s.concat(b(l,u,p[1],p[2],p[3])),d=["U"].concat(s[s.length-1].slice(-2));else for(var _=0,S=p.length;S>_;_++)d[_]=p[_];if("O"!=(a=a.toUpperCase()))switch(d[0]){case"Z":l=+c,u=+f;break;case"H":l=d[1];break;case"V":u=d[1];break;case"M":c=d[d.length-2],f=d[d.length-1];default:l=d[d.length-2],u=d[d.length-1]}}return s.toString=i,r.abs=o(s),s}function w(t,e,n,r){return[t,e,n,r,n,r]}function _(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]}function S(e,n,r,i,o,a,s,l,u,c){var f,h=120*P/180,d=P/180*(+o||0),p=[],m=t._.cacher((function(t,e,n){return{x:t*M.cos(n)-e*M.sin(n),y:t*M.sin(n)+e*M.cos(n)}}));if(c)C=c[0],I=c[1],_=c[2],j=c[3];else{e=(f=m(e,n,-d)).x,n=f.y,l=(f=m(l,u,-d)).x,u=f.y;var g=(M.cos(P/180*o),M.sin(P/180*o),(e-l)/2),v=(n-u)/2,y=g*g/(r*r)+v*v/(i*i);y>1&&(r*=y=M.sqrt(y),i*=y);var b=r*r,x=i*i,w=(a==s?-1:1)*M.sqrt(B((b*x-b*v*v-x*g*g)/(b*v*v+x*g*g))),_=w*r*v/i+(e+l)/2,j=w*-i*g/r+(n+u)/2,C=M.asin(((n-j)/i).toFixed(9)),I=M.asin(((u-j)/i).toFixed(9));0>(C=_>e?P-C:C)&&(C=2*P+C),0>(I=_>l?P-I:I)&&(I=2*P+I),s&&C>I&&(C-=2*P),!s&&I>C&&(I-=2*P)}var E=I-C;if(B(E)>h){var T=I,k=l,O=u;I=C+h*(s&&I>C?1:-1),p=S(l=_+r*M.cos(I),u=j+i*M.sin(I),r,i,o,0,s,k,O,[I,T,_,j])}E=I-C;var L=M.cos(C),A=M.sin(C),z=M.cos(I),Q=M.sin(I),R=M.tan(E/4),N=4/3*r*R,D=4/3*i*R,H=[e,n],W=[e+N*A,n-D*L],F=[l+N*Q,u-D*z],Y=[l,u];if(W[0]=2*H[0]-W[0],W[1]=2*H[1]-W[1],c)return[W,F,Y].concat(p);for(var q=[],X=0,$=(p=[W,F,Y].concat(p).join().split(",")).length;$>X;X++)q[X]=X%2?m(p[X-1],p[X],d).y:m(p[X],p[X+1],d).x;return q}function j(t,e,n,r,i,o,a,s){for(var l,u,c,f,h,d,p,m,g=[],v=[[],[]],y=0;2>y;++y)if(0==y?(u=6*t-12*n+6*i,l=-3*t+9*n-9*i+3*a,c=3*n-3*t):(u=6*e-12*r+6*o,l=-3*e+9*r-9*o+3*s,c=3*r-3*e),B(l)<1e-12){if(B(u)<1e-12)continue;(f=-c/u)>0&&1>f&&g.push(f)}else p=u*u-4*c*l,m=M.sqrt(p),0>p||((h=(-u+m)/(2*l))>0&&1>h&&g.push(h),(d=(-u-m)/(2*l))>0&&1>d&&g.push(d));for(var b,x=g.length,w=x;x--;)b=1-(f=g[x]),v[0][x]=b*b*b*t+3*b*b*f*n+3*b*f*f*i+f*f*f*a,v[1][x]=b*b*b*e+3*b*b*f*r+3*b*f*f*o+f*f*f*s;return v[0][w]=t,v[1][w]=e,v[0][w+1]=a,v[1][w+1]=s,v[0].length=v[1].length=w+2,{min:{x:z.apply(0,v[0]),y:z.apply(0,v[1])},max:{x:Q.apply(0,v[0]),y:Q.apply(0,v[1])}}}function C(t,e){var r=!e&&n(t);if(!e&&r.curve)return o(r.curve);for(var i=x(t),a=e&&x(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(S.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==n||"S"==n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(_(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(_(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(w(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(w(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(w(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(w(e.x,e.y,e.X,e.Y))}return t},c=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)h[e]="A",a&&(d[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),v=Q(i.length,a&&a.length||0)}},f=function(t,e,n,r,o){t&&e&&"M"==t[o][0]&&"M"!=e[o][0]&&(e.splice(o,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[o][1],n.y=t[o][2],v=Q(i.length,a&&a.length||0))},h=[],d=[],p="",m="",g=0,v=Q(i.length,a&&a.length||0);v>g;g++){i[g]&&(p=i[g][0]),"C"!=p&&(h[g]=p,g&&(m=h[g-1])),i[g]=u(i[g],s,m),"A"!=h[g]&&"C"==p&&(h[g]="C"),c(i,g),a&&(a[g]&&(p=a[g][0]),"C"!=p&&(d[g]=p,g&&(m=d[g-1])),a[g]=u(a[g],l,m),"A"!=d[g]&&"C"==p&&(d[g]="C"),c(a,g)),f(i,a,s,l,g),f(a,i,l,s,g);var y=i[g],b=a&&a[g],j=y.length,C=a&&b.length;s.x=y[j-2],s.y=y[j-1],s.bx=A(y[j-4])||s.x,s.by=A(y[j-3])||s.y,l.bx=a&&(A(b[C-4])||l.x),l.by=a&&(A(b[C-3])||l.y),l.x=a&&b[C-2],l.y=a&&b[C-1]}return a||(r.curve=o(i)),a?[i,a]:i}function I(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4==r?o[3]={x:+t[0],y:+t[1]}:i-2==r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}var E=e.prototype,T=t.is,k=t._.clone,O="hasOwnProperty",L=/,?([a-z]),?/gi,A=parseFloat,M=Math,P=M.PI,z=M.min,Q=M.max,R=M.pow,B=M.abs,N=s(1),D=s(),H=s(0,1),W=t._unit2px,F={path:function(t){return t.attr("path")},circle:function(t){var e=W(t);return b(e.cx,e.cy,e.r)},ellipse:function(t){var e=W(t);return b(e.cx||0,e.cy||0,e.rx,e.ry)},rect:function(t){var e=W(t);return y(e.x||0,e.y||0,e.width,e.height,e.rx,e.ry)},image:function(t){var e=W(t);return y(e.x||0,e.y||0,e.width,e.height)},line:function(t){return"M"+[t.attr("x1")||0,t.attr("y1")||0,t.attr("x2"),t.attr("y2")]},polyline:function(t){return"M"+t.attr("points")},polygon:function(t){return"M"+t.attr("points")+"z"},deflt:function(t){var e=t.node.getBBox();return y(e.x,e.y,e.width,e.height)}};t.path=n,t.path.getTotalLength=N,t.path.getPointAtLength=D,t.path.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return H(t,e).end;var r=H(t,n,1);return e?H(r,e).end:r},E.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},E.getPointAtLength=function(t){return D(this.attr("d"),t)},E.getSubpath=function(e,n){return t.path.getSubpath(this.attr("d"),e,n)},t._.box=r,t.path.findDotsAtSegment=l,t.path.bezierBBox=u,t.path.isPointInsideBBox=c,t.closest=function(e,n,i,o){for(var a=100,s=r(e-a/2,n-a/2,a,a),l=[],u=i[0].hasOwnProperty("x")?function(t){return{x:i[t].x,y:i[t].y}}:function(t){return{x:i[t],y:o[t]}},f=0;1e6>=a&&!f;){for(var h=0,d=i.length;d>h;h++){var p=u(h);if(c(s,p.x,p.y)){f++,l.push(p);break}}f||(s=r(e-(a*=2)/2,n-a/2,a,a))}if(1e6!=a){var m,g=1/0;for(h=0,d=l.length;d>h;h++){var v=t.len(e,n,l[h].x,l[h].y);g>v&&(g=v,l[h].len=v,m=l[h])}return m}},t.path.isBBoxIntersect=f,t.path.intersection=function(t,e){return g(t,e)},t.path.intersectionNumber=function(t,e){return g(t,e,1)},t.path.isPointInside=function(t,e,n){var r=v(t);return c(r,e,n)&&g(t,[["M",e,n],["H",r.x2+10]],1)%2==1},t.path.getBBox=v,t.path.get=F,t.path.toRelative=function(e){var r=n(e),a=String.prototype.toLowerCase;if(r.rel)return o(r.rel);t.is(e,"array")&&t.is(e&&e[0],"array")||(e=t.parsePathString(e));var s=[],l=0,u=0,c=0,f=0,h=0;"M"==e[0][0]&&(c=l=e[0][1],f=u=e[0][2],h++,s.push(["M",l,u]));for(var d=h,p=e.length;p>d;d++){var m=s[d]=[],g=e[d];if(g[0]!=a.call(g[0]))switch(m[0]=a.call(g[0]),m[0]){case"a":m[1]=g[1],m[2]=g[2],m[3]=g[3],m[4]=g[4],m[5]=g[5],m[6]=+(g[6]-l).toFixed(3),m[7]=+(g[7]-u).toFixed(3);break;case"v":m[1]=+(g[1]-u).toFixed(3);break;case"m":c=g[1],f=g[2];default:for(var v=1,y=g.length;y>v;v++)m[v]=+(g[v]-(v%2?l:u)).toFixed(3)}else{m=s[d]=[],"m"==g[0]&&(c=g[1]+l,f=g[2]+u);for(var b=0,x=g.length;x>b;b++)s[d][b]=g[b]}var w=s[d].length;switch(s[d][0]){case"z":l=c,u=f;break;case"h":l+=+s[d][w-1];break;case"v":u+=+s[d][w-1];break;default:l+=+s[d][w-2],u+=+s[d][w-1]}}return s.toString=i,r.rel=o(s),s},t.path.toAbsolute=x,t.path.toCubic=C,t.path.map=function(t,e){if(!e)return t;var n,r,i,o,a,s,l;for(i=0,a=(t=C(t)).length;a>i;i++)for(o=1,s=(l=t[i]).length;s>o;o+=2)n=e.x(l[o],l[o+1]),r=e.y(l[o],l[o+1]),l[o]=n,l[o+1]=r;return t},t.path.toString=i,t.path.clone=o})),r.plugin((function(t){var r=Math.max,i=Math.min,o=function(t){if(this.items=[],this.bindings={},this.length=0,this.type="set",t)for(var e=0,n=t.length;n>e;e++)t[e]&&(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},a=o.prototype;a.push=function(){for(var t,e,n=0,r=arguments.length;r>n;n++)(t=arguments[n])&&(this[e=this.items.length]=this.items[e]=t,this.length++);return this},a.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},a.forEach=function(t,e){for(var n=0,r=this.items.length;r>n;n++)if(!1===t.call(e,this.items[n],n))return this;return this},a.animate=function(r,i,o,a){"function"!=typeof o||o.length||(a=o,o=n.linear),r instanceof t._.Animation&&(a=r.callback,o=r.easing,i=o.dur,r=r.attr);var s=arguments;if(t.is(r,"array")&&t.is(s[s.length-1],"array"))var l=!0;var u,c=function(){u?this.b=u:u=this.b},f=0,h=this,d=a&&function(){++f==h.length&&a.call(this)};return this.forEach((function(t,n){e.once("snap.animcreated."+t.id,c),l?s[n]&&t.animate.apply(t,s[n]):t.animate(r,i,o,d)}))},a.remove=function(){for(;this.length;)this.pop().remove();return this},a.bind=function(t,e,n){var r={};if("function"==typeof e)this.bindings[t]=e;else{var i=n||t;this.bindings[t]=function(t){r[i]=t,e.attr(r)}}return this},a.attr=function(t){var e={};for(var n in t)this.bindings[n]?this.bindings[n](t[n]):e[n]=t[n];for(var r=0,i=this.items.length;i>r;r++)this.items[r].attr(e);return this},a.clear=function(){for(;this.length;)this.pop()},a.splice=function(t,e){t=0>t?r(this.length+t,0):t,e=r(0,i(this.length-t,e));var n,a=[],s=[],l=[];for(n=2;n<arguments.length;n++)l.push(arguments[n]);for(n=0;e>n;n++)s.push(this[t+n]);for(;n<this.length-t;n++)a.push(this[t+n]);var u=l.length;for(n=0;n<u+a.length;n++)this.items[t+n]=this[t+n]=u>n?l[n]:a[n-u];for(n=this.items.length=this.length-=e-u;this[n];)delete this[n++];return new o(s)},a.exclude=function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]==t)return this.splice(e,1),!0;return!1},a.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},a.getBBox=function(){for(var t=[],e=[],n=[],o=[],a=this.items.length;a--;)if(!this.items[a].removed){var s=this.items[a].getBBox();t.push(s.x),e.push(s.y),n.push(s.x+s.width),o.push(s.y+s.height)}return{x:t=i.apply(0,t),y:e=i.apply(0,e),x2:n=r.apply(0,n),y2:o=r.apply(0,o),width:n-t,height:o-e,cx:t+(n-t)/2,cy:e+(o-e)/2}},a.clone=function(t){t=new o;for(var e=0,n=this.items.length;n>e;e++)t.push(this.items[e].clone());return t},a.toString=function(){return"Snap‘s set"},a.type="set",t.Set=o,t.set=function(){var t=new o;return arguments.length&&t.push.apply(t,Array.prototype.slice.call(arguments,0)),t}})),r.plugin((function(t,n){function r(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}}function i(e,n,i){n=p(n).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],n=t.parseTransformString(n)||[];for(var o,a,s,l,f=Math.max(e.length,n.length),h=[],d=[],m=0;f>m;m++){if(s=e[m]||r(n[m]),l=n[m]||r(s),s[0]!=l[0]||"r"==s[0].toLowerCase()&&(s[2]!=l[2]||s[3]!=l[3])||"s"==s[0].toLowerCase()&&(s[3]!=l[3]||s[4]!=l[4])){e=t._.transform2matrix(e,i()),n=t._.transform2matrix(n,i()),h=[["m",e.a,e.b,e.c,e.d,e.e,e.f]],d=[["m",n.a,n.b,n.c,n.d,n.e,n.f]];break}for(h[m]=[],d[m]=[],o=0,a=Math.max(s.length,l.length);a>o;o++)o in s&&(h[m][o]=s[o]),o in l&&(d[m][o]=l[o])}return{from:c(h),to:c(d),f:u(h)}}function o(t){return t}function a(t){return function(e){return+e.toFixed(3)+t}}function s(t){return t.join(" ")}function l(e){return t.rgb(e[0],e[1],e[2])}function u(t){var e,n,r,i,o,a,s=0,l=[];for(e=0,n=t.length;n>e;e++){for(o="[",a=['"'+t[e][0]+'"'],r=1,i=t[e].length;i>r;r++)a[r]="val["+s+++"]";o+=a+"]",l[e]=o}return Function("val","return Snap.path.toString.call(["+l+"])")}function c(t){for(var e=[],n=0,r=t.length;r>n;n++)for(var i=1,o=t[n].length;o>i;i++)e.push(t[n][i]);return e}function f(t){return isFinite(parseFloat(t))}var h={},d=/[a-z]+$/i,p=String;h.stroke=h.fill="colour",n.prototype.equal=function(t,n){return e("snap.util.equal",this,t,n).firstDefined()},e.on("snap.util.equal",(function(e,n){var r,m,g=p(this.attr(e)||""),v=this;if(f(g)&&f(n))return{from:parseFloat(g),to:parseFloat(n),f:o};if("colour"==h[e])return r=t.color(g),m=t.color(n),{from:[r.r,r.g,r.b,r.opacity],to:[m.r,m.g,m.b,m.opacity],f:l};if("viewBox"==e)return{from:r=this.attr(e).vb.split(" ").map(Number),to:m=n.split(" ").map(Number),f:s};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return n instanceof t.Matrix&&(n=n.toTransformString()),t._.rgTransform.test(n)||(n=t._.svgTransform2string(n)),i(g,n,(function(){return v.getBBox(1)}));if("d"==e||"path"==e)return{from:c((r=t.path.toCubic(g,n))[0]),to:c(r[1]),f:u(r[0])};if("points"==e)return{from:r=p(g).split(t._.separator),to:m=p(n).split(t._.separator),f:function(t){return t}};var y=g.match(d),b=p(n).match(d);return y&&function(e,n){return!(!t.is(e,"array")||!t.is(n,"array"))&&e.toString()==n.toString()}(y,b)?{from:parseFloat(g),to:parseFloat(n),f:a(y)}:{from:this.asPX(e),to:this.asPX(e,n),f:o}}))})),r.plugin((function(t,n,r,i){for(var o=n.prototype,a=("createTouch"in i.doc),s=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],l={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},u=function(t,e){var n="y"==t?"scrollTop":"scrollLeft",r=e&&e.node?e.node.ownerDocument:i.doc;return r[n in r.documentElement?"documentElement":"body"][n]},c=function(){return this.originalEvent.preventDefault()},f=function(){return this.originalEvent.stopPropagation()},h=function(t,e,n,r){var i=a&&l[e]?l[e]:e,o=function(i){var o=u("y",r),s=u("x",r);if(a&&l.hasOwnProperty(e))for(var h=0,d=i.targetTouches&&i.targetTouches.length;d>h;h++)if(i.targetTouches[h].target==t||t.contains(i.targetTouches[h].target)){var p=i;(i=i.targetTouches[h]).originalEvent=p,i.preventDefault=c,i.stopPropagation=f;break}var m=i.clientX+s,g=i.clientY+o;return n.call(r,i,m,g)};return e!==i&&t.addEventListener(e,o,!1),t.addEventListener(i,o,!1),function(){return e!==i&&t.removeEventListener(e,o,!1),t.removeEventListener(i,o,!1),!0}},d=[],p=function(t){for(var n,r=t.clientX,i=t.clientY,o=u("y"),s=u("x"),l=d.length;l--;){if(n=d[l],a){for(var c,f=t.touches&&t.touches.length;f--;)if((c=t.touches[f]).identifier==n.el._drag.id||n.el.node.contains(c.target)){r=c.clientX,i=c.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var h=n.el.node;h.nextSibling,h.parentNode,h.style.display,r+=s,i+=o,e("snap.drag.move."+n.el.id,n.move_scope||n.el,r-n.el._drag.x,i-n.el._drag.y,r,i,t)}},m=function(n){t.unmousemove(p).unmouseup(m);for(var r,i=d.length;i--;)(r=d[i]).el._drag={},e("snap.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,n),e.off("snap.drag.*."+r.el.id);d=[]},g=s.length;g--;)!function(e){t[e]=o[e]=function(n,r){if(t.is(n,"function"))this.events=this.events||[],this.events.push({name:e,f:n,unbind:h(this.node||document,e,n,r||this)});else for(var i=0,o=this.events.length;o>i;i++)if(this.events[i].name==e)try{this.events[i].f.call(this)}catch(t){}return this},t["un"+e]=o["un"+e]=function(t){for(var n=this.events||[],r=n.length;r--;)if(n[r].name==e&&(n[r].f==t||!t))return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}}(s[g]);o.hover=function(t,e,n,r){return this.mouseover(t,n).mouseout(e,r||n)},o.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var v=[];o.drag=function(n,r,i,o,a,s){function l(l,u,c){(l.originalEvent||l).preventDefault(),f._drag.x=u,f._drag.y=c,f._drag.id=l.identifier,!d.length&&t.mousemove(p).mouseup(m),d.push({el:f,move_scope:o,start_scope:a,end_scope:s}),r&&e.on("snap.drag.start."+f.id,r),n&&e.on("snap.drag.move."+f.id,n),i&&e.on("snap.drag.end."+f.id,i),e("snap.drag.start."+f.id,a||o||f,u,c,l)}function u(t,n,r){e("snap.draginit."+f.id,f,t,n,r)}var c,f=this;return arguments.length?(e.on("snap.draginit."+f.id,l),f._drag={},v.push({el:f,start:l,init:u}),f.mousedown(u),f):f.drag((function(t,e){this.attr({transform:c+(c?"T":"t")+[t,e]})}),(function(){c=this.transform().local}))},o.undrag=function(){for(var n=v.length;n--;)v[n].el==this&&(this.unmousedown(v[n].init),v.splice(n,1),e.unbind("snap.drag.*."+this.id),e.unbind("snap.draginit."+this.id));return!v.length&&t.unmousemove(p).unmouseup(m),this}})),r.plugin((function(t,n,r){var i=(n.prototype,r.prototype),o=/^\s*url\((.+)\)/,a=String,s=t._.$;t.filter={},i.filter=function(e){var r=this;"svg"!=r.type&&(r=r.paper);var i=t.parse(a(e)),o=t._.id(),l=(r.node.offsetWidth,r.node.offsetHeight,s("filter"));return s(l,{id:o,filterUnits:"userSpaceOnUse"}),l.appendChild(i.node),r.defs.appendChild(l),new n(l)},e.on("snap.util.getattr.filter",(function(){e.stop();var n=s(this.node,"filter");if(n){var r=a(n).match(o);return r&&t.select(r[1])}})),e.on("snap.util.attr.filter",(function(r){if(r instanceof n&&"filter"==r.type){e.stop();var i=r.node.id;i||(s(r.node,{id:r.id}),i=r.id),s(this.node,{filter:t.url(i)})}r&&"none"!=r||(e.stop(),this.node.removeAttribute("filter"))})),t.filter.blur=function(e,n){null==e&&(e=2);var r=null==n?e:[e,n];return t.format('<feGaussianBlur stdDeviation="{def}"/>',{def:r})},t.filter.blur.toString=function(){return this()},t.filter.shadow=function(e,n,r,i,o){return"string"==typeof r&&(o=i=r,r=4),"string"!=typeof i&&(o=i,i="#000"),i=i||"#000",null==r&&(r=4),null==o&&(o=1),null==e&&(e=0,n=2),null==n&&(n=e),i=t.color(i),t.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:i,dx:e,dy:n,blur:r,opacity:o})},t.filter.shadow.toString=function(){return this()},t.filter.grayscale=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},t.filter.grayscale.toString=function(){return this()},t.filter.sepia=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},t.filter.sepia.toString=function(){return this()},t.filter.saturate=function(e){return null==e&&(e=1),t.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})},t.filter.saturate.toString=function(){return this()},t.filter.hueRotate=function(e){return e=e||0,t.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e})},t.filter.hueRotate.toString=function(){return this()},t.filter.invert=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})},t.filter.invert.toString=function(){return this()},t.filter.brightness=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})},t.filter.brightness.toString=function(){return this()},t.filter.contrast=function(e){return null==e&&(e=1),t.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:e,amount2:.5-e/2})},t.filter.contrast.toString=function(){return this()}})),r.plugin((function(t,e){var n=t._.box,r=t.is,i=/^[^a-z]*([tbmlrc])/i,o=function(){return"T"+this.dx+","+this.dy};e.prototype.getAlign=function(t,e){null==e&&r(t,"string")&&(e=t,t=null);var a=(t=t||this.paper).getBBox?t.getBBox():n(t),s=this.getBBox(),l={};switch(e=(e=e&&e.match(i))?e[1].toLowerCase():"c"){case"t":l.dx=0,l.dy=a.y-s.y;break;case"b":l.dx=0,l.dy=a.y2-s.y2;break;case"m":l.dx=0,l.dy=a.cy-s.cy;break;case"l":l.dx=a.x-s.x,l.dy=0;break;case"r":l.dx=a.x2-s.x2,l.dy=0;break;default:l.dx=a.cx-s.cx,l.dy=0}return l.toString=o,l},e.prototype.align=function(t,e){return this.transform("..."+this.getAlign(t,e))}})),r}));var headeroverlay=!1,headerheight=jQuery("header").height();function sizeDownHeader(){var t=150;headeroverlay&&(t=300,jQuery(document).scrollTop()>jQuery(window).height()-headerheight&&jQuery(".fixed-header").length>0?(jQuery("#overlay-logo").fadeOut(0),jQuery("header").removeClass("header-overlay"),jQuery("header").addClass("wasOverlay"),jQuery(".header-shown").length<1&&(jQuery("header").css({top:"-"+headerheight+"px"}),jQuery("header").animate({top:"0px"},600,"easeInOutQuart")),jQuery("header").addClass("header-shown")):jQuery(".fixed-header").length>0&&(jQuery(".header-shown").length>0&&jQuery("header").animate({top:"-"+headerheight+"px"},600,(function(){jQuery("header").addClass("header-overlay"),jQuery("header").removeClass("wasOverlay"),jQuery("header").animate({top:"0px"},600,"easeInOutQuart"),jQuery("#overlay-logo").fadeIn(0)})),jQuery("header").removeClass("header-shown"))),jQuery(window).width()<767?(jQuery(".fixed-header nav#main-nav").fadeOut(0),jQuery(".fixed-header nav#menu-controls").fadeOut(0)):jQuery(document).scrollTop()>t&&jQuery(".fixed-header").length>0?jQuery(".fixed-header header").hasClass("smallheader")||(jQuery(window).width()>1023?(jQuery("header.no-resize").length<1&&jQuery(".fixed-header header").addClass("smallheader"),jQuery(".fixed-header nav#menu-controls").length>0&&jQuery(".fixed-header nav#main-nav").fadeOut(200,(function(){jQuery("nav#menu-controls").fadeIn(200)}))):jQuery(window).width()>767&&(jQuery(".fixed-header nav#main-nav").fadeOut(0),jQuery(".fixed-header nav#menu-controls").length)):jQuery(".fixed-header").length>0&&(jQuery(window).width()>1023?(jQuery(".fixed-header header").hasClass("smallheader")&&jQuery(".fixed-header header").removeClass("smallheader"),jQuery(".fixed-header nav#menu-controls").length>0&&jQuery(".fixed-header nav#menu-controls").fadeOut(200,(function(){jQuery("nav#main-nav").fadeIn(200)}))):jQuery(window).width()>767&&(jQuery(".fixed-header nav#main-nav").fadeOut(0),jQuery(".fixed-header nav#menu-controls").length))}function portfolioPreviewHide(){jQuery("#portfolio-single .project-title").css({top:"-60px",opacity:0}),jQuery("#portfolio-single .social-share li").css({top:"-30px",opacity:0}),jQuery("#portfolio-single .entry-media").css({top:"60px",opacity:0}),jQuery("#portfolio-single .entry-content").css({top:"60px",opacity:0}),jQuery("#portfolio-single .project-title .single-pagination .next").css({left:"60%",opacity:0}),jQuery("#portfolio-single .project-title .single-pagination .prev").css({left:"40%",opacity:0})}function portfolioShow(){jQuery("#portfolio-single .project-title").animate({top:"0",opacity:1},500,"easeOutQuart"),jQuery(".social-share li").delay(400).each((function(t,e){var n=80*t;jQuery(this).delay(n).animate({top:"0",opacity:1},500,"easeOutBack")})),jQuery(".entry-media").delay(600).animate({top:"0",opacity:1},500,"easeOutQuart"),jQuery(".entry-content").delay(1e3).animate({top:"0",opacity:1},500,"easeOutQuart");var t=parseInt(jQuery(".project-title").width()/2)-parseInt(jQuery(".project-title .project-name").width()/2)-90,e=jQuery(".project-title").width()-t-jQuery(".project-title .single-pagination .next a").width();if(jQuery(window).width()<760)t=-10,e=280;jQuery(".project-title .single-pagination .next").delay(200).animate({left:e+"px",opacity:1},600,"easeOutBack"),jQuery(".project-title .single-pagination .prev").delay(200).animate({left:t+"px",opacity:1},600,"easeOutBack"),jQuery(".close-project").delay(1200).fadeIn(500)}jQuery(window).load((function(){jQuery(".header-overlay").length<1?(jQuery("body").append('<div id="pseudo-header"></div>'),jQuery("#pseudo-header").css({height:headerheight+"px",position:"absolute",top:0,left:0,opacity:0}),jQuery(".fixed-header").length>0&&jQuery(".page-body").css({"margin-top":headerheight+"px"})):headeroverlay=!0,sizeDownHeader()})),jQuery(window).scroll((function(){sizeDownHeader()})),jQuery(window).resize((function(){headerheight=jQuery("header").height(),jQuery(".header-overlay").length<1&&jQuery(window).width()<1023&&jQuery(".wasOverlay").length<1&&(jQuery("#pseudo-header").css({height:headerheight+"px",position:"absolute",top:0,left:0,opacity:0}),jQuery(".fixed-header").length>0&&jQuery(".page-body").css({"margin-top":headerheight+"px"})),sizeDownHeader()})),jQuery(window).load((function($){function loadcontent(url,type,id,slug,activeProject,ajaxSection){var scrolltop=jQuery("header").height()-1;jQuery.ajax({type:"POST",url:srvars.ajaxurl,data:{action:"sr_get_content",id:id,type:type},success:function(response,status){jQuery(ajaxSection+" .ajax-content").html(response),jQuery(ajaxSection+" .ajax-content").css({opacity:1}),jQuery(ajaxSection+" .ajax-content").find("script").each((function(i){eval(jQuery(this).html())})),"success"==status&&(activeProject?(jQuery(ajaxSection+" #ajax-loader").css({top:"70px"}),jQuery(ajaxSection+" #ajax-loader").delay(1e3).fadeOut(500,(function(){jQuery().fitVids&&jQuery(ajaxSection).fitVids(),portfolioPreviewHide(),jQuery(ajaxSection+" .ajax-content").fadeIn(400,"easeOutQuart",(function(){jQuery(ajaxSection+" .ajax-content").find(".jp-interface").each((function(){var t=jQuery(this).width()-175;jQuery(this).find(".jp-progress-container").css({width:t+"px"})})),flexInit(ajaxSection),setTimeout(portfolioShow,600),jQuery(ajaxSection).animate({"min-height":"0"},700,"easeOutQuart")}))}))):jQuery(ajaxSection+" #ajax-loader").delay(1e3).fadeOut(500,(function(){jQuery().fitVids&&jQuery(ajaxSection).fitVids(),portfolioPreviewHide(),jQuery(ajaxSection+" .ajax-content").slideDown(700,"easeInQuart",(function(){jQuery(ajaxSection+" .ajax-content").find(".jp-interface").each((function(){var t=jQuery(this).width()-175;jQuery(this).find(".jp-progress-container").css({width:t+"px"})})),flexInit(ajaxSection),setTimeout(portfolioShow,600)}))})))}})}jQuery("body").on("click","a.load-content",(function(){var t=jQuery("header").height()-1,e=jQuery(this).attr("href"),n=jQuery(this).data("type"),r=jQuery(this).data("id"),i=jQuery(this).data("slug"),o=jQuery(this).closest(".portfolio-entries").data("ajax");o=o?"#"+o:"#"+jQuery(this).closest(".ajax-section").attr("id");var a=jQuery(o).css("display");if(a="block"==a)if(a==e)jQuery("html,body").animate({scrollTop:jQuery(o).offset().top-t},700,"easeOutQuart");else{s=0;jQuery("html,body").animate({scrollTop:jQuery(o).offset().top-t},500,"easeOutQuart",(function(){if(0==s){var t=jQuery(o).height();jQuery(o).css({"min-height":t+"px"}),jQuery(o+" .close-project").fadeOut(500),jQuery(o+" #portfolio-single .project-title").animate({top:"-60px"},600,"easeOutQuart"),jQuery(o+" #portfolio-single .social-share li").animate({top:"-30px"},600,"easeOutQuart"),jQuery(o+" #portfolio-single .entry-media").animate({top:"60px"},600,"easeOutQuart"),jQuery(o+" #portfolio-single .entry-content").animate({top:"60px"},600,"easeOutQuart"),jQuery(o+" .ajax-content").fadeOut(600,(function(){jQuery(o+" #ajax-loader").fadeIn(500),loadcontent(e,n,r,i,a,o)}))}s++}))}else{jQuery(o).slideDown(500);var s=0;jQuery("html,body").animate({scrollTop:jQuery(o).offset().top-t},700,"easeOutQuart",(function(){0==s&&(jQuery(o+" #ajax-loader").fadeIn(500),loadcontent(e,n,r,i,a,o)),s++}))}return!1})),jQuery(".ajax-content").on("click",".close-project a",(function(){jQuery(this).attr("href");var t=jQuery(this).parents("section").attr("id"),e=jQuery("header").height()-1;return jQuery(".close-project").fadeOut(500),jQuery(".ajax-content").animate({opacity:0},500,(function(){jQuery(this).slideUp(700,"easeOutQuart",(function(){})),jQuery(".ajax-section").slideUp(700,(function(){jQuery(".ajax-content").html("")})),jQuery("html,body").animate({scrollTop:jQuery("#"+t).offset().top-e},700,"easeOutQuart")})),!1}))})),jQuery(window).load((function(t){jQuery("body").on("click",'input[type="submit"]',(function(){if($form=jQuery(this).parents("form"),form_action=$form.attr("target"),form_class=$form.attr("class"),id=$form.attr("id"),"checkform"==form_class){var t=!0;if($form.find("label.req").each((function(e){var n=jQuery(this).attr("for");if(defaultvalue=jQuery(this).html(),value=$form.find("."+n).val(),formtype=$form.find("."+n).attr("type"),"radio"==formtype||"checkbox"==formtype)0==jQuery("."+n+":checked").length?(jQuery(this).siblings("div").find(".checkfalse").fadeIn(200),t=!1):jQuery(this).siblings("div").find(".checkfalse").fadeOut(200);else if("email"==n){value.match(/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/)?$form.find("."+n).removeClass("false"):($form.find("."+n).addClass("false"),t=!1)}else""==value||value==defaultvalue?($form.find("."+n).addClass("false"),t=!1):$form.find("."+n).removeClass("false")})),t){if($form.find("#form-note").fadeOut(200),form_action&&""!==form_action){var e=$form.serialize();return jQuery.ajax({type:"POST",url:form_action,data:e,success:function(t){$form.find("#form-note").html(t),$form.find("#form-note").delay(200).fadeIn(200)}}),!1}return!0}return $form.find("#form-note").fadeIn(200),!1}}))})),function(t){function e(e,n,r,i){var o=e.text().split(n),a="";o.length&&(t(o).each((function(t,e){a+='<span class="'+r+(t+1)+'">'+e+"</span>"+i})),e.empty().append(a))}var n={init:function(){return this.each((function(){e(t(this),"","char","")}))},words:function(){return this.each((function(){e(t(this)," ","word"," ")}))},lines:function(){return this.each((function(){var n="eefec303079ad17405c889e092e105b0";e(t(this).children("br").replaceWith(n).end(),n,"line","")}))}};t.fn.lettering=function(e){return e&&n[e]?n[e].apply(this,[].slice.call(arguments,1)):"letters"!==e&&e?(t.error("Method "+e+" does not exist on jQuery.lettering"),this):n.init.apply(this,[].slice.call(arguments,0))}}(jQuery),function(t,e,n,r){var i=t(e);t.fn.lazyload=function(o){function a(){var e=0;l.each((function(){var n=t(this);if(!u.skip_invisible||n.is(":visible"))if(t.abovethetop(this,u)||t.leftofbegin(this,u));else if(t.belowthefold(this,u)||t.rightoffold(this,u)){if(++e>u.failure_limit)return!1}else n.trigger("appear"),e=0}))}var s,l=this,u={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return o&&(r!==o.failurelimit&&(o.failure_limit=o.failurelimit,delete o.failurelimit),r!==o.effectspeed&&(o.effect_speed=o.effectspeed,delete o.effectspeed),t.extend(u,o)),s=u.container===r||u.container===e?i:t(u.container),0===u.event.indexOf("scroll")&&s.bind(u.event,(function(){return a()})),this.each((function(){var e=this,n=t(e);e.loaded=!1,(n.attr("src")===r||!1===n.attr("src"))&&n.is("img")&&n.attr("src",u.placeholder),n.one("appear",(function(){if(!this.loaded){if(u.appear){var r=l.length;u.appear.call(e,r,u)}t("<img />").bind("load",(function(){var r=n.attr("data-"+u.data_attribute);n.hide(),n.is("img")?n.attr("src",r):n.css("background-image","url('"+r+"')"),n[u.effect](u.effect_speed),e.loaded=!0;var i=t.grep(l,(function(t){return!t.loaded}));if(l=t(i),u.load){var o=l.length;u.load.call(e,o,u)}})).attr("src",n.attr("data-"+u.data_attribute))}})),0!==u.event.indexOf("scroll")&&n.bind(u.event,(function(){e.loaded||n.trigger("appear")}))})),i.bind("resize",(function(){a()})),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&i.bind("pageshow",(function(e){e.originalEvent&&e.originalEvent.persisted&&l.each((function(){t(this).trigger("appear")}))})),t(n).ready((function(){a()})),this},t.belowthefold=function(n,o){return(o.container===r||o.container===e?(e.innerHeight?e.innerHeight:i.height())+i.scrollTop():t(o.container).offset().top+t(o.container).height())<=t(n).offset().top-o.threshold},t.rightoffold=function(n,o){return(o.container===r||o.container===e?i.width()+i.scrollLeft():t(o.container).offset().left+t(o.container).width())<=t(n).offset().left-o.threshold},t.abovethetop=function(n,o){return(o.container===r||o.container===e?i.scrollTop():t(o.container).offset().top)>=t(n).offset().top+o.threshold+t(n).height()},t.leftofbegin=function(n,o){return(o.container===r||o.container===e?i.scrollLeft():t(o.container).offset().left)>=t(n).offset().left+o.threshold+t(n).width()},t.inviewport=function(e,n){return!(t.rightoffold(e,n)||t.leftofbegin(e,n)||t.belowthefold(e,n)||t.abovethetop(e,n))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document);var originalheaderheight=jQuery("header").height();jQuery(window).load((function(t){function e(){var t="";if(jQuery("#main-nav > ul > li").each((function(e){var n=jQuery(this).find("a").attr("href"),r=jQuery(this).find("a").attr("data-target");"#"==n.charAt(0)&&(r=n),jQuery(r).length>0&&jQuery(r).position().top-originalheaderheight<=jQuery(document).scrollTop()&&(t=r)})),t)var e=jQuery(t).visible(!0);e?(jQuery("#main-nav > ul > li, #menu-controls > ul > li").removeClass("current-menu-item"),jQuery('#main-nav > ul > li a[href="'+t+'"], #menu-controls > ul > li a[href="'+t+'"]').parent("li").addClass("current-menu-item")):jQuery("#main-nav > ul > li, #menu-controls > ul > li").removeClass("current-menu-item")}var n=59,r="#"+jQuery(".page-body section:first-child").attr("id");jQuery(".fixed-header").length<1&&(n=-1),jQuery("body").on("click",".scroll-to",(function(){var t=jQuery(this).attr("href"),e=jQuery(this).attr("data-target");if("#"==t.charAt(0)&&(e=t),jQuery(e).length>0)return t==r?jQuery("html,body").animate({scrollTop:0},1e3,"easeInOutQuart"):jQuery("html,body").animate({scrollTop:jQuery(e).offset().top-n},1e3,"easeInOutQuart"),!1})),e(),jQuery(window).scroll((function(){e()}))}));var app=app||{},loading=!1,loadedPosts=!0,wheight=jQuery(window).height(),wwidth=jQuery(window).width(),dheight=jQuery(document).height(),dwidth=jQuery(document).width(),mobile=!1,tablet=!1;(/iPad/i.test(navigator.userAgent)||wwidth<1023)&&(tablet=!0,console.log("tablet")),(/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||wwidth<768)&&(mobile=!0,console.log("mobile")),function(t,e,n){t.fn.countdown=function(e,n,r){r=r||"%duration%";var i=t(this[0]).html(r.replace("%duration%",n)),o=setInterval((function(){--n?i.html(r.replace("%duration%",n)):(clearInterval(o),e&&e.call(i))}),1e3)};var r=t("#audioPlayer");function i(){t(".typed").each((function(){t(this).typed({strings:[t(this).html()],loop:!1,typeSpeed:25,startDelay:200})})),t(".counter-value").each((function(){if(t(e).width()>700){var n=t(this).visible(!1);if(t(this).hasClass("anim"));else if(n){t(this).addClass("anim");var r=parseInt(t(this).attr("data-from")),i=parseInt(t(this).attr("data-to")),o=parseInt(t(this).attr("data-speed"));t(this).count(r,i,o)}}else{i=parseInt(t(this).attr("data-to"));t(this).html(i)}})),t(".sr-animation").each((function(){if(t(e).width()>700){var n=t(this).visible(!0),r=t(this).attr("data-delay");r||(r=0),t(this).hasClass("animated")||n&&t(this).delay(r).queue((function(){t(this).addClass("animated")}))}else t(this).addClass("animated")})),t(".skill").each((function(){var e=t(this).visible(!0),n=t(this).find(".skill-bar .skill-active ").attr("data-perc");if(t(this).hasClass("anim"));else if(e){var r=Math.floor(251*Math.random())+50;t(this).addClass("anim"),t(this).find(".skill-bar .skill-active ").animate({width:n+"%"},2e3,"easeInOutQuart",(function(){t(this).find(".tooltip").delay(r).animate({top:"-28px",opacity:1},500)})).css("overflow","visible")}}))}t((function(){t("#page-content").magnificPopup({delegate:".js-photo",type:"image",tLoading:"Loading image #%curr%...",removalDelay:300,midClick:!0,mainClass:"mfp-zoom-in",fixedContentPos:!0,gallery:{enabled:!0,navigateByImgClick:!1,preload:[0,1],arrowMarkup:'<button title="%title%" type="button" class="mfp-nav mfp-nav-%dir%"><i class="mfp-prevent-close fa fa-angle-double-%dir%"></span></button>'},image:{markup:'<div class="mfp-figure animated fadeIn"><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>',tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(t){return t.el.attr("title")}},closeBtnInside:!1,closeMarkup:'<button title="%title%" class="mfp-close"><i class="fa fa-times"></i></button>'});var e={el:null,onPlayerReady:function(t){Modernizr.touch||t.target.playVideo()},onPlayerStateChange:function(e){switch(e.data){case YT.PlayerState.ENDED:var n=t.magnificPopup.instance,r=n.items[(i=n.currItem.index+1,o=n.items.length,i>o-1?i-o:i<0?o+i:i)];n.content.find("#mfplayer,h1").removeClass("animated fadeInRight").addClass("animated fadeOutLeft"),t.ajax({url:"https://www.googleapis.com/youtube/v3/videos?id="+r.el.data("youtube")+"&key=AIzaSyAge_dhlmNzd_sApyywWlcnipExcSZu73Y&part=snippet",dataType:"jsonp",success:function(e){if(1===e.items.length){var r=ich.video_tpl({video:e.items[0].snippet});n.content.prepend(r),n.content.find(".countdown").countdown((function(){t.magnificPopup.instance.isOpen&&(this.closest(".video-player").remove(),n.next())}),10,"Next video playing in <span>%duration%</span>")}},error:function(t,e,n){console.log(e,NaN+n)}})}var i,o},onPlayerError:function(t){console.log(t)}};t(".js-video").magnificPopup({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler"><div id="mfplayer"></div><h1 class="mfp-title video-title"></h1></div>',patterns:{youtube:{src:"//www.youtube.com/embed/%id%?version=3&rel=0&showinfo=0&enablejsapi=1"}}},gallery:{enabled:!0,navigateByImgClick:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-nav mfp-nav-%dir%"><i class="mfp-prevent-close fa fa-angle-double-%dir%"></span></button>'},mainClass:"fadeIn animated",removalDelay:200,fixedContentPos:!0,tLoading:"Loading video...",closeBtnInside:!1,closeMarkup:'<button title="%title%" class="mfp-close"><i class="fa fa-times"></i></button>',callbacks:{open:function(){e.el=new YT.Player("mfplayer",{videoId:this.currItem.el.data("youtube"),events:{onReady:e.onPlayerReady,onStateChange:e.onPlayerStateChange,onError:e.onPlayerError}})},change:function(){e.el&&e.el.destroy()},afterChange:function(){this.content.find("#mfplayer,h1").removeClass("fadeOutLeft").addClass("animated fadeInRight"),e.el=new YT.Player("mfplayer",{videoId:this.currItem.el.data("youtube"),events:{onReady:e.onPlayerReady,onStateChange:e.onPlayerStateChange,onError:e.onPlayerError}})},markupParse:function(t,e,n){e.title=n.el.attr("title")}}}),t(".overlay-link").magnificPopup({preloader:!0,callbacks:{open:function(){},close:function(){}}})})),t(e).load((function(){lazyLoad=function(){t("img.lazy").lazyload({effect:"fadeIn",threshold:200,skip_invisible:!0,failure_limit:50})},lazyLoad(),t(".home a.sr-button.sr-button4.medium-button.sr-buttonicon.scroll-to").click((function(){return t("html, body").animate({scrollTop:wheight-100},1e3,"easeInOutQuart"),!1})),t(".social a").wrapInner("<span></span>"),t("#main-nav li.newsletter a").addClass("scroll-to");var o,a={37:1,38:1,39:1,40:1};function s(t){(t=t||e.event).preventDefault&&t.preventDefault(),t.returnValue=!1}function l(t){if(a[t.keyCode])return s(t),!1}function u(){e.addEventListener&&e.addEventListener("DOMMouseScroll",s,!1),e.onwheel=s,e.onmousewheel=n.onmousewheel=s,e.ontouchmove=s,n.onkeydown=l}function c(){e.removeEventListener&&e.removeEventListener("DOMMouseScroll",s,!1),e.onmousewheel=n.onmousewheel=null,e.onwheel=null,e.ontouchmove=null,n.onkeydown=null}function f(){if(t(".horizontalsection").length){var n=t(".horizontalsection").position().left+1,r=t(e).width()+2;t(".horizontalsection").find(".horizontalinner").css({left:"-"+n+"px",width:r+"px"})}}t(n).on("click",".news-title a",(function(e){return e.preventDefault(),u(),$newsID=t(this).data("id"),t("#news-"+$newsID).toggleClass("active"),t(this).toggleClass("active"),setTimeout((function(){var e=t("#news-"+$newsID).offset(),n=22;(mobile||tablet)&&(n=t("#nav").height()+11),t("html, body").animate({scrollTop:e.top-n},1e3,"easeInOutQuart",(function(){c()}))}),500),!1})),t(".connectcat-toggle").click((function(){return $catID=t(this).data("group"),t("#"+$catID).toggleClass("active"),t(this).toggleClass("active"),!1})),t(".albumcat-toggle").click((function(){return $catID=t(this).data("group"),t("#"+$catID).toggleClass("active"),t(this).toggleClass("active"),lazyLoad(),!1})),t(".album-detail-toggle").click((function(){t(".album-info").removeClass("active"),u(),$albumID=t(this).data("id");var e=parseInt(t("#album-detials-"+$albumID).find("img").height()),n=parseInt(e/2)-parseInt(t("#album-detials-"+$albumID).find(".centered").height()/2);return n<=0?t("#album-detials-"+$albumID).find(".centered").css({marginTop:"0px"}):t("#album-detials-"+$albumID).find(".centered").css({marginTop:n+"px"}),setTimeout((function(){t("#album-detials-"+$albumID).toggleClass("active"),t("#section-discography").addClass("tint");var e=t("#album-detials-"+$albumID).offset(),n=22;mobile?n=t("#nav").height()+6:tablet&&(n=t("#nav").height()+12),t("html, body").animate({scrollTop:e.top-n},1e3,"easeInOutQuart",(function(){c()}))}),500),!1})),t(".close-info").click((function(){u(),$albumID=t(this).data("id"),t("#album-detials-"+$albumID).toggleClass("active"),t("#section-discography").removeClass("tint");var e=t("#album-"+$albumID).offset(),n=8;return(mobile||tablet)&&(n=t("#nav").height()),t("html, body").animate({scrollTop:e.top-n},1e3,"easeInOutQuart",(function(){c()})),!1})),t(".tracklist-title").click((function(){return $parent=t(this).parent(),t($parent).find(".tracklist-tracks").slideToggle(),!1})),t(n).on("click",".share-toggle",(function(e){t(this).parent(".share").toggleClass("active")})),r.on("click","#toggle",(function(){return r.toggleClass("closed"),!1})),t(".stream-this").click((function(){var e=t(this).data("embed");return r.find(".inner").html(e).text(),r.removeClass("closed"),!1})),t(".stream-this-new").click((function(){var e=decodeURIComponent(t(this).data("embed")),n=t(this).data("id");if(mobile){t("#album-detials-"+n).find(".mobile-player .inner").html(e).text();var r=t("#album-detials-"+n+" iframe").attr("src");t("#album-detials-"+n+" iframe").attr("src",r+"&theme=white")}else{t("#stream-player-"+n).find(".inner").html(e).text(),t("#stream-player-"+n).addClass("active");r=t("#stream-player-"+n+" iframe").attr("src");t("#stream-player-"+n+" iframe").attr("src",r+"&theme=white")}return!1})),t(".close-overlay").click((function(){return t(this).parent().removeClass("active"),!1})),t("#page-loader .page-loader-inner").delay(0).fadeOut(0,(function(){t("#page-loader").fadeOut(300),t("#primary > li").each((function(e){var n=100*e,r=t(this);setTimeout((function(){t(r).addClass("animated")}),n)}))})),t("#primary li a").click((function(){t("#primary > li").each((function(e){t(this).removeClass("animated"),t("#page-loader .page-loader-inner").fadeIn(500),t("#page-loader").fadeIn(500)}))})),f(),t(e).resize((function(){f()})),o="body",t().flexslider&&t(o+" .flexslider").flexslider({animation:"slide",slideshowSpeed:7e3,animationDuration:1e3,slideshow:!0,directionNav:!1,controlNav:!0,smoothHeight:!0,touch:!0,video:!0,randomize:!1}),t().isotope&&(t(".masonry").each((function(){var e=t(this);e.imagesLoaded((function(){e.isotope({itemSelector:".masonry-item",transformsEnabled:!0})}))})),t(".filter li a").click((function(){var e=t(this).parents("ul.filter").data("related-grid");t(this).parents("ul.filter").find("li a").removeClass("active"),t(this).addClass("active");var n=t(this).attr("data-option-value");return t("#"+e).isotope({filter:n},(function(){})),!1})));var h=[];function d(){var t=jQuery("#menu-responsive").width()+100;jQuery("#menu-responsive").animate({right:"-"+t+"px"},800,"easeInOutQuart"),jQuery(".page-body").animate({right:"0px"},400,"easeInOutQuart"),jQuery(".open-responsive-nav span").css({"background-position":"-340px 0px"})}t("nav#main-nav li").each((function(e){if(t(this).find("ul").length>0){var n=t(this);t(this).mouseenter((function(){h[e]&&(clearTimeout(h[e]),h[e]=null),h[e]=setTimeout((function(){t(n).children("ul").fadeIn(200)}),150)})),t(this).mouseleave((function(){h[e]&&(clearTimeout(h[e]),h[e]=null),h[e]=setTimeout((function(){t(n).children("ul").fadeOut(200)}),150)}))}})),t("nav#main-nav").on("click","li",(function(){if(t(e).width()<1025&&t(this).find("ul").length>0&&"block"!==t(this).find("ul").css("display"))return t(this).children("ul").fadeIn(200),!1})),t("nav#main-menu > ul").on("click","li",(function(){if(t(this).find("ul").length>0){if("block"!==t(this).find("ul").css("display"))return t(this).children("ul").fadeIn(200),!1;t(this).children("ul.sub-menu").fadeOut(200)}})),t('<a class="open-responsive-nav" href="#" title="Open Menu"><div id="nav-icon3"><span></span><span></span><span></span><span></span></div></a>').appendTo(".header-inner .menu"),t("#page-content").prepend('<div id="menu-responsive" class=""><div id="menu-responsive-inner"><a href="#" title="Close Menu" class="close-responsive-nav" alt="Toggle Menu" title="Toggle Menu" aria-label="Toggle Menu"><span></span></a><nav id="responsive-nav" aria-label="Primary Navigation"><ul></ul></nav></div></div>'),t("nav#responsive-nav > ul").html(t("nav#main-menu > ul > li:not(.social)").clone()),t("nav#responsive-nav").append(t('<ul class="social-menu"></ul>').append(t("nav#main-nav li.social").clone())),t("nav#responsive-nav a").attr("data-text",(function(e){return t(this).text()})),jQuery("aside").on("click",".open-responsive-nav",(function(){t(".open-responsive-nav").toggleClass("open");var n=jQuery("aside").height(),r=jQuery(e).height()-n;return jQuery("#menu-responsive").css({height:r+"px",top:n+"px"}),0==jQuery("#menu-responsive").css("right")||"0px"==jQuery("#menu-responsive").css("right")?d():(jQuery("#menu-responsive").animate({right:"0"},800,"easeInOutQuart"),jQuery(".page-body").animate({right:"260px"},800,"easeInOutQuart"),jQuery(".open-responsive-nav span").css({"background-position":"-305px 5px"})),!1})),t("#page-content").on("click","#menu-responsive",(function(){d()})),t(".toggle-item").each((function(e){t(this).find(".toggle-active").siblings(".toggle-inner").slideDown(300)})),t("body").on("click",".toggle-title",(function(){var e=t(this).parent("div").parent("div"),n=t(this).parent("div").find(".toggle-inner").css("display");return"accordion"==t(e).attr("class")?"none"!==n?(t(e).find(".toggle-item .toggle-inner").slideUp(300),t(this).toggleClass("toggle-active")):(t(e).find(".toggle-item .toggle-inner").slideUp(300),t(e).find(".toggle-item .toggle-title").removeClass("toggle-active"),t(this).toggleClass("toggle-active"),t(this).siblings(".toggle-inner").slideDown(300)):(t(this).toggleClass("toggle-active"),t(this).siblings(".toggle-inner").slideToggle(300)),!1})),t("#backtotop").click((function(){return t("html, body").animate({scrollTop:0},1e3,"easeInOutQuart"),!1})),t("body").on("mouseenter",".imgoverlay",(function(){var e=parseInt(t(this).find(".overlayinfo").height()/2);t(this).find(".overlayinfo").css({marginTop:"-"+e+"px"})}));var p=wheight-t(".main-content").height()-t("footer").height();p>0&&t(".main-inner").css({minHeight:p+"px"}),t().fitVids&&t("body").fitVids({}),t().srParallax&&t(".parallax-section").srParallax(),t().jPlayer&&t(".jp-interface").length&&t(".jp-interface").each((function(){var e=t(this).width()-175;t(this).find(".jp-progress-container").css({width:e+"px"})})),t().bgVideo&&setTimeout((function(){t(".videobg-section").bgVideo()}),1e3),t().owlCarousel&&(t(".portfolio-carousel").owlCarousel({navigation:!1,items:4,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[980,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1]}),t("#blog-carousel").owlCarousel({navigation:!1,items:3,itemsCustom:!1,itemsDesktop:[1199,3],itemsDesktopSmall:[980,2],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1]})),t().fancybox&&t(".openfancybox").fancybox({openEffect:"fade",closeEffect:"fade"}),t().perfectScrollbar&&t(".scrollbar").perfectScrollbar({suppressScrollX:!0}),i()})),t(e).scroll((function(){var r=t("a#load-more"),o=t(e).scrollTop(),a=t(n).height(),s=t(e).height();if(!loading&&r&&o/(a-s)>.5){var l=r.data("query"),u=t(r.data("container"));l&&(loading=!0,l.paged++,t.post(srvars.ajaxurl,{action:"load_more",query:JSON.stringify(l)}).done((function(e){if(e){var n=t(e);u.append(n),u.hasClass("masonry")&&u.isotope("appended",n).imagesLoaded((function(){u.isotope("layout"),setTimeout((function(){n.removeClass("loading")}),50)})),r.data("query",l)}else t("a#load-more").remove();loading=!1})).error((function(){loading=!1})))}i()}));var o=1;function a(){var e="&pageNumber="+ ++o+"&ppp=3&action=more_post_ajax";return console.log("loading posts "+o+" "+loadedPosts),t.ajax({type:"POST",dataType:"html",url:"https://www.nin.com/wp-admin/admin-ajax.php",data:e,success:function(e){var n=t(e);n.length?(t("#ajax-posts").append(n),t("#more_posts").attr("disabled",!1)):t("#more_posts").hide(),loadedPosts=!0,console.log("loaded posts "+o+" "+loadedPosts)},error:function(t,e,n){console.log(t+" :: "+e+" :: "+n),loadedPosts=!0}}),!1}t("#more_posts").on("click",(function(){t("#more_posts").attr("disabled",!0),a()}));t("#more_posts").data("category");t(e).on("scroll",(function(){t(e).scrollTop()+t(e).height()>=t(n).height()-500&&loadedPosts&&(loadedPosts=!1,a())}))}(jQuery,window,document)
;